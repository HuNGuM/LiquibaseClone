2025-01-22 19:21:56 ERROR org.example.migration.MigrationMain - Usage: java MigrationCLI <operation>
2025-01-22 19:21:56 ERROR org.example.migration.MigrationMain - Available operations: run
2025-01-22 19:22:00 ERROR org.example.migration.MigrationMain - Usage: java MigrationCLI <operation>
2025-01-22 19:22:00 ERROR org.example.migration.MigrationMain - Available operations: run
2025-01-22 19:22:47 ERROR org.example.migration.MigrationMain - Usage: java MigrationCLI <operation>
2025-01-22 19:22:47 ERROR org.example.migration.MigrationMain - Available operations: run
2025-01-22 19:33:16 ERROR org.example.migration.MigrationMain - Необходимы два аргумента: путь к исходным данным и путь к целевому расположению!
2025-01-22 19:34:00 INFO  org.example.migration.MigrationMain - Использование: migrate
2025-01-22 19:35:59 INFO  org.example.migration.MigrationMain - Использование: migrate
2025-01-22 19:36:20 INFO  org.example.migration.MigrationMain - Запуск миграции...
2025-01-22 19:36:21 INFO  o.example.migration.MigrationManager - Migration table created or already exists.
2025-01-22 19:36:21 INFO  o.example.migration.MigrationManager - Found 2 migration files.
2025-01-22 19:36:21 INFO  o.example.migration.MigrationManager - Migration already applied: version 1, file V1__initial_schema.sql
2025-01-22 19:36:21 INFO  o.example.migration.MigrationManager - Migration already applied: version 2, file V2__add_constraints.sql
2025-01-22 19:36:21 INFO  org.example.migration.MigrationMain - Миграция успешно завершена.
2025-01-22 19:37:13 INFO  org.example.migration.MigrationMain - Запуск миграции...
2025-01-22 19:37:14 INFO  o.example.migration.MigrationManager - Migration table created or already exists.
2025-01-22 19:37:14 INFO  o.example.migration.MigrationManager - Found 2 migration files.
2025-01-22 19:37:14 INFO  o.example.migration.MigrationManager - Applying migration: version 1, file V1__initial_schema.sql
2025-01-22 19:37:14 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: -- V1__initial_schema.sql

-- Создание таблицы "departments"
CREATE TABLE departments (
                             id SERIAL PRIMARY KEY,
                             name VARCHAR(100) NOT NULL
);

-- Создание таблицы "employees"
CREATE TABLE employees (
                           id SERIAL PRIMARY KEY,
                           name VARCHAR(100) NOT NULL,
                           department_id INT REFERENCES departments(id)
);

-- Создание таблицы "projects"
CREATE TABLE projects (
                          id SERIAL PRIMARY KEY,
                          name VARCHAR(100) NOT NULL
);

-- Создание таблицы "employee_projects" (Many-to-Many связь между сотрудниками и проектами)
CREATE TABLE employee_projects (
                                   employee_id INT REFERENCES employees(id),
                                   project_id INT REFERENCES projects(id),
                                   PRIMARY KEY (employee_id, project_id)
);

-- Вставка начальных данных
-- Вставка начальных данных в таблицу "departments"
INSERT INTO departments (name)
VALUES
    ('HR'),
    ('Engineering'),
    ('Sales'),
    ('Marketing'),
    ('IT Support'),
    ('Customer Service'),
    ('Logistics'),
    ('Finance'),
    ('Legal'),
    ('Research and Development');
-- Вставка сотрудников
INSERT INTO employees (name, department_id)
VALUES
    ('Alice', 1),
    ('Bob', 2),
    ('Charlie', 3),
    ('Diana', 4),
    ('Eve', 5),
    ('Frank', 6),
    ('Grace', 7),
    ('Heidi', 8),
    ('Ivan', 9),
    ('Judy', 10),
    ('Kyle', 1),
    ('Laura', 2),
    ('Mike', 3),
    ('Nina', 4),
    ('Oscar', 5),
    ('Paul', 6),
    ('Quinn', 7),
    ('Rita', 8),
    ('Steve', 9),
    ('Tina', 10),
    ('Uma', 1),
    ('Victor', 2),
    ('Wendy', 3),
    ('Xander', 4),
    ('Yasmine', 5),
    ('Zane', 6),
    ('Aaron', 7),
    ('Bella', 8),
    ('Carl', 9),
    ('Dana', 10),
    ('Elliot', 1),
    ('Fiona', 2),
    ('Gabe', 3),
    ('Holly', 4),
    ('Ian', 5),
    ('Jack', 6),
    ('Kara', 7),
    ('Liam', 8),
    ('Mona', 9),
    ('Nolan', 10),
    ('Olivia', 1),
    ('Peter', 2),
    ('Quincy', 3),
    ('Rachel', 4),
    ('Sam', 5),
    ('Tara', 6),
    ('Ursula', 7),
    ('Vince', 8),
    ('Willow', 9),
    ('Xena', 10),
    ('Yuri', 1),
    ('Zoey', 2),
    ('Adrian', 3),
    ('Blair', 4),
    ('Cody', 5),
    ('Daphne', 6),
    ('Ethan', 7),
    ('Farrah', 8),
    ('Gordon', 9),
    ('Harper', 10),
    ('Isla', 1),
    ('Jonas', 2),
    ('Kelsey', 3),
    ('Logan', 4),
    ('Maya', 5),
    ('Nathan', 6),
    ('Olga', 7),
    ('Penny', 8),
    ('Quentin', 9),
    ('Rebecca', 10),
    ('Sophie', 1),
    ('Thomas', 2),
    ('Ulysses', 3),
    ('Valerie', 4),
    ('Warren', 5),
    ('Ximena', 6),
    ('Yara', 7),
    ('Zack', 8),
    ('Amber', 9),
    ('Brad', 10),
    ('Carmen', 1),
    ('Derek', 2),
    ('Ella', 3),
    ('Floyd', 4),
    ('Gwen', 5),
    ('Hank', 6),
    ('Ivy', 7),
    ('Jasper', 8),
    ('Kaitlyn', 9),
    ('Landon', 10),
    ('Wowa', 1),  -- Новый работник
    ('Jan', 2), -- Новый работник
    ('Misha', 3),  -- Новый работник
    ('Vanya', 4), -- Новый работник
    ('Arsenij', 5),  -- Новый работник
    ('Zhenia', 6), -- Новый работник
    ('Vita', 7),  -- Новый работник
    ('Iosif', 8),   -- Новый работник
    ('Katya', 9), -- Новый работник
    ('Petrosyan', 10);
-- Вставка начальных данных в таблицу "projects"
INSERT INTO projects (name)
VALUES
    ('Project Alpha'),
    ('Project Beta'),
    ('Project Gamma'),
    ('Project Delta'),
    ('Project Epsilon'),
    ('Project Zeta'),
    ('Project Eta'),
    ('Project Theta'),
    ('Project Iota'),
    ('Project Kappa'),
    ('Project Lambda'),
    ('Project Mu'),
    ('Project Nu'),
    ('Project Xi'),
    ('Project Omicron'),
    ('Project Pi'),
    ('Project Rho'),
    ('Project Sigma'),
    ('Project Tau'),
    ('Project Upsilon'),
    ('Project Phi'),
    ('Project Chi'),
    ('Project Psi'),
    ('Project Omega'),
    ('Project Apollo'),
    ('Project Hermes'),
    ('Project Artemis'),
    ('Project Demeter'),
    ('Project Hephaestus'),
    ('Project Poseidon');


-- Назначение каждому сотруднику уникального проекта
INSERT INTO employee_projects (employee_id, project_id)
SELECT e.id AS employee_id, p.id AS project_id
FROM employees e
         JOIN projects p
              ON e.id % 30 + 1 = p.id;


2025-01-22 19:37:14 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-22 19:37:14 INFO  o.example.migration.MigrationManager - Executed migration from file: V1__initial_schema.sql
2025-01-22 19:37:14 INFO  o.example.migration.MigrationManager - Marked migration as applied: version 1
2025-01-22 19:37:14 INFO  o.example.migration.MigrationManager - Migration applied successfully: version 1
2025-01-22 19:37:14 INFO  o.example.migration.MigrationManager - Applying migration: version 2, file V2__add_constraints.sql
2025-01-22 19:37:14 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: -- V2__add_constraints.sql

-- Добавление уникального индекса на поле "name" в таблице "employees", чтобы гарантировать уникальность имени сотрудника
CREATE UNIQUE INDEX idx_employees_name ON employees(name);

-- Добавление не NULL ограничения на поле "name" в таблице "projects"
ALTER TABLE projects ALTER COLUMN name SET NOT NULL;

-- Добавление ограничения на длину имени в таблице "departments"
ALTER TABLE departments ADD CONSTRAINT chk_departments_name_length CHECK (char_length(name) >= 1);

-- Добавление индекса на поле "department_id" в таблице "employees" для ускорения поиска сотрудников по отделу
CREATE INDEX idx_employees_department_id ON employees(department_id);

-- Добавление ограничения на поля "employee_id" и "project_id" в таблице "employee_projects" для обеспечения целостности данных
ALTER TABLE employee_projects
    ADD CONSTRAINT fk_employee FOREIGN KEY (employee_id) REFERENCES employees(id) ON DELETE CASCADE,
    ADD CONSTRAINT fk_project FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE;

-- Добавление ограничения на уникальность в таблице "employee_projects", чтобы избежать дублирования записей
CREATE UNIQUE INDEX idx_employee_projects ON employee_projects(employee_id, project_id);

2025-01-22 19:37:14 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-22 19:37:14 INFO  o.example.migration.MigrationManager - Executed migration from file: V2__add_constraints.sql
2025-01-22 19:37:14 INFO  o.example.migration.MigrationManager - Marked migration as applied: version 2
2025-01-22 19:37:14 INFO  o.example.migration.MigrationManager - Migration applied successfully: version 2
2025-01-22 19:37:14 INFO  org.example.migration.MigrationMain - Миграция успешно завершена.
2025-01-22 19:44:30 INFO  org.example.migration.MigrationMain - Запуск миграции...
2025-01-22 19:44:31 INFO  o.example.migration.MigrationManager - Migration table created or already exists.
2025-01-22 19:44:31 INFO  o.example.migration.MigrationManager - Found 2 migration files.
2025-01-22 19:44:31 INFO  o.example.migration.MigrationManager - Migration already applied: version 1, file V1__initial_schema.sql
2025-01-22 19:44:31 INFO  o.example.migration.MigrationManager - Migration already applied: version 2, file V2__add_constraints.sql
2025-01-22 19:44:31 INFO  org.example.migration.MigrationMain - Миграция успешно завершена.
2025-01-22 19:46:04 INFO  org.example.migration.MigrationMain - Запуск миграции...
2025-01-22 19:46:05 INFO  o.example.migration.MigrationManager - Migration table created or already exists.
2025-01-22 19:46:05 INFO  o.example.migration.MigrationManager - Found 2 migration files.
2025-01-22 19:46:05 INFO  o.example.migration.MigrationManager - Applying migration: version 1, file V1__initial_schema.sql
2025-01-22 19:46:05 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: -- V1__initial_schema.sql

-- Создание таблицы "departments"
CREATE TABLE departments (
                             id SERIAL PRIMARY KEY,
                             name VARCHAR(100) NOT NULL
);

-- Создание таблицы "employees"
CREATE TABLE employees (
                           id SERIAL PRIMARY KEY,
                           name VARCHAR(100) NOT NULL,
                           department_id INT REFERENCES departments(id)
);

-- Создание таблицы "projects"
CREATE TABLE projects (
                          id SERIAL PRIMARY KEY,
                          name VARCHAR(100) NOT NULL
);

-- Создание таблицы "employee_projects" (Many-to-Many связь между сотрудниками и проектами)
CREATE TABLE employee_projects (
                                   employee_id INT REFERENCES employees(id),
                                   project_id INT REFERENCES projects(id),
                                   PRIMARY KEY (employee_id, project_id)
);

-- Вставка начальных данных
-- Вставка начальных данных в таблицу "departments"
INSERT INTO departments (name)
VALUES
    ('HR'),
    ('Engineering'),
    ('Sales'),
    ('Marketing'),
    ('IT Support'),
    ('Customer Service'),
    ('Logistics'),
    ('Finance'),
    ('Legal'),
    ('Research and Development');
-- Вставка сотрудников
INSERT INTO employees (name, department_id)
VALUES
    ('Alice', 1),
    ('Bob', 2),
    ('Charlie', 3),
    ('Diana', 4),
    ('Eve', 5),
    ('Frank', 6),
    ('Grace', 7),
    ('Heidi', 8),
    ('Ivan', 9),
    ('Judy', 10),
    ('Kyle', 1),
    ('Laura', 2),
    ('Mike', 3),
    ('Nina', 4),
    ('Oscar', 5),
    ('Paul', 6),
    ('Quinn', 7),
    ('Rita', 8),
    ('Steve', 9),
    ('Tina', 10),
    ('Uma', 1),
    ('Victor', 2),
    ('Wendy', 3),
    ('Xander', 4),
    ('Yasmine', 5),
    ('Zane', 6),
    ('Aaron', 7),
    ('Bella', 8),
    ('Carl', 9),
    ('Dana', 10),
    ('Elliot', 1),
    ('Fiona', 2),
    ('Gabe', 3),
    ('Holly', 4),
    ('Ian', 5),
    ('Jack', 6),
    ('Kara', 7),
    ('Liam', 8),
    ('Mona', 9),
    ('Nolan', 10),
    ('Olivia', 1),
    ('Peter', 2),
    ('Quincy', 3),
    ('Rachel', 4),
    ('Sam', 5),
    ('Tara', 6),
    ('Ursula', 7),
    ('Vince', 8),
    ('Willow', 9),
    ('Xena', 10),
    ('Yuri', 1),
    ('Zoey', 2),
    ('Adrian', 3),
    ('Blair', 4),
    ('Cody', 5),
    ('Daphne', 6),
    ('Ethan', 7),
    ('Farrah', 8),
    ('Gordon', 9),
    ('Harper', 10),
    ('Isla', 1),
    ('Jonas', 2),
    ('Kelsey', 3),
    ('Logan', 4),
    ('Maya', 5),
    ('Nathan', 6),
    ('Olga', 7),
    ('Penny', 8),
    ('Quentin', 9),
    ('Rebecca', 10),
    ('Sophie', 1),
    ('Thomas', 2),
    ('Ulysses', 3),
    ('Valerie', 4),
    ('Warren', 5),
    ('Ximena', 6),
    ('Yara', 7),
    ('Zack', 8),
    ('Amber', 9),
    ('Brad', 10),
    ('Carmen', 1),
    ('Derek', 2),
    ('Ella', 3),
    ('Floyd', 4),
    ('Gwen', 5),
    ('Hank', 6),
    ('Ivy', 7),
    ('Jasper', 8),
    ('Kaitlyn', 9),
    ('Landon', 10),
    ('Wowa', 1),  -- Новый работник
    ('Jan', 2), -- Новый работник
    ('Misha', 3),  -- Новый работник
    ('Vanya', 4), -- Новый работник
    ('Arsenij', 5),  -- Новый работник
    ('Zhenia', 6), -- Новый работник
    ('Vita', 7),  -- Новый работник
    ('Iosif', 8),   -- Новый работник
    ('Katya', 9), -- Новый работник
    ('Petrosyan', 10);
-- Вставка начальных данных в таблицу "projects"
INSERT INTO projects (name)
VALUES
    ('Project Alpha'),
    ('Project Beta'),
    ('Project Gamma'),
    ('Project Delta'),
    ('Project Epsilon'),
    ('Project Zeta'),
    ('Project Eta'),
    ('Project Theta'),
    ('Project Iota'),
    ('Project Kappa'),
    ('Project Lambda'),
    ('Project Mu'),
    ('Project Nu'),
    ('Project Xi'),
    ('Project Omicron'),
    ('Project Pi'),
    ('Project Rho'),
    ('Project Sigma'),
    ('Project Tau'),
    ('Project Upsilon'),
    ('Project Phi'),
    ('Project Chi'),
    ('Project Psi'),
    ('Project Omega'),
    ('Project Apollo'),
    ('Project Hermes'),
    ('Project Artemis'),
    ('Project Demeter'),
    ('Project Hephaestus'),
    ('Project Poseidon');


-- Назначение каждому сотруднику уникального проекта
INSERT INTO employee_projects (employee_id, project_id)
SELECT e.id AS employee_id, p.id AS project_id
FROM employees e
         JOIN projects p
              ON e.id % 30 + 1 = p.id;


2025-01-22 19:46:05 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-22 19:46:05 INFO  o.example.migration.MigrationManager - Executed migration from file: V1__initial_schema.sql
2025-01-22 19:46:05 INFO  o.example.migration.MigrationManager - Marked migration as applied: version 1
2025-01-22 19:46:05 INFO  o.example.migration.MigrationManager - Migration applied successfully: version 1
2025-01-22 19:46:05 INFO  o.example.migration.MigrationManager - Applying migration: version 2, file V2__add_constraints.sql
2025-01-22 19:46:05 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: -- V2__add_constraints.sql

-- Добавление уникального индекса на поле "name" в таблице "employees", чтобы гарантировать уникальность имени сотрудника
CREATE UNIQUE INDEX idx_employees_name ON employees(name);

-- Добавление не NULL ограничения на поле "name" в таблице "projects"
ALTER TABLE projects ALTER COLUMN name SET NOT NULL;

-- Добавление ограничения на длину имени в таблице "departments"
ALTER TABLE departments ADD CONSTRAINT chk_departments_name_length CHECK (char_length(name) >= 1);

-- Добавление индекса на поле "department_id" в таблице "employees" для ускорения поиска сотрудников по отделу
CREATE INDEX idx_employees_department_id ON employees(department_id);

-- Добавление ограничения на поля "employee_id" и "project_id" в таблице "employee_projects" для обеспечения целостности данных
ALTER TABLE employee_projects
    ADD CONSTRAINT fk_employee FOREIGN KEY (employee_id) REFERENCES employees(id) ON DELETE CASCADE,
    ADD CONSTRAINT fk_project FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE;

-- Добавление ограничения на уникальность в таблице "employee_projects", чтобы избежать дублирования записей
CREATE UNIQUE INDEX idx_employee_projects ON employee_projects(employee_id, project_id);

2025-01-22 19:46:05 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-22 19:46:05 INFO  o.example.migration.MigrationManager - Executed migration from file: V2__add_constraints.sql
2025-01-22 19:46:05 INFO  o.example.migration.MigrationManager - Marked migration as applied: version 2
2025-01-22 19:46:05 INFO  o.example.migration.MigrationManager - Migration applied successfully: version 2
2025-01-22 19:46:05 INFO  org.example.migration.MigrationMain - Миграция успешно завершена.
2025-01-22 19:46:13 INFO  org.example.migration.MigrationMain - Запуск миграции...
2025-01-22 19:46:14 INFO  o.example.migration.MigrationManager - Migration table created or already exists.
2025-01-22 19:46:14 INFO  o.example.migration.MigrationManager - Found 2 migration files.
2025-01-22 19:46:14 INFO  o.example.migration.MigrationManager - Migration already applied: version 1, file V1__initial_schema.sql
2025-01-22 19:46:14 INFO  o.example.migration.MigrationManager - Migration already applied: version 2, file V2__add_constraints.sql
2025-01-22 19:46:14 INFO  org.example.migration.MigrationMain - Миграция успешно завершена.
2025-01-23 19:38:52 INFO  org.example.migration.MigrationMain - Запуск миграции...
2025-01-23 19:38:53 INFO  o.example.migration.MigrationManager - Migration table created or already exists.
2025-01-23 19:38:53 INFO  o.example.migration.MigrationManager - Found 2 migration files.
2025-01-23 19:38:53 INFO  o.example.migration.MigrationManager - Migration already applied: version 1, file V1__initial_schema.sql
2025-01-23 19:38:53 INFO  o.example.migration.MigrationManager - Migration already applied: version 2, file V2__add_constraints.sql
2025-01-23 19:38:53 INFO  org.example.migration.MigrationMain - Миграция успешно завершена.
2025-01-25 12:12:58 INFO  org.example.migration.MigrationMain - Запуск миграции...
2025-01-25 12:12:59 INFO  o.example.migration.MigrationManager - Migration table created or already exists.
2025-01-25 12:12:59 INFO  o.example.migration.MigrationManager - Found 2 migration files.
2025-01-25 12:12:59 INFO  o.example.migration.MigrationManager - Applying migration: version 1, file V1__initial_schema.sql
2025-01-25 12:12:59 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: -- V1__initial_schema.sql

-- Создание таблицы "departments"
CREATE TABLE departments (
                             id SERIAL PRIMARY KEY,
                             name VARCHAR(100) NOT NULL
);

-- Создание таблицы "employees"
CREATE TABLE employees (
                           id SERIAL PRIMARY KEY,
                           name VARCHAR(100) NOT NULL,
                           department_id INT REFERENCES departments(id)
);

-- Создание таблицы "projects"
CREATE TABLE projects (
                          id SERIAL PRIMARY KEY,
                          name VARCHAR(100) NOT NULL
);

-- Создание таблицы "employee_projects" (Many-to-Many связь между сотрудниками и проектами)
CREATE TABLE employee_projects (
                                   employee_id INT REFERENCES employees(id),
                                   project_id INT REFERENCES projects(id),
                                   PRIMARY KEY (employee_id, project_id)
);

-- Вставка начальных данных
-- Вставка начальных данных в таблицу "departments"
INSERT INTO departments (name)
VALUES
    ('HR'),
    ('Engineering'),
    ('Sales'),
    ('Marketing'),
    ('IT Support'),
    ('Customer Service'),
    ('Logistics'),
    ('Finance'),
    ('Legal'),
    ('Research and Development');
-- Вставка сотрудников
INSERT INTO employees (name, department_id)
VALUES
    ('Alice', 1),
    ('Bob', 2),
    ('Charlie', 3),
    ('Diana', 4),
    ('Eve', 5),
    ('Frank', 6),
    ('Grace', 7),
    ('Heidi', 8),
    ('Ivan', 9),
    ('Judy', 10),
    ('Kyle', 1),
    ('Laura', 2),
    ('Mike', 3),
    ('Nina', 4),
    ('Oscar', 5),
    ('Paul', 6),
    ('Quinn', 7),
    ('Rita', 8),
    ('Steve', 9),
    ('Tina', 10),
    ('Uma', 1),
    ('Victor', 2),
    ('Wendy', 3),
    ('Xander', 4),
    ('Yasmine', 5),
    ('Zane', 6),
    ('Aaron', 7),
    ('Bella', 8),
    ('Carl', 9),
    ('Dana', 10),
    ('Elliot', 1),
    ('Fiona', 2),
    ('Gabe', 3),
    ('Holly', 4),
    ('Ian', 5),
    ('Jack', 6),
    ('Kara', 7),
    ('Liam', 8),
    ('Mona', 9),
    ('Nolan', 10),
    ('Olivia', 1),
    ('Peter', 2),
    ('Quincy', 3),
    ('Rachel', 4),
    ('Sam', 5),
    ('Tara', 6),
    ('Ursula', 7),
    ('Vince', 8),
    ('Willow', 9),
    ('Xena', 10),
    ('Yuri', 1),
    ('Zoey', 2),
    ('Adrian', 3),
    ('Blair', 4),
    ('Cody', 5),
    ('Daphne', 6),
    ('Ethan', 7),
    ('Farrah', 8),
    ('Gordon', 9),
    ('Harper', 10),
    ('Isla', 1),
    ('Jonas', 2),
    ('Kelsey', 3),
    ('Logan', 4),
    ('Maya', 5),
    ('Nathan', 6),
    ('Olga', 7),
    ('Penny', 8),
    ('Quentin', 9),
    ('Rebecca', 10),
    ('Sophie', 1),
    ('Thomas', 2),
    ('Ulysses', 3),
    ('Valerie', 4),
    ('Warren', 5),
    ('Ximena', 6),
    ('Yara', 7),
    ('Zack', 8),
    ('Amber', 9),
    ('Brad', 10),
    ('Carmen', 1),
    ('Derek', 2),
    ('Ella', 3),
    ('Floyd', 4),
    ('Gwen', 5),
    ('Hank', 6),
    ('Ivy', 7),
    ('Jasper', 8),
    ('Kaitlyn', 9),
    ('Landon', 10),
    ('Wowa', 1),  -- Новый работник
    ('Jan', 2), -- Новый работник
    ('Misha', 3),  -- Новый работник
    ('Vanya', 4), -- Новый работник
    ('Arsenij', 5),  -- Новый работник
    ('Zhenia', 6), -- Новый работник
    ('Vita', 7),  -- Новый работник
    ('Iosif', 8),   -- Новый работник
    ('Katya', 9), -- Новый работник
    ('Petrosyan', 10);
-- Вставка начальных данных в таблицу "projects"
INSERT INTO projects (name)
VALUES
    ('Project Alpha'),
    ('Project Beta'),
    ('Project Gamma'),
    ('Project Delta'),
    ('Project Epsilon'),
    ('Project Zeta'),
    ('Project Eta'),
    ('Project Theta'),
    ('Project Iota'),
    ('Project Kappa'),
    ('Project Lambda'),
    ('Project Mu'),
    ('Project Nu'),
    ('Project Xi'),
    ('Project Omicron'),
    ('Project Pi'),
    ('Project Rho'),
    ('Project Sigma'),
    ('Project Tau'),
    ('Project Upsilon'),
    ('Project Phi'),
    ('Project Chi'),
    ('Project Psi'),
    ('Project Omega'),
    ('Project Apollo'),
    ('Project Hermes'),
    ('Project Artemis'),
    ('Project Demeter'),
    ('Project Hephaestus'),
    ('Project Poseidon');


-- Назначение каждому сотруднику уникального проекта
INSERT INTO employee_projects (employee_id, project_id)
SELECT e.id AS employee_id, p.id AS project_id
FROM employees e
         JOIN projects p
              ON e.id % 30 + 1 = p.id;


2025-01-25 12:12:59 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-25 12:12:59 INFO  o.example.migration.MigrationManager - Executed migration from file: V1__initial_schema.sql
2025-01-25 12:12:59 INFO  o.example.migration.MigrationManager - Marked migration as applied: version 1
2025-01-25 12:12:59 INFO  o.example.migration.MigrationManager - Migration applied successfully: version 1
2025-01-25 12:12:59 INFO  o.example.migration.MigrationManager - Applying migration: version 2, file V2__add_constraints.sql
2025-01-25 12:12:59 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: -- V2__add_constraints.sql

-- Добавление уникального индекса на поле "name" в таблице "employees", чтобы гарантировать уникальность имени сотрудника
CREATE UNIQUE INDEX idx_employees_name ON employees(name);

-- Добавление не NULL ограничения на поле "name" в таблице "projects"
ALTER TABLE projects ALTER COLUMN name SET NOT NULL;

-- Добавление ограничения на длину имени в таблице "departments"
ALTER TABLE departments ADD CONSTRAINT chk_departments_name_length CHECK (char_length(name) >= 1);

-- Добавление индекса на поле "department_id" в таблице "employees" для ускорения поиска сотрудников по отделу
CREATE INDEX idx_employees_department_id ON employees(department_id);

-- Добавление ограничения на поля "employee_id" и "project_id" в таблице "employee_projects" для обеспечения целостности данных
ALTER TABLE employee_projects
    ADD CONSTRAINT fk_employee FOREIGN KEY (employee_id) REFERENCES employees(id) ON DELETE CASCADE,
    ADD CONSTRAINT fk_project FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE;

-- Добавление ограничения на уникальность в таблице "employee_projects", чтобы избежать дублирования записей
CREATE UNIQUE INDEX idx_employee_projects ON employee_projects(employee_id, project_id);

2025-01-25 12:12:59 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-25 12:12:59 INFO  o.example.migration.MigrationManager - Executed migration from file: V2__add_constraints.sql
2025-01-25 12:12:59 INFO  o.example.migration.MigrationManager - Marked migration as applied: version 2
2025-01-25 12:12:59 INFO  o.example.migration.MigrationManager - Migration applied successfully: version 2
2025-01-25 12:12:59 INFO  org.example.migration.MigrationMain - Миграция успешно завершена.
2025-01-26 10:09:59 INFO  org.example.migration.MigrationMain - Запуск программы управления миграциями...
2025-01-26 10:09:59 INFO  org.example.migration.MigrationMain - Выберите действие:
2025-01-26 10:09:59 INFO  org.example.migration.MigrationMain - 1: Выполнить миграции
2025-01-26 10:09:59 INFO  org.example.migration.MigrationMain - 2: Откатить до определённой даты
2025-01-26 10:10:08 INFO  org.example.migration.MigrationMain - Запуск миграций...
2025-01-26 10:10:08 INFO  o.example.migration.MigrationManager - Migration table created or already exists.
2025-01-26 10:10:08 INFO  o.example.migration.MigrationManager - Found 2 migration files.
2025-01-26 10:10:08 INFO  o.example.migration.MigrationManager - Migration already applied: version 1, file V1__initial_schema.sql
2025-01-26 10:10:08 INFO  o.example.migration.MigrationManager - Migration already applied: version 2, file V2__add_constraints.sql
2025-01-26 10:10:08 INFO  org.example.migration.MigrationMain - Миграции успешно завершены.
2025-01-26 10:10:35 INFO  org.example.migration.MigrationMain - Запуск программы управления миграциями...
2025-01-26 10:10:36 INFO  org.example.migration.MigrationMain - Выберите действие:
2025-01-26 10:10:36 INFO  org.example.migration.MigrationMain - 1: Выполнить миграции
2025-01-26 10:10:36 INFO  org.example.migration.MigrationMain - 2: Откатить до определённой даты
2025-01-26 10:10:52 INFO  org.example.migration.MigrationMain - Введите дату отката в формате 'YYYY-MM-DD HH:MM:SS':
2025-01-26 10:11:30 INFO  org.example.migration.MigrationMain - Попытка откатить миграции до 2025-01-25T10:00
2025-01-26 10:11:30 INFO  o.example.migration.MigrationManager - Migration table created or already exists.
2025-01-26 10:11:30 INFO  o.example.migration.MigrationManager - Found 2 migrations to rollback.
2025-01-26 10:11:30 WARN  o.example.migration.MigrationManager - Rollback script not found for version 2: R2__rollback.sql
2025-01-26 10:11:30 WARN  o.example.migration.MigrationManager - Rollback script not found for version 1: R1__rollback.sql
2025-01-26 10:11:30 INFO  org.example.migration.MigrationMain - Откат миграций выполнен до 2025-01-25T10:00
2025-01-26 10:15:13 INFO  org.example.migration.MigrationMain - Запуск программы управления миграциями...
2025-01-26 10:15:14 INFO  org.example.migration.MigrationMain - Выберите действие:
2025-01-26 10:15:14 INFO  org.example.migration.MigrationMain - 1: Выполнить миграции
2025-01-26 10:15:14 INFO  org.example.migration.MigrationMain - 2: Откатить до определённой даты
2025-01-26 10:15:19 INFO  org.example.migration.MigrationMain - Введите дату отката в формате 'YYYY-MM-DD HH:MM:SS':
2025-01-26 10:15:32 INFO  org.example.migration.MigrationMain - Попытка откатить миграции до 2025-01-26T10:00
2025-01-26 10:15:32 INFO  o.example.migration.MigrationManager - Migration table created or already exists.
2025-01-26 10:15:32 INFO  o.example.migration.MigrationManager - No migrations to rollback after 2025-01-26T10:00
2025-01-26 10:15:32 INFO  org.example.migration.MigrationMain - Откат миграций выполнен до 2025-01-26T10:00
2025-01-26 10:16:20 INFO  org.example.migration.MigrationMain - Запуск программы управления миграциями...
2025-01-26 10:16:21 INFO  org.example.migration.MigrationMain - Выберите действие:
2025-01-26 10:16:21 INFO  org.example.migration.MigrationMain - 1: Выполнить миграции
2025-01-26 10:16:21 INFO  org.example.migration.MigrationMain - 2: Откатить до определённой даты
2025-01-26 10:16:25 INFO  org.example.migration.MigrationMain - Введите дату отката в формате 'YYYY-MM-DD HH:MM:SS':
2025-01-26 10:16:32 INFO  org.example.migration.MigrationMain - Попытка откатить миграции до 2025-01-26T09:00
2025-01-26 10:16:32 INFO  o.example.migration.MigrationManager - Migration table created or already exists.
2025-01-26 10:16:32 INFO  o.example.migration.MigrationManager - No migrations to rollback after 2025-01-26T09:00
2025-01-26 10:16:32 INFO  org.example.migration.MigrationMain - Откат миграций выполнен до 2025-01-26T09:00
2025-01-26 10:17:37 INFO  org.example.migration.MigrationMain - Запуск программы управления миграциями...
2025-01-26 10:17:38 INFO  org.example.migration.MigrationMain - Выберите действие:
2025-01-26 10:17:38 INFO  org.example.migration.MigrationMain - 1: Выполнить миграции
2025-01-26 10:17:38 INFO  org.example.migration.MigrationMain - 2: Откатить до определённой даты
2025-01-26 10:17:42 INFO  org.example.migration.MigrationMain - Введите дату отката в формате 'YYYY-MM-DD HH:MM:SS':
2025-01-26 10:17:49 INFO  org.example.migration.MigrationMain - Попытка откатить миграции до 2025-01-26T09:00
2025-01-26 10:17:49 INFO  o.example.migration.MigrationManager - Migration table created or already exists.
2025-01-26 10:17:49 INFO  o.example.migration.MigrationManager - No migrations to rollback after 2025-01-26T09:00
2025-01-26 10:17:49 INFO  org.example.migration.MigrationMain - Откат миграций выполнен до 2025-01-26T09:00
2025-01-26 10:19:27 INFO  org.example.migration.MigrationMain - Запуск программы управления миграциями...
2025-01-26 10:19:28 INFO  org.example.migration.MigrationMain - Выберите действие:
2025-01-26 10:19:28 INFO  org.example.migration.MigrationMain - 1: Выполнить миграции
2025-01-26 10:19:28 INFO  org.example.migration.MigrationMain - 2: Откатить до определённой даты
2025-01-26 10:19:34 INFO  org.example.migration.MigrationMain - Запуск миграций...
2025-01-26 10:19:34 INFO  o.example.migration.MigrationManager - Migration table created or already exists.
2025-01-26 10:19:34 INFO  o.example.migration.MigrationManager - Found 3 migration files.
2025-01-26 10:19:34 INFO  o.example.migration.MigrationManager - Migration already applied: version 1, file V1__initial_schema.sql
2025-01-26 10:19:34 INFO  o.example.migration.MigrationManager - Migration already applied: version 2, file V2__add_constraints.sql
2025-01-26 10:19:34 INFO  org.example.migration.MigrationMain - Миграции успешно завершены.
2025-01-26 10:19:56 INFO  org.example.migration.MigrationMain - Запуск программы управления миграциями...
2025-01-26 10:19:57 INFO  org.example.migration.MigrationMain - Выберите действие:
2025-01-26 10:19:57 INFO  org.example.migration.MigrationMain - 1: Выполнить миграции
2025-01-26 10:19:57 INFO  org.example.migration.MigrationMain - 2: Откатить до определённой даты
2025-01-26 10:20:01 INFO  org.example.migration.MigrationMain - Запуск миграций...
2025-01-26 10:20:01 INFO  o.example.migration.MigrationManager - Migration table created or already exists.
2025-01-26 10:20:01 INFO  o.example.migration.MigrationManager - Found 3 migration files.
2025-01-26 10:20:01 INFO  o.example.migration.MigrationManager - Migration already applied: version 1, file V1__initial_schema.sql
2025-01-26 10:20:01 INFO  o.example.migration.MigrationManager - Migration already applied: version 2, file V2__add_constraints.sql
2025-01-26 10:20:01 INFO  org.example.migration.MigrationMain - Миграции успешно завершены.
2025-01-26 10:20:33 INFO  org.example.migration.MigrationMain - Запуск программы управления миграциями...
2025-01-26 10:20:34 INFO  org.example.migration.MigrationMain - Выберите действие:
2025-01-26 10:20:34 INFO  org.example.migration.MigrationMain - 1: Выполнить миграции
2025-01-26 10:20:34 INFO  org.example.migration.MigrationMain - 2: Откатить до определённой даты
2025-01-26 10:20:38 INFO  org.example.migration.MigrationMain - Запуск миграций...
2025-01-26 10:20:38 INFO  o.example.migration.MigrationManager - Migration table created or already exists.
2025-01-26 10:20:38 INFO  o.example.migration.MigrationManager - Found 3 migration files.
2025-01-26 10:20:38 INFO  o.example.migration.MigrationManager - Applying migration: version 1, file V1__initial_schema.sql
2025-01-26 10:20:38 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: -- V1__initial_schema.sql

-- Создание таблицы "departments"
CREATE TABLE departments (
                             id SERIAL PRIMARY KEY,
                             name VARCHAR(100) NOT NULL
);

-- Создание таблицы "employees"
CREATE TABLE employees (
                           id SERIAL PRIMARY KEY,
                           name VARCHAR(100) NOT NULL,
                           department_id INT REFERENCES departments(id)
);

-- Создание таблицы "projects"
CREATE TABLE projects (
                          id SERIAL PRIMARY KEY,
                          name VARCHAR(100) NOT NULL
);

-- Создание таблицы "employee_projects" (Many-to-Many связь между сотрудниками и проектами)
CREATE TABLE employee_projects (
                                   employee_id INT REFERENCES employees(id),
                                   project_id INT REFERENCES projects(id),
                                   PRIMARY KEY (employee_id, project_id)
);

-- Вставка начальных данных
-- Вставка начальных данных в таблицу "departments"
INSERT INTO departments (name)
VALUES
    ('HR'),
    ('Engineering'),
    ('Sales'),
    ('Marketing'),
    ('IT Support'),
    ('Customer Service'),
    ('Logistics'),
    ('Finance'),
    ('Legal'),
    ('Research and Development');
-- Вставка сотрудников
INSERT INTO employees (name, department_id)
VALUES
    ('Alice', 1),
    ('Bob', 2),
    ('Charlie', 3),
    ('Diana', 4),
    ('Eve', 5),
    ('Frank', 6),
    ('Grace', 7),
    ('Heidi', 8),
    ('Ivan', 9),
    ('Judy', 10),
    ('Kyle', 1),
    ('Laura', 2),
    ('Mike', 3),
    ('Nina', 4),
    ('Oscar', 5),
    ('Paul', 6),
    ('Quinn', 7),
    ('Rita', 8),
    ('Steve', 9),
    ('Tina', 10),
    ('Uma', 1),
    ('Victor', 2),
    ('Wendy', 3),
    ('Xander', 4),
    ('Yasmine', 5),
    ('Zane', 6),
    ('Aaron', 7),
    ('Bella', 8),
    ('Carl', 9),
    ('Dana', 10),
    ('Elliot', 1),
    ('Fiona', 2),
    ('Gabe', 3),
    ('Holly', 4),
    ('Ian', 5),
    ('Jack', 6),
    ('Kara', 7),
    ('Liam', 8),
    ('Mona', 9),
    ('Nolan', 10),
    ('Olivia', 1),
    ('Peter', 2),
    ('Quincy', 3),
    ('Rachel', 4),
    ('Sam', 5),
    ('Tara', 6),
    ('Ursula', 7),
    ('Vince', 8),
    ('Willow', 9),
    ('Xena', 10),
    ('Yuri', 1),
    ('Zoey', 2),
    ('Adrian', 3),
    ('Blair', 4),
    ('Cody', 5),
    ('Daphne', 6),
    ('Ethan', 7),
    ('Farrah', 8),
    ('Gordon', 9),
    ('Harper', 10),
    ('Isla', 1),
    ('Jonas', 2),
    ('Kelsey', 3),
    ('Logan', 4),
    ('Maya', 5),
    ('Nathan', 6),
    ('Olga', 7),
    ('Penny', 8),
    ('Quentin', 9),
    ('Rebecca', 10),
    ('Sophie', 1),
    ('Thomas', 2),
    ('Ulysses', 3),
    ('Valerie', 4),
    ('Warren', 5),
    ('Ximena', 6),
    ('Yara', 7),
    ('Zack', 8),
    ('Amber', 9),
    ('Brad', 10),
    ('Carmen', 1),
    ('Derek', 2),
    ('Ella', 3),
    ('Floyd', 4),
    ('Gwen', 5),
    ('Hank', 6),
    ('Ivy', 7),
    ('Jasper', 8),
    ('Kaitlyn', 9),
    ('Landon', 10),
    ('Wowa', 1),  -- Новый работник
    ('Jan', 2), -- Новый работник
    ('Misha', 3),  -- Новый работник
    ('Vanya', 4), -- Новый работник
    ('Arsenij', 5),  -- Новый работник
    ('Zhenia', 6), -- Новый работник
    ('Vita', 7),  -- Новый работник
    ('Iosif', 8),   -- Новый работник
    ('Katya', 9), -- Новый работник
    ('Petrosyan', 10);
-- Вставка начальных данных в таблицу "projects"
INSERT INTO projects (name)
VALUES
    ('Project Alpha'),
    ('Project Beta'),
    ('Project Gamma'),
    ('Project Delta'),
    ('Project Epsilon'),
    ('Project Zeta'),
    ('Project Eta'),
    ('Project Theta'),
    ('Project Iota'),
    ('Project Kappa'),
    ('Project Lambda'),
    ('Project Mu'),
    ('Project Nu'),
    ('Project Xi'),
    ('Project Omicron'),
    ('Project Pi'),
    ('Project Rho'),
    ('Project Sigma'),
    ('Project Tau'),
    ('Project Upsilon'),
    ('Project Phi'),
    ('Project Chi'),
    ('Project Psi'),
    ('Project Omega'),
    ('Project Apollo'),
    ('Project Hermes'),
    ('Project Artemis'),
    ('Project Demeter'),
    ('Project Hephaestus'),
    ('Project Poseidon');


-- Назначение каждому сотруднику уникального проекта
INSERT INTO employee_projects (employee_id, project_id)
SELECT e.id AS employee_id, p.id AS project_id
FROM employees e
         JOIN projects p
              ON e.id % 30 + 1 = p.id;


2025-01-26 10:20:38 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-26 10:20:38 INFO  o.example.migration.MigrationManager - Executed migration from file: V1__initial_schema.sql
2025-01-26 10:20:38 INFO  o.example.migration.MigrationManager - Marked migration as applied: version 1
2025-01-26 10:20:38 INFO  o.example.migration.MigrationManager - Migration applied successfully: version 1
2025-01-26 10:20:38 INFO  o.example.migration.MigrationManager - Applying migration: version 2, file V2__add_constraints.sql
2025-01-26 10:20:38 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: -- V2__add_constraints.sql

-- Добавление уникального индекса на поле "name" в таблице "employees", чтобы гарантировать уникальность имени сотрудника
CREATE UNIQUE INDEX idx_employees_name ON employees(name);

-- Добавление не NULL ограничения на поле "name" в таблице "projects"
ALTER TABLE projects ALTER COLUMN name SET NOT NULL;

-- Добавление ограничения на длину имени в таблице "departments"
ALTER TABLE departments ADD CONSTRAINT chk_departments_name_length CHECK (char_length(name) >= 1);

-- Добавление индекса на поле "department_id" в таблице "employees" для ускорения поиска сотрудников по отделу
CREATE INDEX idx_employees_department_id ON employees(department_id);

-- Добавление ограничения на поля "employee_id" и "project_id" в таблице "employee_projects" для обеспечения целостности данных
ALTER TABLE employee_projects
    ADD CONSTRAINT fk_employee FOREIGN KEY (employee_id) REFERENCES employees(id) ON DELETE CASCADE,
    ADD CONSTRAINT fk_project FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE;

-- Добавление ограничения на уникальность в таблице "employee_projects", чтобы избежать дублирования записей
CREATE UNIQUE INDEX idx_employee_projects ON employee_projects(employee_id, project_id);

2025-01-26 10:20:38 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-26 10:20:38 INFO  o.example.migration.MigrationManager - Executed migration from file: V2__add_constraints.sql
2025-01-26 10:20:38 INFO  o.example.migration.MigrationManager - Marked migration as applied: version 2
2025-01-26 10:20:38 INFO  o.example.migration.MigrationManager - Migration applied successfully: version 2
2025-01-26 10:20:38 INFO  org.example.migration.MigrationMain - Миграции успешно завершены.
2025-01-26 10:20:48 INFO  org.example.migration.MigrationMain - Запуск программы управления миграциями...
2025-01-26 10:20:49 INFO  org.example.migration.MigrationMain - Выберите действие:
2025-01-26 10:20:49 INFO  org.example.migration.MigrationMain - 1: Выполнить миграции
2025-01-26 10:20:49 INFO  org.example.migration.MigrationMain - 2: Откатить до определённой даты
2025-01-26 10:20:54 INFO  org.example.migration.MigrationMain - Введите дату отката в формате 'YYYY-MM-DD HH:MM:SS':
2025-01-26 10:21:18 INFO  org.example.migration.MigrationMain - Попытка откатить миграции до 2025-01-26T10:19
2025-01-26 10:21:18 INFO  o.example.migration.MigrationManager - Migration table created or already exists.
2025-01-26 10:21:18 INFO  o.example.migration.MigrationManager - Found 2 migrations to rollback.
2025-01-26 10:21:18 WARN  o.example.migration.MigrationManager - Rollback script not found for version 2: R2__rollback.sql
2025-01-26 10:21:18 INFO  o.example.migration.MigrationManager - Rolling back migration version 1 using file R1__rollback.sql
2025-01-26 10:21:18 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: 
2025-01-26 10:21:18 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-26 10:21:18 INFO  o.example.migration.MigrationManager - Rolled back migration version 1 successfully.
2025-01-26 10:21:18 INFO  org.example.migration.MigrationMain - Откат миграций выполнен до 2025-01-26T10:19
2025-01-26 10:23:08 INFO  org.example.migration.MigrationMain - Запуск программы управления миграциями...
2025-01-26 10:23:09 INFO  org.example.migration.MigrationMain - Выберите действие:
2025-01-26 10:23:09 INFO  org.example.migration.MigrationMain - 1: Выполнить миграции
2025-01-26 10:23:09 INFO  org.example.migration.MigrationMain - 2: Откатить до определённой даты
2025-01-26 10:23:13 INFO  org.example.migration.MigrationMain - Введите дату отката в формате 'YYYY-MM-DD HH:MM:SS':
2025-01-26 10:23:28 INFO  org.example.migration.MigrationMain - Попытка откатить миграции до 2025-01-26T10:19
2025-01-26 10:23:28 INFO  o.example.migration.MigrationManager - Migration table created or already exists.
2025-01-26 10:23:28 INFO  o.example.migration.MigrationManager - Found 1 migrations to rollback.
2025-01-26 10:23:28 INFO  o.example.migration.MigrationManager - Rolling back migration version 2 using file R2__rollback.sql
2025-01-26 10:23:28 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: -- R2__rollback_initial_schema.sql

-- Удаление уникального индекса на поле "name" в таблице "employees"
DROP INDEX IF EXISTS idx_employees_name;

-- Снятие NOT NULL ограничения с поля "name" в таблице "projects"
ALTER TABLE projects ALTER COLUMN name DROP NOT NULL;

-- Удаление ограничения на длину имени в таблице "departments"
ALTER TABLE departments DROP CONSTRAINT IF EXISTS chk_departments_name_length;

-- Удаление индекса на поле "department_id" в таблице "employees"
DROP INDEX IF EXISTS idx_employees_department_id;

-- Удаление ограничений внешнего ключа из таблицы "employee_projects"
ALTER TABLE employee_projects
    DROP CONSTRAINT IF EXISTS fk_employee,
    DROP CONSTRAINT IF EXISTS fk_project;

-- Удаление уникального индекса на поля "employee_id" и "project_id" в таблице "employee_projects"
DROP INDEX IF EXISTS idx_employee_projects;
2025-01-26 10:23:28 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-26 10:23:28 INFO  o.example.migration.MigrationManager - Rolled back migration version 2 successfully.
2025-01-26 10:23:28 INFO  org.example.migration.MigrationMain - Откат миграций выполнен до 2025-01-26T10:19
2025-01-26 10:25:11 INFO  org.example.migration.MigrationMain - Запуск программы управления миграциями...
2025-01-26 10:25:11 INFO  org.example.migration.MigrationMain - Выберите действие:
2025-01-26 10:25:11 INFO  org.example.migration.MigrationMain - 1: Выполнить миграции
2025-01-26 10:25:11 INFO  org.example.migration.MigrationMain - 2: Откатить до определённой даты
2025-01-26 10:25:24 INFO  org.example.migration.MigrationMain - Запуск миграций...
2025-01-26 10:25:24 INFO  o.example.migration.MigrationManager - Migration table created or already exists.
2025-01-26 10:25:24 INFO  o.example.migration.MigrationManager - Found 4 migration files.
2025-01-26 10:25:24 INFO  o.example.migration.MigrationManager - Applying migration: version 1, file V1__initial_schema.sql
2025-01-26 10:25:24 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: -- V1__initial_schema.sql

-- Создание таблицы "departments"
CREATE TABLE departments (
                             id SERIAL PRIMARY KEY,
                             name VARCHAR(100) NOT NULL
);

-- Создание таблицы "employees"
CREATE TABLE employees (
                           id SERIAL PRIMARY KEY,
                           name VARCHAR(100) NOT NULL,
                           department_id INT REFERENCES departments(id)
);

-- Создание таблицы "projects"
CREATE TABLE projects (
                          id SERIAL PRIMARY KEY,
                          name VARCHAR(100) NOT NULL
);

-- Создание таблицы "employee_projects" (Many-to-Many связь между сотрудниками и проектами)
CREATE TABLE employee_projects (
                                   employee_id INT REFERENCES employees(id),
                                   project_id INT REFERENCES projects(id),
                                   PRIMARY KEY (employee_id, project_id)
);

-- Вставка начальных данных
-- Вставка начальных данных в таблицу "departments"
INSERT INTO departments (name)
VALUES
    ('HR'),
    ('Engineering'),
    ('Sales'),
    ('Marketing'),
    ('IT Support'),
    ('Customer Service'),
    ('Logistics'),
    ('Finance'),
    ('Legal'),
    ('Research and Development');
-- Вставка сотрудников
INSERT INTO employees (name, department_id)
VALUES
    ('Alice', 1),
    ('Bob', 2),
    ('Charlie', 3),
    ('Diana', 4),
    ('Eve', 5),
    ('Frank', 6),
    ('Grace', 7),
    ('Heidi', 8),
    ('Ivan', 9),
    ('Judy', 10),
    ('Kyle', 1),
    ('Laura', 2),
    ('Mike', 3),
    ('Nina', 4),
    ('Oscar', 5),
    ('Paul', 6),
    ('Quinn', 7),
    ('Rita', 8),
    ('Steve', 9),
    ('Tina', 10),
    ('Uma', 1),
    ('Victor', 2),
    ('Wendy', 3),
    ('Xander', 4),
    ('Yasmine', 5),
    ('Zane', 6),
    ('Aaron', 7),
    ('Bella', 8),
    ('Carl', 9),
    ('Dana', 10),
    ('Elliot', 1),
    ('Fiona', 2),
    ('Gabe', 3),
    ('Holly', 4),
    ('Ian', 5),
    ('Jack', 6),
    ('Kara', 7),
    ('Liam', 8),
    ('Mona', 9),
    ('Nolan', 10),
    ('Olivia', 1),
    ('Peter', 2),
    ('Quincy', 3),
    ('Rachel', 4),
    ('Sam', 5),
    ('Tara', 6),
    ('Ursula', 7),
    ('Vince', 8),
    ('Willow', 9),
    ('Xena', 10),
    ('Yuri', 1),
    ('Zoey', 2),
    ('Adrian', 3),
    ('Blair', 4),
    ('Cody', 5),
    ('Daphne', 6),
    ('Ethan', 7),
    ('Farrah', 8),
    ('Gordon', 9),
    ('Harper', 10),
    ('Isla', 1),
    ('Jonas', 2),
    ('Kelsey', 3),
    ('Logan', 4),
    ('Maya', 5),
    ('Nathan', 6),
    ('Olga', 7),
    ('Penny', 8),
    ('Quentin', 9),
    ('Rebecca', 10),
    ('Sophie', 1),
    ('Thomas', 2),
    ('Ulysses', 3),
    ('Valerie', 4),
    ('Warren', 5),
    ('Ximena', 6),
    ('Yara', 7),
    ('Zack', 8),
    ('Amber', 9),
    ('Brad', 10),
    ('Carmen', 1),
    ('Derek', 2),
    ('Ella', 3),
    ('Floyd', 4),
    ('Gwen', 5),
    ('Hank', 6),
    ('Ivy', 7),
    ('Jasper', 8),
    ('Kaitlyn', 9),
    ('Landon', 10),
    ('Wowa', 1),  -- Новый работник
    ('Jan', 2), -- Новый работник
    ('Misha', 3),  -- Новый работник
    ('Vanya', 4), -- Новый работник
    ('Arsenij', 5),  -- Новый работник
    ('Zhenia', 6), -- Новый работник
    ('Vita', 7),  -- Новый работник
    ('Iosif', 8),   -- Новый работник
    ('Katya', 9), -- Новый работник
    ('Petrosyan', 10);
-- Вставка начальных данных в таблицу "projects"
INSERT INTO projects (name)
VALUES
    ('Project Alpha'),
    ('Project Beta'),
    ('Project Gamma'),
    ('Project Delta'),
    ('Project Epsilon'),
    ('Project Zeta'),
    ('Project Eta'),
    ('Project Theta'),
    ('Project Iota'),
    ('Project Kappa'),
    ('Project Lambda'),
    ('Project Mu'),
    ('Project Nu'),
    ('Project Xi'),
    ('Project Omicron'),
    ('Project Pi'),
    ('Project Rho'),
    ('Project Sigma'),
    ('Project Tau'),
    ('Project Upsilon'),
    ('Project Phi'),
    ('Project Chi'),
    ('Project Psi'),
    ('Project Omega'),
    ('Project Apollo'),
    ('Project Hermes'),
    ('Project Artemis'),
    ('Project Demeter'),
    ('Project Hephaestus'),
    ('Project Poseidon');


-- Назначение каждому сотруднику уникального проекта
INSERT INTO employee_projects (employee_id, project_id)
SELECT e.id AS employee_id, p.id AS project_id
FROM employees e
         JOIN projects p
              ON e.id % 30 + 1 = p.id;


2025-01-26 10:25:24 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-26 10:25:24 INFO  o.example.migration.MigrationManager - Executed migration from file: V1__initial_schema.sql
2025-01-26 10:25:24 INFO  o.example.migration.MigrationManager - Marked migration as applied: version 1
2025-01-26 10:25:24 INFO  o.example.migration.MigrationManager - Migration applied successfully: version 1
2025-01-26 10:25:24 INFO  o.example.migration.MigrationManager - Applying migration: version 2, file V2__add_constraints.sql
2025-01-26 10:25:24 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: -- V2__add_constraints.sql

-- Добавление уникального индекса на поле "name" в таблице "employees", чтобы гарантировать уникальность имени сотрудника
CREATE UNIQUE INDEX idx_employees_name ON employees(name);

-- Добавление не NULL ограничения на поле "name" в таблице "projects"
ALTER TABLE projects ALTER COLUMN name SET NOT NULL;

-- Добавление ограничения на длину имени в таблице "departments"
ALTER TABLE departments ADD CONSTRAINT chk_departments_name_length CHECK (char_length(name) >= 1);

-- Добавление индекса на поле "department_id" в таблице "employees" для ускорения поиска сотрудников по отделу
CREATE INDEX idx_employees_department_id ON employees(department_id);

-- Добавление ограничения на поля "employee_id" и "project_id" в таблице "employee_projects" для обеспечения целостности данных
ALTER TABLE employee_projects
    ADD CONSTRAINT fk_employee FOREIGN KEY (employee_id) REFERENCES employees(id) ON DELETE CASCADE,
    ADD CONSTRAINT fk_project FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE;

-- Добавление ограничения на уникальность в таблице "employee_projects", чтобы избежать дублирования записей
CREATE UNIQUE INDEX idx_employee_projects ON employee_projects(employee_id, project_id);

2025-01-26 10:25:24 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-26 10:25:24 INFO  o.example.migration.MigrationManager - Executed migration from file: V2__add_constraints.sql
2025-01-26 10:25:24 INFO  o.example.migration.MigrationManager - Marked migration as applied: version 2
2025-01-26 10:25:24 INFO  o.example.migration.MigrationManager - Migration applied successfully: version 2
2025-01-26 10:25:24 INFO  org.example.migration.MigrationMain - Миграции успешно завершены.
2025-01-26 10:25:35 INFO  org.example.migration.MigrationMain - Запуск программы управления миграциями...
2025-01-26 10:25:35 INFO  org.example.migration.MigrationMain - Выберите действие:
2025-01-26 10:25:35 INFO  org.example.migration.MigrationMain - 1: Выполнить миграции
2025-01-26 10:25:35 INFO  org.example.migration.MigrationMain - 2: Откатить до определённой даты
2025-01-26 10:25:40 INFO  org.example.migration.MigrationMain - Введите дату отката в формате 'YYYY-MM-DD HH:MM:SS':
2025-01-26 10:25:54 INFO  org.example.migration.MigrationMain - Попытка откатить миграции до 2025-01-26T10:25
2025-01-26 10:25:54 INFO  o.example.migration.MigrationManager - Migration table created or already exists.
2025-01-26 10:25:54 INFO  o.example.migration.MigrationManager - Found 2 migrations to rollback.
2025-01-26 10:25:54 INFO  o.example.migration.MigrationManager - Rolling back migration version 2 using file R2__rollback.sql
2025-01-26 10:25:54 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: -- R2__rollback_initial_schema.sql

-- Удаление уникального индекса на поле "name" в таблице "employees"
DROP INDEX IF EXISTS idx_employees_name;

-- Снятие NOT NULL ограничения с поля "name" в таблице "projects"
ALTER TABLE projects ALTER COLUMN name DROP NOT NULL;

-- Удаление ограничения на длину имени в таблице "departments"
ALTER TABLE departments DROP CONSTRAINT IF EXISTS chk_departments_name_length;

-- Удаление индекса на поле "department_id" в таблице "employees"
DROP INDEX IF EXISTS idx_employees_department_id;

-- Удаление ограничений внешнего ключа из таблицы "employee_projects"
ALTER TABLE employee_projects
    DROP CONSTRAINT IF EXISTS fk_employee,
    DROP CONSTRAINT IF EXISTS fk_project;

-- Удаление уникального индекса на поля "employee_id" и "project_id" в таблице "employee_projects"
DROP INDEX IF EXISTS idx_employee_projects;
2025-01-26 10:25:54 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-26 10:25:54 INFO  o.example.migration.MigrationManager - Rolled back migration version 2 successfully.
2025-01-26 10:25:54 INFO  o.example.migration.MigrationManager - Rolling back migration version 1 using file R1__rollback.sql
2025-01-26 10:25:54 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: -- R1__rollback_initial_schema.sql

-- Удаление всех данных из таблицы "employee_projects"
DELETE FROM employee_projects;

-- Удаление всех данных из таблицы "employees"
DELETE FROM employees;

-- Удаление всех данных из таблицы "projects"
DELETE FROM projects;

-- Удаление всех данных из таблицы "departments"
DELETE FROM departments;

-- Удаление таблицы "employee_projects"
DROP TABLE IF EXISTS employee_projects;

-- Удаление таблицы "employees"
DROP TABLE IF EXISTS employees;

-- Удаление таблицы "projects"
DROP TABLE IF EXISTS projects;

-- Удаление таблицы "departments"
DROP TABLE IF EXISTS departments;

2025-01-26 10:25:54 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-26 10:25:54 INFO  o.example.migration.MigrationManager - Rolled back migration version 1 successfully.
2025-01-26 10:25:54 INFO  org.example.migration.MigrationMain - Откат миграций выполнен до 2025-01-26T10:25
2025-01-26 11:11:17 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (1, 'Test Name')
2025-01-26 11:11:17 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 11:11:17 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 11:11:17 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (2, 'New Test Name')
2025-01-26 11:11:17 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 11:11:17 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 11:11:17 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (1, 'Test Name')
2025-01-26 11:11:17 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 11:11:17 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 11:11:17 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (1, 'Another Test Name')
2025-01-26 11:11:17 ERROR migrations.MigrationScriptExecutor - Error executing migration: Нарушение уникального индекса или первичного ключа: "PRIMARY KEY ON PUBLIC.TEST_TABLE(ID) [1, 'Test Name']"
Unique index or primary key violation: "PRIMARY KEY ON PUBLIC.TEST_TABLE(ID) [1, 'Test Name']"; SQL statement:
INSERT INTO test_table (id, name) VALUES (1, 'Another Test Name') [23505-200]
2025-01-26 11:11:17 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 11:13:23 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (1, 'Test Name')
2025-01-26 11:13:23 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 11:13:23 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 11:13:23 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (2, 'New Test Name')
2025-01-26 11:13:23 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 11:13:23 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 11:13:23 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (1, 'Test Name')
2025-01-26 11:13:23 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 11:13:23 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 11:13:23 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (1, 'Another Test Name')
2025-01-26 11:13:23 ERROR migrations.MigrationScriptExecutor - Error executing migration: Нарушение уникального индекса или первичного ключа: "PRIMARY KEY ON PUBLIC.TEST_TABLE(ID) [1, 'Test Name']"
Unique index or primary key violation: "PRIMARY KEY ON PUBLIC.TEST_TABLE(ID) [1, 'Test Name']"; SQL statement:
INSERT INTO test_table (id, name) VALUES (1, 'Another Test Name') [23505-200]
2025-01-26 11:13:23 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 11:14:28 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (1, 'Test Name')
2025-01-26 11:14:28 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 11:14:28 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 11:14:28 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (2, 'New Test Name')
2025-01-26 11:14:28 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 11:14:28 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 11:14:28 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (1, 'Test Name')
2025-01-26 11:14:28 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 11:14:28 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 11:14:28 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (1, 'Another Test Name')
2025-01-26 11:14:28 ERROR migrations.MigrationScriptExecutor - Error executing migration: Нарушение уникального индекса или первичного ключа: "PRIMARY KEY ON PUBLIC.TEST_TABLE(ID) [1, 'Test Name']"
Unique index or primary key violation: "PRIMARY KEY ON PUBLIC.TEST_TABLE(ID) [1, 'Test Name']"; SQL statement:
INSERT INTO test_table (id, name) VALUES (1, 'Another Test Name') [23505-200]
2025-01-26 11:14:28 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 11:16:06 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: CREATE TABLE test(id INT)
2025-01-26 11:16:06 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 11:16:06 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 11:16:06 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: CREATE TABLE test(id INT)
2025-01-26 11:16:06 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 11:16:06 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 11:16:06 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: CREATE TABLE test(id INT)
2025-01-26 11:16:06 ERROR migrations.MigrationScriptExecutor - Error executing migration: null
2025-01-26 11:16:06 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 11:16:17 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: CREATE TABLE test(id INT)
2025-01-26 11:16:17 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 11:16:17 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 11:16:17 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: CREATE TABLE test(id INT)
2025-01-26 11:16:17 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 11:16:17 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 11:16:17 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: CREATE TABLE test(id INT)
2025-01-26 11:16:17 ERROR migrations.MigrationScriptExecutor - Error executing migration: null
2025-01-26 11:16:17 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 11:16:25 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (1, 'Test Name')
2025-01-26 11:16:25 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 11:16:25 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 11:16:25 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (2, 'New Test Name')
2025-01-26 11:16:25 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 11:16:25 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 11:16:25 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (1, 'Test Name')
2025-01-26 11:16:25 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 11:16:25 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 11:16:25 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (1, 'Another Test Name')
2025-01-26 11:16:25 ERROR migrations.MigrationScriptExecutor - Error executing migration: Нарушение уникального индекса или первичного ключа: "PRIMARY KEY ON PUBLIC.TEST_TABLE(ID) [1, 'Test Name']"
Unique index or primary key violation: "PRIMARY KEY ON PUBLIC.TEST_TABLE(ID) [1, 'Test Name']"; SQL statement:
INSERT INTO test_table (id, name) VALUES (1, 'Another Test Name') [23505-200]
2025-01-26 11:16:25 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 11:16:27 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: CREATE TABLE test(id INT)
2025-01-26 11:16:27 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 11:16:27 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 11:16:27 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: CREATE TABLE test(id INT)
2025-01-26 11:16:27 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 11:16:27 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 11:16:27 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: CREATE TABLE test(id INT)
2025-01-26 11:16:27 ERROR migrations.MigrationScriptExecutor - Error executing migration: null
2025-01-26 11:16:27 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 11:16:53 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (1, 'Test Name')
2025-01-26 11:16:53 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 11:16:53 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 11:16:53 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (2, 'New Test Name')
2025-01-26 11:16:53 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 11:16:53 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 11:16:53 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (1, 'Test Name')
2025-01-26 11:16:53 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 11:16:53 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 11:16:53 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (1, 'Another Test Name')
2025-01-26 11:16:53 ERROR migrations.MigrationScriptExecutor - Error executing migration: Нарушение уникального индекса или первичного ключа: "PRIMARY KEY ON PUBLIC.TEST_TABLE(ID) [1, 'Test Name']"
Unique index or primary key violation: "PRIMARY KEY ON PUBLIC.TEST_TABLE(ID) [1, 'Test Name']"; SQL statement:
INSERT INTO test_table (id, name) VALUES (1, 'Another Test Name') [23505-200]
2025-01-26 11:16:53 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 11:16:55 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: CREATE TABLE test(id INT)
2025-01-26 11:16:55 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 11:16:55 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 11:16:55 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: CREATE TABLE test(id INT)
2025-01-26 11:16:55 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 11:16:55 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 11:16:55 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: CREATE TABLE test(id INT)
2025-01-26 11:16:55 ERROR migrations.MigrationScriptExecutor - Error executing migration: null
2025-01-26 11:16:55 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 11:21:07 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (1, 'Test Name')
2025-01-26 11:21:07 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 11:21:07 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 11:21:07 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (2, 'New Test Name')
2025-01-26 11:21:07 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 11:21:07 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 11:21:07 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (1, 'Test Name')
2025-01-26 11:21:07 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 11:21:07 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 11:21:07 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (1, 'Another Test Name')
2025-01-26 11:21:07 ERROR migrations.MigrationScriptExecutor - Error executing migration: Нарушение уникального индекса или первичного ключа: "PRIMARY KEY ON PUBLIC.TEST_TABLE(ID) [1, 'Test Name']"
Unique index or primary key violation: "PRIMARY KEY ON PUBLIC.TEST_TABLE(ID) [1, 'Test Name']"; SQL statement:
INSERT INTO test_table (id, name) VALUES (1, 'Another Test Name') [23505-200]
2025-01-26 11:21:07 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 11:21:09 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: CREATE TABLE test(id INT)
2025-01-26 11:21:09 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 11:21:09 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 11:21:09 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: CREATE TABLE test(id INT)
2025-01-26 11:21:09 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 11:21:09 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 11:21:09 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: CREATE TABLE test(id INT)
2025-01-26 11:21:09 ERROR migrations.MigrationScriptExecutor - Error executing migration: null
2025-01-26 11:21:09 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 11:41:02 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (1, 'Test Name')
2025-01-26 11:41:02 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 11:41:02 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 11:41:02 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (2, 'New Test Name')
2025-01-26 11:41:02 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 11:41:02 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 11:41:02 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (1, 'Test Name')
2025-01-26 11:41:02 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 11:41:02 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 11:41:02 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (1, 'Another Test Name')
2025-01-26 11:41:02 ERROR migrations.MigrationScriptExecutor - Error executing migration: Нарушение уникального индекса или первичного ключа: "PRIMARY KEY ON PUBLIC.TEST_TABLE(ID) [1, 'Test Name']"
Unique index or primary key violation: "PRIMARY KEY ON PUBLIC.TEST_TABLE(ID) [1, 'Test Name']"; SQL statement:
INSERT INTO test_table (id, name) VALUES (1, 'Another Test Name') [23505-200]
2025-01-26 11:41:02 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 11:41:13 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (1, 'Test Name')
2025-01-26 11:41:13 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 11:41:13 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 11:41:13 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (2, 'New Test Name')
2025-01-26 11:41:13 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 11:41:13 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 11:41:13 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (1, 'Test Name')
2025-01-26 11:41:13 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 11:41:13 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 11:41:13 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (1, 'Another Test Name')
2025-01-26 11:41:13 ERROR migrations.MigrationScriptExecutor - Error executing migration: Нарушение уникального индекса или первичного ключа: "PRIMARY KEY ON PUBLIC.TEST_TABLE(ID) [1, 'Test Name']"
Unique index or primary key violation: "PRIMARY KEY ON PUBLIC.TEST_TABLE(ID) [1, 'Test Name']"; SQL statement:
INSERT INTO test_table (id, name) VALUES (1, 'Another Test Name') [23505-200]
2025-01-26 11:41:13 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 11:42:52 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (1, 'Test Name')
2025-01-26 11:42:52 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 11:42:52 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 11:43:56 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (1, 'Test Name')
2025-01-26 11:43:56 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 11:43:56 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 11:43:56 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (2, 'New Test Name')
2025-01-26 11:43:56 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 11:43:56 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 11:43:56 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (1, 'Test Name')
2025-01-26 11:43:56 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 11:43:56 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 11:43:56 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (1, 'Another Test Name')
2025-01-26 11:43:56 ERROR migrations.MigrationScriptExecutor - Error executing migration: Нарушение уникального индекса или первичного ключа: "PRIMARY KEY ON PUBLIC.TEST_TABLE(ID) [1, 'Test Name']"
Unique index or primary key violation: "PRIMARY KEY ON PUBLIC.TEST_TABLE(ID) [1, 'Test Name']"; SQL statement:
INSERT INTO test_table (id, name) VALUES (1, 'Another Test Name') [23505-200]
2025-01-26 11:43:56 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 11:43:58 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: CREATE TABLE test(id INT)
2025-01-26 11:43:58 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 11:43:58 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 11:43:58 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: CREATE TABLE test(id INT)
2025-01-26 11:43:58 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 11:43:58 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 11:43:58 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: CREATE TABLE test(id INT)
2025-01-26 11:43:58 ERROR migrations.MigrationScriptExecutor - Error executing migration: null
2025-01-26 11:43:58 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 11:43:58 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM test_table
2025-01-26 11:43:58 INFO  migrations.MigrationValidator - SQL syntax is valid.
2025-01-26 11:43:58 WARN  migrations.MigrationValidator - Destructive operation detected in SQL: DROP TABLE test_table
2025-01-26 11:43:58 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM non_existing_table
2025-01-26 11:43:58 ERROR migrations.MigrationValidator - SQL syntax is invalid: Syntax error
2025-01-26 11:43:58 INFO  migrations.MigrationValidator - SQL is safe for execution.
2025-01-26 11:43:58 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM test_table
2025-01-26 11:43:58 INFO  migrations.MigrationValidator - SQL syntax is valid.
2025-01-26 11:43:58 WARN  migrations.MigrationValidator - Destructive operation detected in SQL: DROP TABLE test_table
2025-01-26 11:43:58 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM non_existing_table
2025-01-26 11:43:58 ERROR migrations.MigrationValidator - SQL syntax is invalid: Syntax error
2025-01-26 11:43:58 INFO  migrations.MigrationValidator - SQL is safe for execution.
2025-01-26 11:49:30 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (1, 'Test Name')
2025-01-26 11:49:30 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 11:49:30 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 11:49:30 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (2, 'New Test Name')
2025-01-26 11:49:30 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 11:49:30 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 11:49:30 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (1, 'Test Name')
2025-01-26 11:49:30 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 11:49:30 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 11:49:30 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (1, 'Another Test Name')
2025-01-26 11:49:30 ERROR migrations.MigrationScriptExecutor - Error executing migration: Нарушение уникального индекса или первичного ключа: "PRIMARY KEY ON PUBLIC.TEST_TABLE(ID) [1, 'Test Name']"
Unique index or primary key violation: "PRIMARY KEY ON PUBLIC.TEST_TABLE(ID) [1, 'Test Name']"; SQL statement:
INSERT INTO test_table (id, name) VALUES (1, 'Another Test Name') [23505-200]
2025-01-26 11:49:30 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 11:49:32 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: CREATE TABLE test(id INT)
2025-01-26 11:49:32 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 11:49:32 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 11:49:32 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: CREATE TABLE test(id INT)
2025-01-26 11:49:32 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 11:49:32 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 11:49:32 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: CREATE TABLE test(id INT)
2025-01-26 11:49:32 ERROR migrations.MigrationScriptExecutor - Error executing migration: null
2025-01-26 11:49:32 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 11:49:32 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM test_table
2025-01-26 11:49:32 INFO  migrations.MigrationValidator - SQL syntax is valid.
2025-01-26 11:49:32 WARN  migrations.MigrationValidator - Destructive operation detected in SQL: DROP TABLE test_table
2025-01-26 11:49:32 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM non_existing_table
2025-01-26 11:49:32 ERROR migrations.MigrationValidator - SQL syntax is invalid: Syntax error
2025-01-26 11:49:32 INFO  migrations.MigrationValidator - SQL is safe for execution.
2025-01-26 11:49:32 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM test_table
2025-01-26 11:49:32 INFO  migrations.MigrationValidator - SQL syntax is valid.
2025-01-26 11:49:32 WARN  migrations.MigrationValidator - Destructive operation detected in SQL: DROP TABLE test_table
2025-01-26 11:49:32 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM non_existing_table
2025-01-26 11:49:32 ERROR migrations.MigrationValidator - SQL syntax is invalid: Syntax error
2025-01-26 11:49:32 INFO  migrations.MigrationValidator - SQL is safe for execution.
2025-01-26 11:51:36 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (1, 'Test Name')
2025-01-26 11:51:36 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 11:51:36 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 11:51:36 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (2, 'New Test Name')
2025-01-26 11:51:36 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 11:51:36 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 11:51:36 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (1, 'Test Name')
2025-01-26 11:51:36 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 11:51:36 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 11:51:36 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (1, 'Another Test Name')
2025-01-26 11:51:36 ERROR migrations.MigrationScriptExecutor - Error executing migration: Нарушение уникального индекса или первичного ключа: "PRIMARY KEY ON PUBLIC.TEST_TABLE(ID) [1, 'Test Name']"
Unique index or primary key violation: "PRIMARY KEY ON PUBLIC.TEST_TABLE(ID) [1, 'Test Name']"; SQL statement:
INSERT INTO test_table (id, name) VALUES (1, 'Another Test Name') [23505-200]
2025-01-26 11:51:36 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 11:51:37 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: CREATE TABLE test(id INT)
2025-01-26 11:51:37 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 11:51:37 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 11:51:37 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: CREATE TABLE test(id INT)
2025-01-26 11:51:37 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 11:51:37 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 11:51:37 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: CREATE TABLE test(id INT)
2025-01-26 11:51:37 ERROR migrations.MigrationScriptExecutor - Error executing migration: null
2025-01-26 11:51:37 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 11:51:38 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM test_table
2025-01-26 11:51:38 INFO  migrations.MigrationValidator - SQL syntax is valid.
2025-01-26 11:51:38 WARN  migrations.MigrationValidator - Destructive operation detected in SQL: DROP TABLE test_table
2025-01-26 11:51:38 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM non_existing_table
2025-01-26 11:51:38 ERROR migrations.MigrationValidator - SQL syntax is invalid: Syntax error
2025-01-26 11:51:38 INFO  migrations.MigrationValidator - SQL is safe for execution.
2025-01-26 11:51:38 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM test_table
2025-01-26 11:51:38 INFO  migrations.MigrationValidator - SQL syntax is valid.
2025-01-26 11:51:38 WARN  migrations.MigrationValidator - Destructive operation detected in SQL: DROP TABLE test_table
2025-01-26 11:51:38 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM non_existing_table
2025-01-26 11:51:38 ERROR migrations.MigrationValidator - SQL syntax is invalid: Syntax error
2025-01-26 11:51:38 INFO  migrations.MigrationValidator - SQL is safe for execution.
2025-01-26 12:15:41 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: CREATE TABLE IF NOT EXISTS another_table (id INT, description VARCHAR(255)); INSERT INTO another_table (id, description) VALUES (1, 'Description');
2025-01-26 12:15:42 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-26 12:15:42 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: CREATE TABLE IF NOT EXISTS test_table (id INT, name VARCHAR(255)); INSERT INTO test_table (id, name) VALUES (1, 'Test');
2025-01-26 12:15:42 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-26 12:15:44 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: SELECT * FROM test_table
2025-01-26 12:15:44 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-26 12:15:44 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: SELECT * FROM test_table
2025-01-26 12:15:44 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-26 12:15:44 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (1, 'Test Name')
2025-01-26 12:15:44 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 12:15:44 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 12:15:44 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (2, 'New Test Name')
2025-01-26 12:15:44 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 12:15:44 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 12:15:44 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (1, 'Test Name')
2025-01-26 12:15:44 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 12:15:44 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 12:15:44 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (1, 'Another Test Name')
2025-01-26 12:15:44 ERROR migrations.MigrationScriptExecutor - Error executing migration: Нарушение уникального индекса или первичного ключа: "PRIMARY KEY ON PUBLIC.TEST_TABLE(ID) [1, 'Test Name']"
Unique index or primary key violation: "PRIMARY KEY ON PUBLIC.TEST_TABLE(ID) [1, 'Test Name']"; SQL statement:
INSERT INTO test_table (id, name) VALUES (1, 'Another Test Name') [23505-200]
2025-01-26 12:15:44 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 12:15:45 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: CREATE TABLE test(id INT)
2025-01-26 12:15:45 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 12:15:45 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 12:15:45 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: CREATE TABLE test(id INT)
2025-01-26 12:15:45 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 12:15:45 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 12:15:45 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: CREATE TABLE test(id INT)
2025-01-26 12:15:45 ERROR migrations.MigrationScriptExecutor - Error executing migration: null
2025-01-26 12:15:45 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 12:15:45 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM test_table
2025-01-26 12:15:45 INFO  migrations.MigrationValidator - SQL syntax is valid.
2025-01-26 12:15:45 WARN  migrations.MigrationValidator - Destructive operation detected in SQL: DROP TABLE test_table
2025-01-26 12:15:45 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM non_existing_table
2025-01-26 12:15:45 ERROR migrations.MigrationValidator - SQL syntax is invalid: Syntax error
2025-01-26 12:15:45 INFO  migrations.MigrationValidator - SQL is safe for execution.
2025-01-26 12:15:45 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM test_table
2025-01-26 12:15:45 INFO  migrations.MigrationValidator - SQL syntax is valid.
2025-01-26 12:15:45 WARN  migrations.MigrationValidator - Destructive operation detected in SQL: DROP TABLE test_table
2025-01-26 12:15:45 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM non_existing_table
2025-01-26 12:15:45 ERROR migrations.MigrationValidator - SQL syntax is invalid: Syntax error
2025-01-26 12:15:45 INFO  migrations.MigrationValidator - SQL is safe for execution.
2025-01-26 12:22:51 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: SELECT * FROM test_table
2025-01-26 12:22:52 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-26 12:23:12 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: SELECT * FROM test_table
2025-01-26 12:23:13 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-26 12:23:19 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: CREATE TABLE IF NOT EXISTS another_table (id INT, description VARCHAR(255)); INSERT INTO another_table (id, description) VALUES (1, 'Description');
2025-01-26 12:23:20 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-26 12:23:20 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: CREATE TABLE IF NOT EXISTS test_table (id INT, name VARCHAR(255)); INSERT INTO test_table (id, name) VALUES (1, 'Test');
2025-01-26 12:23:20 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-26 12:23:21 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: SELECT * FROM test_table
2025-01-26 12:23:21 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-26 12:23:22 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: CREATE TABLE test(id INT)
2025-01-26 12:23:22 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 12:23:22 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 12:23:22 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: CREATE TABLE test(id INT)
2025-01-26 12:23:22 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 12:23:22 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 12:23:22 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: CREATE TABLE test(id INT)
2025-01-26 12:23:22 ERROR migrations.MigrationScriptExecutor - Error executing migration: null
2025-01-26 12:23:22 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 12:23:22 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM test_table
2025-01-26 12:23:22 INFO  migrations.MigrationValidator - SQL syntax is valid.
2025-01-26 12:23:22 WARN  migrations.MigrationValidator - Destructive operation detected in SQL: DROP TABLE test_table
2025-01-26 12:23:22 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM non_existing_table
2025-01-26 12:23:22 ERROR migrations.MigrationValidator - SQL syntax is invalid: Syntax error
2025-01-26 12:23:22 INFO  migrations.MigrationValidator - SQL is safe for execution.
2025-01-26 12:23:22 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM test_table
2025-01-26 12:23:22 INFO  migrations.MigrationValidator - SQL syntax is valid.
2025-01-26 12:23:22 WARN  migrations.MigrationValidator - Destructive operation detected in SQL: DROP TABLE test_table
2025-01-26 12:23:22 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM non_existing_table
2025-01-26 12:23:22 ERROR migrations.MigrationValidator - SQL syntax is invalid: Syntax error
2025-01-26 12:23:22 INFO  migrations.MigrationValidator - SQL is safe for execution.
2025-01-26 12:25:45 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: CREATE TABLE IF NOT EXISTS another_table (id INT, description VARCHAR(255)); INSERT INTO another_table (id, description) VALUES (1, 'Description');
2025-01-26 12:25:46 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-26 12:25:46 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: CREATE TABLE IF NOT EXISTS test_table (id INT, name VARCHAR(255)); INSERT INTO test_table (id, name) VALUES (1, 'Test');
2025-01-26 12:25:46 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-26 12:25:54 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: SELECT * FROM test_table
2025-01-26 12:25:55 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-26 12:27:18 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (1, 'Test Name')
2025-01-26 12:27:18 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 12:27:18 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 12:27:23 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: CREATE TABLE IF NOT EXISTS another_table (id INT, description VARCHAR(255)); INSERT INTO another_table (id, description) VALUES (1, 'Description');
2025-01-26 12:27:24 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-26 12:27:24 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: CREATE TABLE IF NOT EXISTS test_table (id INT, name VARCHAR(255)); INSERT INTO test_table (id, name) VALUES (1, 'Test');
2025-01-26 12:27:24 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-26 12:27:25 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: SELECT * FROM test_table
2025-01-26 12:27:25 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-26 12:27:26 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (1, 'Test Name')
2025-01-26 12:27:26 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 12:27:26 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 12:27:26 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (2, 'New Test Name')
2025-01-26 12:27:26 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 12:27:26 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 12:27:26 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (1, 'Test Name')
2025-01-26 12:27:26 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 12:27:26 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 12:27:26 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (1, 'Another Test Name')
2025-01-26 12:27:26 ERROR migrations.MigrationScriptExecutor - Error executing migration: Нарушение уникального индекса или первичного ключа: "PRIMARY KEY ON PUBLIC.TEST_TABLE(ID) ( /* key:1 */ 1, 'Test Name')"
Unique index or primary key violation: "PRIMARY KEY ON PUBLIC.TEST_TABLE(ID) ( /* key:1 */ 1, 'Test Name')"; SQL statement:
INSERT INTO test_table (id, name) VALUES (1, 'Another Test Name') [23505-214]
2025-01-26 12:27:26 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 12:27:26 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: CREATE TABLE test(id INT)
2025-01-26 12:27:26 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 12:27:26 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 12:27:26 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: CREATE TABLE test(id INT)
2025-01-26 12:27:26 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 12:27:26 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 12:27:26 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: CREATE TABLE test(id INT)
2025-01-26 12:27:26 ERROR migrations.MigrationScriptExecutor - Error executing migration: null
2025-01-26 12:27:26 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 12:27:26 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM test_table
2025-01-26 12:27:26 INFO  migrations.MigrationValidator - SQL syntax is valid.
2025-01-26 12:27:26 WARN  migrations.MigrationValidator - Destructive operation detected in SQL: DROP TABLE test_table
2025-01-26 12:27:26 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM non_existing_table
2025-01-26 12:27:26 ERROR migrations.MigrationValidator - SQL syntax is invalid: Syntax error
2025-01-26 12:27:26 INFO  migrations.MigrationValidator - SQL is safe for execution.
2025-01-26 12:27:26 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM test_table
2025-01-26 12:27:26 INFO  migrations.MigrationValidator - SQL syntax is valid.
2025-01-26 12:27:26 WARN  migrations.MigrationValidator - Destructive operation detected in SQL: DROP TABLE test_table
2025-01-26 12:27:26 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM non_existing_table
2025-01-26 12:27:26 ERROR migrations.MigrationValidator - SQL syntax is invalid: Syntax error
2025-01-26 12:27:26 INFO  migrations.MigrationValidator - SQL is safe for execution.
2025-01-26 12:27:53 INFO  org.example.migration.MigrationMain - Запуск программы управления миграциями...
2025-01-26 12:27:53 INFO  org.example.migration.MigrationMain - Выберите действие:
2025-01-26 12:27:53 INFO  org.example.migration.MigrationMain - 1: Выполнить миграции
2025-01-26 12:27:53 INFO  org.example.migration.MigrationMain - 2: Откатить до определённой даты
2025-01-26 12:28:05 INFO  org.example.migration.MigrationMain - Запуск миграций...
2025-01-26 12:28:05 INFO  o.example.migration.MigrationManager - Migration table created or already exists.
2025-01-26 12:28:05 INFO  o.example.migration.MigrationManager - Found 4 migration files.
2025-01-26 12:28:05 INFO  o.example.migration.MigrationManager - Applying migration: version 1, file V1__initial_schema.sql
2025-01-26 12:28:05 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: -- V1__initial_schema.sql

-- Создание таблицы "departments"
CREATE TABLE departments (
                             id SERIAL PRIMARY KEY,
                             name VARCHAR(100) NOT NULL
);

-- Создание таблицы "employees"
CREATE TABLE employees (
                           id SERIAL PRIMARY KEY,
                           name VARCHAR(100) NOT NULL,
                           department_id INT REFERENCES departments(id)
);

-- Создание таблицы "projects"
CREATE TABLE projects (
                          id SERIAL PRIMARY KEY,
                          name VARCHAR(100) NOT NULL
);

-- Создание таблицы "employee_projects" (Many-to-Many связь между сотрудниками и проектами)
CREATE TABLE employee_projects (
                                   employee_id INT REFERENCES employees(id),
                                   project_id INT REFERENCES projects(id),
                                   PRIMARY KEY (employee_id, project_id)
);

-- Вставка начальных данных
-- Вставка начальных данных в таблицу "departments"
INSERT INTO departments (name)
VALUES
    ('HR'),
    ('Engineering'),
    ('Sales'),
    ('Marketing'),
    ('IT Support'),
    ('Customer Service'),
    ('Logistics'),
    ('Finance'),
    ('Legal'),
    ('Research and Development');
-- Вставка сотрудников
INSERT INTO employees (name, department_id)
VALUES
    ('Alice', 1),
    ('Bob', 2),
    ('Charlie', 3),
    ('Diana', 4),
    ('Eve', 5),
    ('Frank', 6),
    ('Grace', 7),
    ('Heidi', 8),
    ('Ivan', 9),
    ('Judy', 10),
    ('Kyle', 1),
    ('Laura', 2),
    ('Mike', 3),
    ('Nina', 4),
    ('Oscar', 5),
    ('Paul', 6),
    ('Quinn', 7),
    ('Rita', 8),
    ('Steve', 9),
    ('Tina', 10),
    ('Uma', 1),
    ('Victor', 2),
    ('Wendy', 3),
    ('Xander', 4),
    ('Yasmine', 5),
    ('Zane', 6),
    ('Aaron', 7),
    ('Bella', 8),
    ('Carl', 9),
    ('Dana', 10),
    ('Elliot', 1),
    ('Fiona', 2),
    ('Gabe', 3),
    ('Holly', 4),
    ('Ian', 5),
    ('Jack', 6),
    ('Kara', 7),
    ('Liam', 8),
    ('Mona', 9),
    ('Nolan', 10),
    ('Olivia', 1),
    ('Peter', 2),
    ('Quincy', 3),
    ('Rachel', 4),
    ('Sam', 5),
    ('Tara', 6),
    ('Ursula', 7),
    ('Vince', 8),
    ('Willow', 9),
    ('Xena', 10),
    ('Yuri', 1),
    ('Zoey', 2),
    ('Adrian', 3),
    ('Blair', 4),
    ('Cody', 5),
    ('Daphne', 6),
    ('Ethan', 7),
    ('Farrah', 8),
    ('Gordon', 9),
    ('Harper', 10),
    ('Isla', 1),
    ('Jonas', 2),
    ('Kelsey', 3),
    ('Logan', 4),
    ('Maya', 5),
    ('Nathan', 6),
    ('Olga', 7),
    ('Penny', 8),
    ('Quentin', 9),
    ('Rebecca', 10),
    ('Sophie', 1),
    ('Thomas', 2),
    ('Ulysses', 3),
    ('Valerie', 4),
    ('Warren', 5),
    ('Ximena', 6),
    ('Yara', 7),
    ('Zack', 8),
    ('Amber', 9),
    ('Brad', 10),
    ('Carmen', 1),
    ('Derek', 2),
    ('Ella', 3),
    ('Floyd', 4),
    ('Gwen', 5),
    ('Hank', 6),
    ('Ivy', 7),
    ('Jasper', 8),
    ('Kaitlyn', 9),
    ('Landon', 10),
    ('Wowa', 1),  -- Новый работник
    ('Jan', 2), -- Новый работник
    ('Misha', 3),  -- Новый работник
    ('Vanya', 4), -- Новый работник
    ('Arsenij', 5),  -- Новый работник
    ('Zhenia', 6), -- Новый работник
    ('Vita', 7),  -- Новый работник
    ('Iosif', 8),   -- Новый работник
    ('Katya', 9), -- Новый работник
    ('Petrosyan', 10);
-- Вставка начальных данных в таблицу "projects"
INSERT INTO projects (name)
VALUES
    ('Project Alpha'),
    ('Project Beta'),
    ('Project Gamma'),
    ('Project Delta'),
    ('Project Epsilon'),
    ('Project Zeta'),
    ('Project Eta'),
    ('Project Theta'),
    ('Project Iota'),
    ('Project Kappa'),
    ('Project Lambda'),
    ('Project Mu'),
    ('Project Nu'),
    ('Project Xi'),
    ('Project Omicron'),
    ('Project Pi'),
    ('Project Rho'),
    ('Project Sigma'),
    ('Project Tau'),
    ('Project Upsilon'),
    ('Project Phi'),
    ('Project Chi'),
    ('Project Psi'),
    ('Project Omega'),
    ('Project Apollo'),
    ('Project Hermes'),
    ('Project Artemis'),
    ('Project Demeter'),
    ('Project Hephaestus'),
    ('Project Poseidon');


-- Назначение каждому сотруднику уникального проекта
INSERT INTO employee_projects (employee_id, project_id)
SELECT e.id AS employee_id, p.id AS project_id
FROM employees e
         JOIN projects p
              ON e.id % 30 + 1 = p.id;


2025-01-26 12:28:05 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-26 12:28:05 INFO  o.example.migration.MigrationManager - Executed migration from file: V1__initial_schema.sql
2025-01-26 12:28:05 INFO  o.example.migration.MigrationManager - Marked migration as applied: version 1
2025-01-26 12:28:05 INFO  o.example.migration.MigrationManager - Migration applied successfully: version 1
2025-01-26 12:28:05 INFO  o.example.migration.MigrationManager - Applying migration: version 2, file V2__add_constraints.sql
2025-01-26 12:28:05 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: -- V2__add_constraints.sql

-- Добавление уникального индекса на поле "name" в таблице "employees", чтобы гарантировать уникальность имени сотрудника
CREATE UNIQUE INDEX idx_employees_name ON employees(name);

-- Добавление не NULL ограничения на поле "name" в таблице "projects"
ALTER TABLE projects ALTER COLUMN name SET NOT NULL;

-- Добавление ограничения на длину имени в таблице "departments"
ALTER TABLE departments ADD CONSTRAINT chk_departments_name_length CHECK (char_length(name) >= 1);

-- Добавление индекса на поле "department_id" в таблице "employees" для ускорения поиска сотрудников по отделу
CREATE INDEX idx_employees_department_id ON employees(department_id);

-- Добавление ограничения на поля "employee_id" и "project_id" в таблице "employee_projects" для обеспечения целостности данных
ALTER TABLE employee_projects
    ADD CONSTRAINT fk_employee FOREIGN KEY (employee_id) REFERENCES employees(id) ON DELETE CASCADE,
    ADD CONSTRAINT fk_project FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE;

-- Добавление ограничения на уникальность в таблице "employee_projects", чтобы избежать дублирования записей
CREATE UNIQUE INDEX idx_employee_projects ON employee_projects(employee_id, project_id);

2025-01-26 12:28:05 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-26 12:28:05 INFO  o.example.migration.MigrationManager - Executed migration from file: V2__add_constraints.sql
2025-01-26 12:28:05 INFO  o.example.migration.MigrationManager - Marked migration as applied: version 2
2025-01-26 12:28:05 INFO  o.example.migration.MigrationManager - Migration applied successfully: version 2
2025-01-26 12:28:05 INFO  org.example.migration.MigrationMain - Миграции успешно завершены.
2025-01-26 12:29:22 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: CREATE TABLE IF NOT EXISTS another_table (id INT, description VARCHAR(255)); INSERT INTO another_table (id, description) VALUES (1, 'Description');
2025-01-26 12:29:23 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-26 12:29:23 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: CREATE TABLE IF NOT EXISTS test_table (id INT, name VARCHAR(255)); INSERT INTO test_table (id, name) VALUES (1, 'Test');
2025-01-26 12:29:23 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-26 12:29:25 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: SELECT * FROM test_table
2025-01-26 12:29:25 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-26 12:29:25 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (1, 'Test Name')
2025-01-26 12:29:25 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 12:29:25 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 12:29:25 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (2, 'New Test Name')
2025-01-26 12:29:25 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 12:29:25 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 12:29:25 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (1, 'Test Name')
2025-01-26 12:29:25 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 12:29:25 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 12:29:25 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (1, 'Another Test Name')
2025-01-26 12:29:25 ERROR migrations.MigrationScriptExecutor - Error executing migration: Нарушение уникального индекса или первичного ключа: "PRIMARY KEY ON PUBLIC.TEST_TABLE(ID) ( /* key:1 */ 1, 'Test Name')"
Unique index or primary key violation: "PRIMARY KEY ON PUBLIC.TEST_TABLE(ID) ( /* key:1 */ 1, 'Test Name')"; SQL statement:
INSERT INTO test_table (id, name) VALUES (1, 'Another Test Name') [23505-214]
2025-01-26 12:29:25 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 12:29:25 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: CREATE TABLE test(id INT)
2025-01-26 12:29:25 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 12:29:25 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 12:29:25 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: CREATE TABLE test(id INT)
2025-01-26 12:29:25 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 12:29:25 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 12:29:25 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: CREATE TABLE test(id INT)
2025-01-26 12:29:25 ERROR migrations.MigrationScriptExecutor - Error executing migration: null
2025-01-26 12:29:25 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 12:29:25 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM test_table
2025-01-26 12:29:25 INFO  migrations.MigrationValidator - SQL syntax is valid.
2025-01-26 12:29:25 WARN  migrations.MigrationValidator - Destructive operation detected in SQL: DROP TABLE test_table
2025-01-26 12:29:25 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM non_existing_table
2025-01-26 12:29:25 ERROR migrations.MigrationValidator - SQL syntax is invalid: Syntax error
2025-01-26 12:29:25 INFO  migrations.MigrationValidator - SQL is safe for execution.
2025-01-26 12:29:25 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM test_table
2025-01-26 12:29:25 INFO  migrations.MigrationValidator - SQL syntax is valid.
2025-01-26 12:29:25 WARN  migrations.MigrationValidator - Destructive operation detected in SQL: DROP TABLE test_table
2025-01-26 12:29:25 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM non_existing_table
2025-01-26 12:29:25 ERROR migrations.MigrationValidator - SQL syntax is invalid: Syntax error
2025-01-26 12:29:25 INFO  migrations.MigrationValidator - SQL is safe for execution.
2025-01-26 12:32:33 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: CREATE TABLE IF NOT EXISTS another_table (id INT, description VARCHAR(255)); INSERT INTO another_table (id, description) VALUES (1, 'Description');
2025-01-26 12:32:34 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-26 12:32:34 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: CREATE TABLE IF NOT EXISTS test_table (id INT, name VARCHAR(255)); INSERT INTO test_table (id, name) VALUES (1, 'Test');
2025-01-26 12:32:34 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-26 12:32:36 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: SELECT * FROM test_table
2025-01-26 12:32:36 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-26 12:32:36 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (1, 'Test Name')
2025-01-26 12:32:36 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 12:32:36 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 12:32:36 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (2, 'New Test Name')
2025-01-26 12:32:36 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 12:32:36 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 12:32:36 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (1, 'Test Name')
2025-01-26 12:32:36 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 12:32:36 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 12:32:36 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (1, 'Another Test Name')
2025-01-26 12:32:36 ERROR migrations.MigrationScriptExecutor - Error executing migration: Нарушение уникального индекса или первичного ключа: "PRIMARY KEY ON PUBLIC.TEST_TABLE(ID) ( /* key:1 */ 1, 'Test Name')"
Unique index or primary key violation: "PRIMARY KEY ON PUBLIC.TEST_TABLE(ID) ( /* key:1 */ 1, 'Test Name')"; SQL statement:
INSERT INTO test_table (id, name) VALUES (1, 'Another Test Name') [23505-214]
2025-01-26 12:32:36 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 12:32:36 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: CREATE TABLE test(id INT)
2025-01-26 12:32:36 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 12:32:36 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 12:32:36 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: CREATE TABLE test(id INT)
2025-01-26 12:32:36 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 12:32:36 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 12:32:37 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: CREATE TABLE test(id INT)
2025-01-26 12:32:37 ERROR migrations.MigrationScriptExecutor - Error executing migration: null
2025-01-26 12:32:37 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 12:32:37 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM test_table
2025-01-26 12:32:37 INFO  migrations.MigrationValidator - SQL syntax is valid.
2025-01-26 12:32:37 WARN  migrations.MigrationValidator - Destructive operation detected in SQL: DROP TABLE test_table
2025-01-26 12:32:37 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM non_existing_table
2025-01-26 12:32:37 ERROR migrations.MigrationValidator - SQL syntax is invalid: Syntax error
2025-01-26 12:32:37 INFO  migrations.MigrationValidator - SQL is safe for execution.
2025-01-26 12:32:37 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM test_table
2025-01-26 12:32:37 INFO  migrations.MigrationValidator - SQL syntax is valid.
2025-01-26 12:32:37 WARN  migrations.MigrationValidator - Destructive operation detected in SQL: DROP TABLE test_table
2025-01-26 12:32:37 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM non_existing_table
2025-01-26 12:32:37 ERROR migrations.MigrationValidator - SQL syntax is invalid: Syntax error
2025-01-26 12:32:37 INFO  migrations.MigrationValidator - SQL is safe for execution.
2025-01-26 12:32:55 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: CREATE TABLE IF NOT EXISTS another_table (id INT, description VARCHAR(255)); INSERT INTO another_table (id, description) VALUES (1, 'Description');
2025-01-26 12:32:56 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-26 12:32:56 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: CREATE TABLE IF NOT EXISTS test_table (id INT, name VARCHAR(255)); INSERT INTO test_table (id, name) VALUES (1, 'Test');
2025-01-26 12:32:56 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-26 12:32:57 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: SELECT * FROM test_table
2025-01-26 12:32:57 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-26 12:32:58 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (1, 'Test Name')
2025-01-26 12:32:58 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 12:32:58 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 12:32:58 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (2, 'New Test Name')
2025-01-26 12:32:58 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 12:32:58 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 12:32:58 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (1, 'Test Name')
2025-01-26 12:32:58 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 12:32:58 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 12:32:58 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (1, 'Another Test Name')
2025-01-26 12:32:58 ERROR migrations.MigrationScriptExecutor - Error executing migration: Нарушение уникального индекса или первичного ключа: "PRIMARY KEY ON PUBLIC.TEST_TABLE(ID) ( /* key:1 */ 1, 'Test Name')"
Unique index or primary key violation: "PRIMARY KEY ON PUBLIC.TEST_TABLE(ID) ( /* key:1 */ 1, 'Test Name')"; SQL statement:
INSERT INTO test_table (id, name) VALUES (1, 'Another Test Name') [23505-214]
2025-01-26 12:32:58 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 12:32:58 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: CREATE TABLE test(id INT)
2025-01-26 12:32:58 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 12:32:58 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 12:32:58 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: CREATE TABLE test(id INT)
2025-01-26 12:32:58 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 12:32:58 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 12:32:58 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: CREATE TABLE test(id INT)
2025-01-26 12:32:58 ERROR migrations.MigrationScriptExecutor - Error executing migration: null
2025-01-26 12:32:58 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 12:32:58 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM test_table
2025-01-26 12:32:58 INFO  migrations.MigrationValidator - SQL syntax is valid.
2025-01-26 12:32:58 WARN  migrations.MigrationValidator - Destructive operation detected in SQL: DROP TABLE test_table
2025-01-26 12:32:58 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM non_existing_table
2025-01-26 12:32:58 ERROR migrations.MigrationValidator - SQL syntax is invalid: Syntax error
2025-01-26 12:32:58 INFO  migrations.MigrationValidator - SQL is safe for execution.
2025-01-26 12:32:58 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM test_table
2025-01-26 12:32:58 INFO  migrations.MigrationValidator - SQL syntax is valid.
2025-01-26 12:32:58 WARN  migrations.MigrationValidator - Destructive operation detected in SQL: DROP TABLE test_table
2025-01-26 12:32:58 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM non_existing_table
2025-01-26 12:32:58 ERROR migrations.MigrationValidator - SQL syntax is invalid: Syntax error
2025-01-26 12:32:58 INFO  migrations.MigrationValidator - SQL is safe for execution.
2025-01-26 12:33:22 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: CREATE TABLE IF NOT EXISTS another_table (id INT, description VARCHAR(255)); INSERT INTO another_table (id, description) VALUES (1, 'Description');
2025-01-26 12:33:23 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-26 12:33:23 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: CREATE TABLE IF NOT EXISTS test_table (id INT, name VARCHAR(255)); INSERT INTO test_table (id, name) VALUES (1, 'Test');
2025-01-26 12:33:23 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-26 12:33:24 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: SELECT * FROM test_table
2025-01-26 12:33:24 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-26 12:33:25 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (1, 'Test Name')
2025-01-26 12:33:25 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 12:33:25 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 12:33:25 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (2, 'New Test Name')
2025-01-26 12:33:25 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 12:33:25 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 12:33:25 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (1, 'Test Name')
2025-01-26 12:33:25 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 12:33:25 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 12:33:25 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (1, 'Another Test Name')
2025-01-26 12:33:25 ERROR migrations.MigrationScriptExecutor - Error executing migration: Нарушение уникального индекса или первичного ключа: "PRIMARY KEY ON PUBLIC.TEST_TABLE(ID) ( /* key:1 */ 1, 'Test Name')"
Unique index or primary key violation: "PRIMARY KEY ON PUBLIC.TEST_TABLE(ID) ( /* key:1 */ 1, 'Test Name')"; SQL statement:
INSERT INTO test_table (id, name) VALUES (1, 'Another Test Name') [23505-214]
2025-01-26 12:33:25 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 12:33:25 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: CREATE TABLE test(id INT)
2025-01-26 12:33:25 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 12:33:25 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 12:33:25 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: CREATE TABLE test(id INT)
2025-01-26 12:33:25 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 12:33:25 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 12:33:25 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: CREATE TABLE test(id INT)
2025-01-26 12:33:25 ERROR migrations.MigrationScriptExecutor - Error executing migration: null
2025-01-26 12:33:25 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 12:33:25 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM test_table
2025-01-26 12:33:25 INFO  migrations.MigrationValidator - SQL syntax is valid.
2025-01-26 12:33:25 WARN  migrations.MigrationValidator - Destructive operation detected in SQL: DROP TABLE test_table
2025-01-26 12:33:25 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM non_existing_table
2025-01-26 12:33:25 ERROR migrations.MigrationValidator - SQL syntax is invalid: Syntax error
2025-01-26 12:33:25 INFO  migrations.MigrationValidator - SQL is safe for execution.
2025-01-26 12:33:25 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM test_table
2025-01-26 12:33:25 INFO  migrations.MigrationValidator - SQL syntax is valid.
2025-01-26 12:33:25 WARN  migrations.MigrationValidator - Destructive operation detected in SQL: DROP TABLE test_table
2025-01-26 12:33:25 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM non_existing_table
2025-01-26 12:33:25 ERROR migrations.MigrationValidator - SQL syntax is invalid: Syntax error
2025-01-26 12:33:25 INFO  migrations.MigrationValidator - SQL is safe for execution.
2025-01-26 12:35:24 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: CREATE TABLE IF NOT EXISTS another_table (id INT, description VARCHAR(255)); INSERT INTO another_table (id, description) VALUES (1, 'Description');
2025-01-26 12:35:24 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-26 12:35:24 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: CREATE TABLE IF NOT EXISTS test_table (id INT, name VARCHAR(255)); INSERT INTO test_table (id, name) VALUES (1, 'Test');
2025-01-26 12:35:24 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-26 12:35:26 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: SELECT * FROM test_table
2025-01-26 12:35:26 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-26 12:35:26 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (1, 'Test Name')
2025-01-26 12:35:26 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 12:35:26 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 12:35:26 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (2, 'New Test Name')
2025-01-26 12:35:26 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 12:35:26 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 12:35:26 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (1, 'Test Name')
2025-01-26 12:35:26 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 12:35:26 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 12:35:26 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (1, 'Another Test Name')
2025-01-26 12:35:26 ERROR migrations.MigrationScriptExecutor - Error executing migration: Нарушение уникального индекса или первичного ключа: "PRIMARY KEY ON PUBLIC.TEST_TABLE(ID) ( /* key:1 */ 1, 'Test Name')"
Unique index or primary key violation: "PRIMARY KEY ON PUBLIC.TEST_TABLE(ID) ( /* key:1 */ 1, 'Test Name')"; SQL statement:
INSERT INTO test_table (id, name) VALUES (1, 'Another Test Name') [23505-214]
2025-01-26 12:35:26 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 12:35:27 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: CREATE TABLE test(id INT)
2025-01-26 12:35:27 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 12:35:27 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 12:35:27 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: CREATE TABLE test(id INT)
2025-01-26 12:35:27 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 12:35:27 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 12:35:27 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: CREATE TABLE test(id INT)
2025-01-26 12:35:27 ERROR migrations.MigrationScriptExecutor - Error executing migration: null
2025-01-26 12:35:27 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 12:35:27 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM test_table
2025-01-26 12:35:27 INFO  migrations.MigrationValidator - SQL syntax is valid.
2025-01-26 12:35:27 WARN  migrations.MigrationValidator - Destructive operation detected in SQL: DROP TABLE test_table
2025-01-26 12:35:27 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM non_existing_table
2025-01-26 12:35:27 ERROR migrations.MigrationValidator - SQL syntax is invalid: Syntax error
2025-01-26 12:35:27 INFO  migrations.MigrationValidator - SQL is safe for execution.
2025-01-26 12:35:27 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM test_table
2025-01-26 12:35:27 INFO  migrations.MigrationValidator - SQL syntax is valid.
2025-01-26 12:35:27 WARN  migrations.MigrationValidator - Destructive operation detected in SQL: DROP TABLE test_table
2025-01-26 12:35:27 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM non_existing_table
2025-01-26 12:35:27 ERROR migrations.MigrationValidator - SQL syntax is invalid: Syntax error
2025-01-26 12:35:27 INFO  migrations.MigrationValidator - SQL is safe for execution.
2025-01-26 12:41:07 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: CREATE TABLE IF NOT EXISTS another_table (id INT, description VARCHAR(255)); INSERT INTO another_table (id, description) VALUES (1, 'Description');
2025-01-26 12:41:07 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-26 12:41:07 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: CREATE TABLE IF NOT EXISTS test_table (id INT, name VARCHAR(255)); INSERT INTO test_table (id, name) VALUES (1, 'Test');
2025-01-26 12:41:07 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-26 12:41:09 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: SELECT * FROM test_table
2025-01-26 12:41:09 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-26 12:41:09 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (1, 'Test Name')
2025-01-26 12:41:09 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 12:41:09 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 12:41:09 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (2, 'New Test Name')
2025-01-26 12:41:09 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 12:41:09 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 12:41:09 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (1, 'Test Name')
2025-01-26 12:41:09 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 12:41:09 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 12:41:09 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (1, 'Another Test Name')
2025-01-26 12:41:09 ERROR migrations.MigrationScriptExecutor - Error executing migration: Нарушение уникального индекса или первичного ключа: "PRIMARY KEY ON PUBLIC.TEST_TABLE(ID) ( /* key:1 */ 1, 'Test Name')"
Unique index or primary key violation: "PRIMARY KEY ON PUBLIC.TEST_TABLE(ID) ( /* key:1 */ 1, 'Test Name')"; SQL statement:
INSERT INTO test_table (id, name) VALUES (1, 'Another Test Name') [23505-214]
2025-01-26 12:41:09 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 12:41:09 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: CREATE TABLE test(id INT)
2025-01-26 12:41:09 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 12:41:09 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 12:41:09 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: CREATE TABLE test(id INT)
2025-01-26 12:41:09 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 12:41:09 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 12:41:09 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: CREATE TABLE test(id INT)
2025-01-26 12:41:09 ERROR migrations.MigrationScriptExecutor - Error executing migration: null
2025-01-26 12:41:09 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 12:41:09 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM test_table
2025-01-26 12:41:09 INFO  migrations.MigrationValidator - SQL syntax is valid.
2025-01-26 12:41:09 WARN  migrations.MigrationValidator - Destructive operation detected in SQL: DROP TABLE test_table
2025-01-26 12:41:09 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM non_existing_table
2025-01-26 12:41:09 ERROR migrations.MigrationValidator - SQL syntax is invalid: Syntax error
2025-01-26 12:41:09 INFO  migrations.MigrationValidator - SQL is safe for execution.
2025-01-26 12:41:10 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM test_table
2025-01-26 12:41:10 INFO  migrations.MigrationValidator - SQL syntax is valid.
2025-01-26 12:41:10 WARN  migrations.MigrationValidator - Destructive operation detected in SQL: DROP TABLE test_table
2025-01-26 12:41:10 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM non_existing_table
2025-01-26 12:41:10 ERROR migrations.MigrationValidator - SQL syntax is invalid: Syntax error
2025-01-26 12:41:10 INFO  migrations.MigrationValidator - SQL is safe for execution.
2025-01-26 12:43:08 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: CREATE TABLE IF NOT EXISTS another_table (id INT, description VARCHAR(255)); INSERT INTO another_table (id, description) VALUES (1, 'Description');
2025-01-26 12:43:09 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-26 12:43:09 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: CREATE TABLE IF NOT EXISTS test_table (id INT, name VARCHAR(255)); INSERT INTO test_table (id, name) VALUES (1, 'Test');
2025-01-26 12:43:09 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-26 12:43:10 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: SELECT * FROM test_table
2025-01-26 12:43:10 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-26 12:43:12 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: CREATE TABLE test(id INT)
2025-01-26 12:43:12 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 12:43:12 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 12:43:12 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: CREATE TABLE test(id INT)
2025-01-26 12:43:12 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 12:43:12 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 12:43:12 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: CREATE TABLE test(id INT)
2025-01-26 12:43:12 ERROR migrations.MigrationScriptExecutor - Error executing migration: null
2025-01-26 12:43:12 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 12:43:13 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM test_table
2025-01-26 12:43:13 INFO  migrations.MigrationValidator - SQL syntax is valid.
2025-01-26 12:43:13 WARN  migrations.MigrationValidator - Destructive operation detected in SQL: DROP TABLE test_table
2025-01-26 12:43:13 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM non_existing_table
2025-01-26 12:43:13 ERROR migrations.MigrationValidator - SQL syntax is invalid: Syntax error
2025-01-26 12:43:13 INFO  migrations.MigrationValidator - SQL is safe for execution.
2025-01-26 12:43:13 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM test_table
2025-01-26 12:43:13 INFO  migrations.MigrationValidator - SQL syntax is valid.
2025-01-26 12:43:13 WARN  migrations.MigrationValidator - Destructive operation detected in SQL: DROP TABLE test_table
2025-01-26 12:43:13 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM non_existing_table
2025-01-26 12:43:13 ERROR migrations.MigrationValidator - SQL syntax is invalid: Syntax error
2025-01-26 12:43:13 INFO  migrations.MigrationValidator - SQL is safe for execution.
2025-01-26 12:43:53 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (1, 'Test Name')
2025-01-26 12:43:53 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 12:43:53 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 12:43:53 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (2, 'New Test Name')
2025-01-26 12:43:53 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 12:43:53 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 12:43:53 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (1, 'Test Name')
2025-01-26 12:43:53 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 12:43:53 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 12:43:53 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (1, 'Another Test Name')
2025-01-26 12:43:53 ERROR migrations.MigrationScriptExecutor - Error executing migration: Нарушение уникального индекса или первичного ключа: "PRIMARY KEY ON PUBLIC.TEST_TABLE(ID) ( /* key:1 */ 1, 'Test Name')"
Unique index or primary key violation: "PRIMARY KEY ON PUBLIC.TEST_TABLE(ID) ( /* key:1 */ 1, 'Test Name')"; SQL statement:
INSERT INTO test_table (id, name) VALUES (1, 'Another Test Name') [23505-214]
2025-01-26 12:43:53 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 12:43:53 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: CREATE TABLE IF NOT EXISTS another_table (id INT, description VARCHAR(255)); INSERT INTO another_table (id, description) VALUES (1, 'Description');
2025-01-26 12:43:54 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-26 12:43:54 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: CREATE TABLE IF NOT EXISTS test_table (id INT, name VARCHAR(255)); INSERT INTO test_table (id, name) VALUES (1, 'Test');
2025-01-26 12:43:54 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-26 12:43:55 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: SELECT * FROM test_table
2025-01-26 12:43:55 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-26 12:43:56 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: CREATE TABLE test(id INT)
2025-01-26 12:43:56 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 12:43:56 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 12:43:56 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: CREATE TABLE test(id INT)
2025-01-26 12:43:56 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 12:43:56 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 12:43:56 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: CREATE TABLE test(id INT)
2025-01-26 12:43:56 ERROR migrations.MigrationScriptExecutor - Error executing migration: null
2025-01-26 12:43:56 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 12:43:56 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM test_table
2025-01-26 12:43:56 INFO  migrations.MigrationValidator - SQL syntax is valid.
2025-01-26 12:43:56 WARN  migrations.MigrationValidator - Destructive operation detected in SQL: DROP TABLE test_table
2025-01-26 12:43:56 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM non_existing_table
2025-01-26 12:43:56 ERROR migrations.MigrationValidator - SQL syntax is invalid: Syntax error
2025-01-26 12:43:56 INFO  migrations.MigrationValidator - SQL is safe for execution.
2025-01-26 12:43:56 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM test_table
2025-01-26 12:43:56 INFO  migrations.MigrationValidator - SQL syntax is valid.
2025-01-26 12:43:56 WARN  migrations.MigrationValidator - Destructive operation detected in SQL: DROP TABLE test_table
2025-01-26 12:43:56 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM non_existing_table
2025-01-26 12:43:56 ERROR migrations.MigrationValidator - SQL syntax is invalid: Syntax error
2025-01-26 12:43:56 INFO  migrations.MigrationValidator - SQL is safe for execution.
2025-01-26 12:46:42 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: CREATE TABLE IF NOT EXISTS another_table (id INT, description VARCHAR(255)); INSERT INTO another_table (id, description) VALUES (1, 'Description');
2025-01-26 12:46:43 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-26 12:46:43 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: CREATE TABLE IF NOT EXISTS test_table (id INT, name VARCHAR(255)); INSERT INTO test_table (id, name) VALUES (1, 'Test');
2025-01-26 12:46:43 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-26 12:46:45 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: SELECT * FROM test_table
2025-01-26 12:46:45 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-26 12:46:46 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (1, 'Test Name')
2025-01-26 12:46:46 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 12:46:46 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 12:46:46 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (2, 'New Test Name')
2025-01-26 12:46:46 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 12:46:46 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 12:46:46 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (1, 'Test Name')
2025-01-26 12:46:46 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 12:46:46 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 12:46:46 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (1, 'Another Test Name')
2025-01-26 12:46:46 ERROR migrations.MigrationScriptExecutor - Error executing migration: Нарушение уникального индекса или первичного ключа: "PRIMARY KEY ON PUBLIC.TEST_TABLE(ID) ( /* key:1 */ 1, 'Test Name')"
Unique index or primary key violation: "PRIMARY KEY ON PUBLIC.TEST_TABLE(ID) ( /* key:1 */ 1, 'Test Name')"; SQL statement:
INSERT INTO test_table (id, name) VALUES (1, 'Another Test Name') [23505-214]
2025-01-26 12:46:46 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 12:46:46 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: CREATE TABLE test(id INT)
2025-01-26 12:46:46 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 12:46:46 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 12:46:47 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: CREATE TABLE test(id INT)
2025-01-26 12:46:47 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 12:46:47 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 12:46:47 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: CREATE TABLE test(id INT)
2025-01-26 12:46:47 ERROR migrations.MigrationScriptExecutor - Error executing migration: null
2025-01-26 12:46:47 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 12:46:47 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM test_table
2025-01-26 12:46:47 INFO  migrations.MigrationValidator - SQL syntax is valid.
2025-01-26 12:46:47 WARN  migrations.MigrationValidator - Destructive operation detected in SQL: DROP TABLE test_table
2025-01-26 12:46:47 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM non_existing_table
2025-01-26 12:46:47 ERROR migrations.MigrationValidator - SQL syntax is invalid: Syntax error
2025-01-26 12:46:47 INFO  migrations.MigrationValidator - SQL is safe for execution.
2025-01-26 12:46:47 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM test_table
2025-01-26 12:46:47 INFO  migrations.MigrationValidator - SQL syntax is valid.
2025-01-26 12:46:47 WARN  migrations.MigrationValidator - Destructive operation detected in SQL: DROP TABLE test_table
2025-01-26 12:46:47 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM non_existing_table
2025-01-26 12:46:47 ERROR migrations.MigrationValidator - SQL syntax is invalid: Syntax error
2025-01-26 12:46:47 INFO  migrations.MigrationValidator - SQL is safe for execution.
2025-01-26 12:53:39 INFO  org.example.migration.MigrationMain - Запуск программы управления миграциями...
2025-01-26 12:53:40 INFO  org.example.migration.MigrationMain - Выберите действие:
2025-01-26 12:53:40 INFO  org.example.migration.MigrationMain - 1: Выполнить миграции
2025-01-26 12:53:40 INFO  org.example.migration.MigrationMain - 2: Откатить до определённой даты
2025-01-26 12:53:40 ERROR org.example.migration.MigrationMain - Произошла ошибка: null
java.util.NoSuchElementException: null
	at java.base/java.util.Scanner.throwFor(Scanner.java:945)
	at java.base/java.util.Scanner.next(Scanner.java:1602)
	at java.base/java.util.Scanner.nextInt(Scanner.java:2267)
	at java.base/java.util.Scanner.nextInt(Scanner.java:2221)
	at org.example.migration.MigrationMain.main(MigrationMain.java:25)
	at migration_main.MigrationMainTest.testInvalidDateInput(MigrationMainTest.java:61)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92)
	at jdk.proxy2/jdk.proxy2.$Proxy6.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:121)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
2025-01-26 12:53:40 INFO  org.example.migration.MigrationMain - Запуск программы управления миграциями...
2025-01-26 12:53:40 INFO  org.example.migration.MigrationMain - Выберите действие:
2025-01-26 12:53:40 INFO  org.example.migration.MigrationMain - 1: Выполнить миграции
2025-01-26 12:53:40 INFO  org.example.migration.MigrationMain - 2: Откатить до определённой даты
2025-01-26 12:53:40 ERROR org.example.migration.MigrationMain - Произошла ошибка: null
java.util.NoSuchElementException: null
	at java.base/java.util.Scanner.throwFor(Scanner.java:945)
	at java.base/java.util.Scanner.next(Scanner.java:1602)
	at java.base/java.util.Scanner.nextInt(Scanner.java:2267)
	at java.base/java.util.Scanner.nextInt(Scanner.java:2221)
	at org.example.migration.MigrationMain.main(MigrationMain.java:25)
	at migration_main.MigrationMainTest.testInvalidChoice(MigrationMainTest.java:74)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92)
	at jdk.proxy2/jdk.proxy2.$Proxy6.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:121)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
2025-01-26 12:53:40 INFO  org.example.migration.MigrationMain - Запуск программы управления миграциями...
2025-01-26 12:53:40 INFO  org.example.migration.MigrationMain - Выберите действие:
2025-01-26 12:53:40 INFO  org.example.migration.MigrationMain - 1: Выполнить миграции
2025-01-26 12:53:40 INFO  org.example.migration.MigrationMain - 2: Откатить до определённой даты
2025-01-26 12:53:40 ERROR org.example.migration.MigrationMain - Произошла ошибка: null
java.util.NoSuchElementException: null
	at java.base/java.util.Scanner.throwFor(Scanner.java:945)
	at java.base/java.util.Scanner.next(Scanner.java:1602)
	at java.base/java.util.Scanner.nextInt(Scanner.java:2267)
	at java.base/java.util.Scanner.nextInt(Scanner.java:2221)
	at org.example.migration.MigrationMain.main(MigrationMain.java:25)
	at migration_main.MigrationMainTest.testRunMigrationsChoice(MigrationMainTest.java:31)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92)
	at jdk.proxy2/jdk.proxy2.$Proxy6.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:121)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
2025-01-26 12:53:40 INFO  org.example.migration.MigrationMain - Запуск программы управления миграциями...
2025-01-26 12:53:40 INFO  org.example.migration.MigrationMain - Выберите действие:
2025-01-26 12:53:40 INFO  org.example.migration.MigrationMain - 1: Выполнить миграции
2025-01-26 12:53:40 INFO  org.example.migration.MigrationMain - 2: Откатить до определённой даты
2025-01-26 12:53:40 ERROR org.example.migration.MigrationMain - Произошла ошибка: null
java.util.NoSuchElementException: null
	at java.base/java.util.Scanner.throwFor(Scanner.java:945)
	at java.base/java.util.Scanner.next(Scanner.java:1602)
	at java.base/java.util.Scanner.nextInt(Scanner.java:2267)
	at java.base/java.util.Scanner.nextInt(Scanner.java:2221)
	at org.example.migration.MigrationMain.main(MigrationMain.java:25)
	at migration_main.MigrationMainTest.testRollbackChoice(MigrationMainTest.java:46)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92)
	at jdk.proxy2/jdk.proxy2.$Proxy6.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:121)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
2025-01-26 12:55:22 INFO  org.example.migration.MigrationMain - Запуск программы управления миграциями...
2025-01-26 12:55:24 INFO  org.example.migration.MigrationMain - Выберите действие:
2025-01-26 12:55:24 INFO  org.example.migration.MigrationMain - 1: Выполнить миграции
2025-01-26 12:55:24 INFO  org.example.migration.MigrationMain - 2: Откатить до определённой даты
2025-01-26 12:55:24 ERROR org.example.migration.MigrationMain - Произошла ошибка: null
java.util.NoSuchElementException: null
	at java.base/java.util.Scanner.throwFor(Scanner.java:945)
	at java.base/java.util.Scanner.next(Scanner.java:1602)
	at java.base/java.util.Scanner.nextInt(Scanner.java:2267)
	at java.base/java.util.Scanner.nextInt(Scanner.java:2221)
	at org.example.migration.MigrationMain.main(MigrationMain.java:25)
	at migration_main.MigrationMainTest.testInvalidDateInput(MigrationMainTest.java:64)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92)
	at jdk.proxy2/jdk.proxy2.$Proxy6.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:121)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
2025-01-26 12:55:24 INFO  org.example.migration.MigrationMain - Запуск программы управления миграциями...
2025-01-26 12:55:24 INFO  org.example.migration.MigrationMain - Выберите действие:
2025-01-26 12:55:24 INFO  org.example.migration.MigrationMain - 1: Выполнить миграции
2025-01-26 12:55:24 INFO  org.example.migration.MigrationMain - 2: Откатить до определённой даты
2025-01-26 12:55:24 ERROR org.example.migration.MigrationMain - Произошла ошибка: null
java.util.NoSuchElementException: null
	at java.base/java.util.Scanner.throwFor(Scanner.java:945)
	at java.base/java.util.Scanner.next(Scanner.java:1602)
	at java.base/java.util.Scanner.nextInt(Scanner.java:2267)
	at java.base/java.util.Scanner.nextInt(Scanner.java:2221)
	at org.example.migration.MigrationMain.main(MigrationMain.java:25)
	at migration_main.MigrationMainTest.testInvalidChoice(MigrationMainTest.java:78)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92)
	at jdk.proxy2/jdk.proxy2.$Proxy6.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:121)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
2025-01-26 12:55:24 INFO  org.example.migration.MigrationMain - Запуск программы управления миграциями...
2025-01-26 12:55:24 INFO  org.example.migration.MigrationMain - Выберите действие:
2025-01-26 12:55:24 INFO  org.example.migration.MigrationMain - 1: Выполнить миграции
2025-01-26 12:55:24 INFO  org.example.migration.MigrationMain - 2: Откатить до определённой даты
2025-01-26 12:55:24 ERROR org.example.migration.MigrationMain - Произошла ошибка: null
java.util.NoSuchElementException: null
	at java.base/java.util.Scanner.throwFor(Scanner.java:945)
	at java.base/java.util.Scanner.next(Scanner.java:1602)
	at java.base/java.util.Scanner.nextInt(Scanner.java:2267)
	at java.base/java.util.Scanner.nextInt(Scanner.java:2221)
	at org.example.migration.MigrationMain.main(MigrationMain.java:25)
	at migration_main.MigrationMainTest.testRunMigrationsChoice(MigrationMainTest.java:32)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92)
	at jdk.proxy2/jdk.proxy2.$Proxy6.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:121)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
2025-01-26 12:55:24 INFO  org.example.migration.MigrationMain - Запуск программы управления миграциями...
2025-01-26 12:55:24 INFO  org.example.migration.MigrationMain - Выберите действие:
2025-01-26 12:55:24 INFO  org.example.migration.MigrationMain - 1: Выполнить миграции
2025-01-26 12:55:24 INFO  org.example.migration.MigrationMain - 2: Откатить до определённой даты
2025-01-26 12:55:24 ERROR org.example.migration.MigrationMain - Произошла ошибка: null
java.util.NoSuchElementException: null
	at java.base/java.util.Scanner.throwFor(Scanner.java:945)
	at java.base/java.util.Scanner.next(Scanner.java:1602)
	at java.base/java.util.Scanner.nextInt(Scanner.java:2267)
	at java.base/java.util.Scanner.nextInt(Scanner.java:2221)
	at org.example.migration.MigrationMain.main(MigrationMain.java:25)
	at migration_main.MigrationMainTest.testRollbackChoice(MigrationMainTest.java:48)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92)
	at jdk.proxy2/jdk.proxy2.$Proxy6.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:121)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
2025-01-26 12:57:36 INFO  org.example.migration.MigrationMain - Запуск программы управления миграциями...
2025-01-26 12:57:37 INFO  org.example.migration.MigrationMain - Выберите действие:
2025-01-26 12:57:37 INFO  org.example.migration.MigrationMain - 1: Выполнить миграции
2025-01-26 12:57:37 INFO  org.example.migration.MigrationMain - 2: Откатить до определённой даты
2025-01-26 12:57:37 ERROR org.example.migration.MigrationMain - Произошла ошибка: null
java.util.NoSuchElementException: null
	at java.base/java.util.Scanner.throwFor(Scanner.java:945)
	at java.base/java.util.Scanner.next(Scanner.java:1602)
	at java.base/java.util.Scanner.nextInt(Scanner.java:2267)
	at java.base/java.util.Scanner.nextInt(Scanner.java:2221)
	at org.example.migration.MigrationMain.main(MigrationMain.java:25)
	at migration_main.MigrationMainTest.testInvalidDateInput(MigrationMainTest.java:63)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92)
	at jdk.proxy2/jdk.proxy2.$Proxy6.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:121)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
2025-01-26 12:57:37 INFO  org.example.migration.MigrationMain - Запуск программы управления миграциями...
2025-01-26 12:57:37 INFO  org.example.migration.MigrationMain - Выберите действие:
2025-01-26 12:57:37 INFO  org.example.migration.MigrationMain - 1: Выполнить миграции
2025-01-26 12:57:37 INFO  org.example.migration.MigrationMain - 2: Откатить до определённой даты
2025-01-26 12:57:37 ERROR org.example.migration.MigrationMain - Произошла ошибка: null
java.util.NoSuchElementException: null
	at java.base/java.util.Scanner.throwFor(Scanner.java:945)
	at java.base/java.util.Scanner.next(Scanner.java:1602)
	at java.base/java.util.Scanner.nextInt(Scanner.java:2267)
	at java.base/java.util.Scanner.nextInt(Scanner.java:2221)
	at org.example.migration.MigrationMain.main(MigrationMain.java:25)
	at migration_main.MigrationMainTest.testInvalidChoice(MigrationMainTest.java:77)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92)
	at jdk.proxy2/jdk.proxy2.$Proxy6.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:121)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
2025-01-26 12:57:37 INFO  org.example.migration.MigrationMain - Запуск программы управления миграциями...
2025-01-26 12:57:37 INFO  org.example.migration.MigrationMain - Выберите действие:
2025-01-26 12:57:37 INFO  org.example.migration.MigrationMain - 1: Выполнить миграции
2025-01-26 12:57:37 INFO  org.example.migration.MigrationMain - 2: Откатить до определённой даты
2025-01-26 12:57:37 ERROR org.example.migration.MigrationMain - Произошла ошибка: null
java.util.NoSuchElementException: null
	at java.base/java.util.Scanner.throwFor(Scanner.java:945)
	at java.base/java.util.Scanner.next(Scanner.java:1602)
	at java.base/java.util.Scanner.nextInt(Scanner.java:2267)
	at java.base/java.util.Scanner.nextInt(Scanner.java:2221)
	at org.example.migration.MigrationMain.main(MigrationMain.java:25)
	at migration_main.MigrationMainTest.testRunMigrationsChoice(MigrationMainTest.java:32)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92)
	at jdk.proxy2/jdk.proxy2.$Proxy6.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:121)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
2025-01-26 12:57:37 INFO  org.example.migration.MigrationMain - Запуск программы управления миграциями...
2025-01-26 12:57:37 INFO  org.example.migration.MigrationMain - Выберите действие:
2025-01-26 12:57:37 INFO  org.example.migration.MigrationMain - 1: Выполнить миграции
2025-01-26 12:57:37 INFO  org.example.migration.MigrationMain - 2: Откатить до определённой даты
2025-01-26 12:57:37 ERROR org.example.migration.MigrationMain - Произошла ошибка: null
java.util.NoSuchElementException: null
	at java.base/java.util.Scanner.throwFor(Scanner.java:945)
	at java.base/java.util.Scanner.next(Scanner.java:1602)
	at java.base/java.util.Scanner.nextInt(Scanner.java:2267)
	at java.base/java.util.Scanner.nextInt(Scanner.java:2221)
	at org.example.migration.MigrationMain.main(MigrationMain.java:25)
	at migration_main.MigrationMainTest.testRollbackChoice(MigrationMainTest.java:48)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92)
	at jdk.proxy2/jdk.proxy2.$Proxy6.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:121)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
2025-01-26 12:58:50 INFO  org.example.migration.MigrationMain - Запуск программы управления миграциями...
2025-01-26 12:58:51 INFO  org.example.migration.MigrationMain - Выберите действие:
2025-01-26 12:58:51 INFO  org.example.migration.MigrationMain - 1: Выполнить миграции
2025-01-26 12:58:51 INFO  org.example.migration.MigrationMain - 2: Откатить до определённой даты
2025-01-26 12:58:51 ERROR org.example.migration.MigrationMain - Произошла ошибка: null
java.util.NoSuchElementException: null
	at java.base/java.util.Scanner.throwFor(Scanner.java:945)
	at java.base/java.util.Scanner.next(Scanner.java:1602)
	at java.base/java.util.Scanner.nextInt(Scanner.java:2267)
	at java.base/java.util.Scanner.nextInt(Scanner.java:2221)
	at org.example.migration.MigrationMain.main(MigrationMain.java:25)
	at migration_main.MigrationMainTest.testRunMigrationsChoice(MigrationMainTest.java:32)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92)
	at jdk.proxy2/jdk.proxy2.$Proxy6.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:121)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
2025-01-26 12:59:46 INFO  org.example.migration.MigrationMain - Запуск программы управления миграциями...
2025-01-26 12:59:48 INFO  org.example.migration.MigrationMain - Выберите действие:
2025-01-26 12:59:48 INFO  org.example.migration.MigrationMain - 1: Выполнить миграции
2025-01-26 12:59:48 INFO  org.example.migration.MigrationMain - 2: Откатить до определённой даты
2025-01-26 12:59:48 ERROR org.example.migration.MigrationMain - Произошла ошибка: null
java.util.NoSuchElementException: null
	at java.base/java.util.Scanner.throwFor(Scanner.java:945)
	at java.base/java.util.Scanner.next(Scanner.java:1602)
	at java.base/java.util.Scanner.nextInt(Scanner.java:2267)
	at java.base/java.util.Scanner.nextInt(Scanner.java:2221)
	at org.example.migration.MigrationMain.main(MigrationMain.java:25)
	at migration_main.MigrationMainTest.testRunMigrationsChoice(MigrationMainTest.java:33)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92)
	at jdk.proxy2/jdk.proxy2.$Proxy6.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:121)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
2025-01-26 13:02:06 INFO  org.example.migration.MigrationMain - Запуск программы управления миграциями...
2025-01-26 13:02:07 INFO  org.example.migration.MigrationMain - Выберите действие:
2025-01-26 13:02:07 INFO  org.example.migration.MigrationMain - 1: Выполнить миграции
2025-01-26 13:02:07 INFO  org.example.migration.MigrationMain - 2: Откатить до определённой даты
2025-01-26 13:02:07 ERROR org.example.migration.MigrationMain - Произошла ошибка: null
java.util.NoSuchElementException: null
	at java.base/java.util.Scanner.throwFor(Scanner.java:945)
	at java.base/java.util.Scanner.next(Scanner.java:1602)
	at java.base/java.util.Scanner.nextInt(Scanner.java:2267)
	at java.base/java.util.Scanner.nextInt(Scanner.java:2221)
	at org.example.migration.MigrationMain.main(MigrationMain.java:25)
	at migration_main.MigrationMainTest.testInvalidDateFormat(MigrationMainTest.java:59)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92)
	at jdk.proxy2/jdk.proxy2.$Proxy6.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:121)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
2025-01-26 13:02:08 INFO  org.example.migration.MigrationMain - Запуск программы управления миграциями...
2025-01-26 13:02:08 INFO  org.example.migration.MigrationMain - Выберите действие:
2025-01-26 13:02:08 INFO  org.example.migration.MigrationMain - 1: Выполнить миграции
2025-01-26 13:02:08 INFO  org.example.migration.MigrationMain - 2: Откатить до определённой даты
2025-01-26 13:02:08 ERROR org.example.migration.MigrationMain - Произошла ошибка: null
java.util.NoSuchElementException: null
	at java.base/java.util.Scanner.throwFor(Scanner.java:945)
	at java.base/java.util.Scanner.next(Scanner.java:1602)
	at java.base/java.util.Scanner.nextInt(Scanner.java:2267)
	at java.base/java.util.Scanner.nextInt(Scanner.java:2221)
	at org.example.migration.MigrationMain.main(MigrationMain.java:25)
	at migration_main.MigrationMainTest.testRollbackToDate(MigrationMainTest.java:49)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92)
	at jdk.proxy2/jdk.proxy2.$Proxy6.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:121)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
2025-01-26 13:02:08 INFO  org.example.migration.MigrationMain - Запуск программы управления миграциями...
2025-01-26 13:02:08 INFO  org.example.migration.MigrationMain - Выберите действие:
2025-01-26 13:02:08 INFO  org.example.migration.MigrationMain - 1: Выполнить миграции
2025-01-26 13:02:08 INFO  org.example.migration.MigrationMain - 2: Откатить до определённой даты
2025-01-26 13:02:08 ERROR org.example.migration.MigrationMain - Произошла ошибка: null
java.util.NoSuchElementException: null
	at java.base/java.util.Scanner.throwFor(Scanner.java:945)
	at java.base/java.util.Scanner.next(Scanner.java:1602)
	at java.base/java.util.Scanner.nextInt(Scanner.java:2267)
	at java.base/java.util.Scanner.nextInt(Scanner.java:2221)
	at org.example.migration.MigrationMain.main(MigrationMain.java:25)
	at migration_main.MigrationMainTest.testRunMigrations(MigrationMainTest.java:36)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92)
	at jdk.proxy2/jdk.proxy2.$Proxy6.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:121)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
2025-01-26 13:02:41 INFO  org.example.migration.MigrationMain - Запуск программы управления миграциями...
2025-01-26 13:02:42 INFO  org.example.migration.MigrationMain - Выберите действие:
2025-01-26 13:02:42 INFO  org.example.migration.MigrationMain - 1: Выполнить миграции
2025-01-26 13:02:42 INFO  org.example.migration.MigrationMain - 2: Откатить до определённой даты
2025-01-26 13:02:42 ERROR org.example.migration.MigrationMain - Произошла ошибка: null
java.util.NoSuchElementException: null
	at java.base/java.util.Scanner.throwFor(Scanner.java:945)
	at java.base/java.util.Scanner.next(Scanner.java:1602)
	at java.base/java.util.Scanner.nextInt(Scanner.java:2267)
	at java.base/java.util.Scanner.nextInt(Scanner.java:2221)
	at org.example.migration.MigrationMain.main(MigrationMain.java:25)
	at migration_main.MigrationMainTest.testRunMigrations(MigrationMainTest.java:34)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92)
	at jdk.proxy2/jdk.proxy2.$Proxy6.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:121)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
2025-01-26 13:03:16 INFO  org.example.migration.MigrationMain - Запуск программы управления миграциями...
2025-01-26 13:03:17 INFO  org.example.migration.MigrationMain - Выберите действие:
2025-01-26 13:03:17 INFO  org.example.migration.MigrationMain - 1: Выполнить миграции
2025-01-26 13:03:17 INFO  org.example.migration.MigrationMain - 2: Откатить до определённой даты
2025-01-26 13:03:17 ERROR org.example.migration.MigrationMain - Произошла ошибка: null
java.util.NoSuchElementException: null
	at java.base/java.util.Scanner.throwFor(Scanner.java:945)
	at java.base/java.util.Scanner.next(Scanner.java:1602)
	at java.base/java.util.Scanner.nextInt(Scanner.java:2267)
	at java.base/java.util.Scanner.nextInt(Scanner.java:2221)
	at org.example.migration.MigrationMain.main(MigrationMain.java:25)
	at migration_main.MigrationMainTest.testRunMigrations(MigrationMainTest.java:35)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92)
	at jdk.proxy2/jdk.proxy2.$Proxy6.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:121)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
2025-01-26 13:03:44 INFO  org.example.migration.MigrationMain - Запуск программы управления миграциями...
2025-01-26 13:03:45 INFO  org.example.migration.MigrationMain - Выберите действие:
2025-01-26 13:03:45 INFO  org.example.migration.MigrationMain - 1: Выполнить миграции
2025-01-26 13:03:45 INFO  org.example.migration.MigrationMain - 2: Откатить до определённой даты
2025-01-26 13:03:45 ERROR org.example.migration.MigrationMain - Произошла ошибка: null
java.util.NoSuchElementException: null
	at java.base/java.util.Scanner.throwFor(Scanner.java:945)
	at java.base/java.util.Scanner.next(Scanner.java:1602)
	at java.base/java.util.Scanner.nextInt(Scanner.java:2267)
	at java.base/java.util.Scanner.nextInt(Scanner.java:2221)
	at org.example.migration.MigrationMain.main(MigrationMain.java:25)
	at migration_main.MigrationMainTest.testRollbackToDate(MigrationMainTest.java:48)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92)
	at jdk.proxy2/jdk.proxy2.$Proxy6.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:121)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
2025-01-26 13:06:24 INFO  org.example.migration.MigrationMain - Запуск программы управления миграциями...
2025-01-26 13:06:26 INFO  org.example.migration.MigrationMain - Выберите действие:
2025-01-26 13:06:26 INFO  org.example.migration.MigrationMain - 1: Выполнить миграции
2025-01-26 13:06:26 INFO  org.example.migration.MigrationMain - 2: Откатить до определённой даты
2025-01-26 13:06:26 ERROR org.example.migration.MigrationMain - Произошла ошибка: null
java.util.NoSuchElementException: null
	at java.base/java.util.Scanner.throwFor(Scanner.java:945)
	at java.base/java.util.Scanner.next(Scanner.java:1602)
	at java.base/java.util.Scanner.nextInt(Scanner.java:2267)
	at java.base/java.util.Scanner.nextInt(Scanner.java:2221)
	at org.example.migration.MigrationMain.main(MigrationMain.java:25)
	at migration_main.MigrationMainTest.testRollbackToDate(MigrationMainTest.java:48)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92)
	at jdk.proxy2/jdk.proxy2.$Proxy6.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:121)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
2025-01-26 13:06:54 INFO  org.example.migration.MigrationMain - Запуск программы управления миграциями...
2025-01-26 13:06:56 INFO  org.example.migration.MigrationMain - Выберите действие:
2025-01-26 13:06:56 INFO  org.example.migration.MigrationMain - 1: Выполнить миграции
2025-01-26 13:06:56 INFO  org.example.migration.MigrationMain - 2: Откатить до определённой даты
2025-01-26 13:06:56 ERROR org.example.migration.MigrationMain - Произошла ошибка: null
java.util.NoSuchElementException: null
	at java.base/java.util.Scanner.throwFor(Scanner.java:945)
	at java.base/java.util.Scanner.next(Scanner.java:1602)
	at java.base/java.util.Scanner.nextInt(Scanner.java:2267)
	at java.base/java.util.Scanner.nextInt(Scanner.java:2221)
	at org.example.migration.MigrationMain.main(MigrationMain.java:25)
	at migration_main.MigrationMainTest.testRollbackToDate(MigrationMainTest.java:48)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92)
	at jdk.proxy2/jdk.proxy2.$Proxy6.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:121)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
2025-01-26 13:07:07 INFO  org.example.migration.MigrationMain - Запуск программы управления миграциями...
2025-01-26 13:07:09 INFO  org.example.migration.MigrationMain - Выберите действие:
2025-01-26 13:07:09 INFO  org.example.migration.MigrationMain - 1: Выполнить миграции
2025-01-26 13:07:09 INFO  org.example.migration.MigrationMain - 2: Откатить до определённой даты
2025-01-26 13:07:09 ERROR org.example.migration.MigrationMain - Произошла ошибка: null
java.util.NoSuchElementException: null
	at java.base/java.util.Scanner.throwFor(Scanner.java:945)
	at java.base/java.util.Scanner.next(Scanner.java:1602)
	at java.base/java.util.Scanner.nextInt(Scanner.java:2267)
	at java.base/java.util.Scanner.nextInt(Scanner.java:2221)
	at org.example.migration.MigrationMain.main(MigrationMain.java:25)
	at migration_main.MigrationMainTest.testRunMigrations(MigrationMainTest.java:35)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92)
	at jdk.proxy2/jdk.proxy2.$Proxy6.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:121)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
2025-01-26 13:10:44 INFO  org.example.migration.MigrationMain - Запуск программы управления миграциями...
2025-01-26 13:10:45 INFO  org.example.migration.MigrationMain - Выберите действие:
2025-01-26 13:10:45 INFO  org.example.migration.MigrationMain - 1: Выполнить миграции
2025-01-26 13:10:45 INFO  org.example.migration.MigrationMain - 2: Откатить до определённой даты
2025-01-26 13:10:45 INFO  org.example.migration.MigrationMain - Запуск миграций...
2025-01-26 13:10:45 INFO  o.example.migration.MigrationManager - Migration table created or already exists.
2025-01-26 13:10:45 INFO  o.example.migration.MigrationManager - Found 4 migration files.
2025-01-26 13:10:45 INFO  o.example.migration.MigrationManager - Migration already applied: version 1, file V1__initial_schema.sql
2025-01-26 13:10:45 INFO  o.example.migration.MigrationManager - Migration already applied: version 2, file V2__add_constraints.sql
2025-01-26 13:10:45 INFO  org.example.migration.MigrationMain - Миграции успешно завершены.
2025-01-26 13:12:12 INFO  org.example.migration.MigrationMain - Запуск программы управления миграциями...
2025-01-26 13:12:13 INFO  org.example.migration.MigrationMain - Выберите действие:
2025-01-26 13:12:13 INFO  org.example.migration.MigrationMain - 1: Выполнить миграции
2025-01-26 13:12:13 INFO  org.example.migration.MigrationMain - 2: Откатить до определённой даты
2025-01-26 13:12:13 ERROR org.example.migration.MigrationMain - Произошла ошибка: null
java.util.NoSuchElementException: null
	at java.base/java.util.Scanner.throwFor(Scanner.java:945)
	at java.base/java.util.Scanner.next(Scanner.java:1602)
	at java.base/java.util.Scanner.nextInt(Scanner.java:2267)
	at java.base/java.util.Scanner.nextInt(Scanner.java:2221)
	at org.example.migration.MigrationMain.main(MigrationMain.java:25)
	at migration_main.MigrationMainTest.testInvalidDateFormat(MigrationMainTest.java:63)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92)
	at jdk.proxy2/jdk.proxy2.$Proxy6.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:121)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
2025-01-26 13:12:13 INFO  org.example.migration.MigrationMain - Запуск программы управления миграциями...
2025-01-26 13:12:13 INFO  org.example.migration.MigrationMain - Выберите действие:
2025-01-26 13:12:13 INFO  org.example.migration.MigrationMain - 1: Выполнить миграции
2025-01-26 13:12:13 INFO  org.example.migration.MigrationMain - 2: Откатить до определённой даты
2025-01-26 13:12:13 INFO  org.example.migration.MigrationMain - Введите дату отката в формате 'YYYY-MM-DD HH:MM:SS':
2025-01-26 13:12:13 INFO  org.example.migration.MigrationMain - Попытка откатить миграции до 2025-01-01T12:00
2025-01-26 13:12:13 INFO  o.example.migration.MigrationManager - Migration table created or already exists.
2025-01-26 13:12:13 INFO  o.example.migration.MigrationManager - No migrations to rollback after 2025-01-01T12:00
2025-01-26 13:12:13 INFO  org.example.migration.MigrationMain - Откат миграций выполнен до 2025-01-01T12:00
2025-01-26 13:12:13 INFO  org.example.migration.MigrationMain - Запуск программы управления миграциями...
2025-01-26 13:12:13 INFO  org.example.migration.MigrationMain - Выберите действие:
2025-01-26 13:12:13 INFO  org.example.migration.MigrationMain - 1: Выполнить миграции
2025-01-26 13:12:13 INFO  org.example.migration.MigrationMain - 2: Откатить до определённой даты
2025-01-26 13:12:13 INFO  org.example.migration.MigrationMain - Запуск миграций...
2025-01-26 13:12:13 INFO  o.example.migration.MigrationManager - Migration table created or already exists.
2025-01-26 13:12:13 INFO  o.example.migration.MigrationManager - Found 4 migration files.
2025-01-26 13:12:13 INFO  o.example.migration.MigrationManager - Applying migration: version 1, file V1__initial_schema.sql
2025-01-26 13:12:13 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: -- V1__initial_schema.sql

-- Создание таблицы "departments"
CREATE TABLE departments (
                             id SERIAL PRIMARY KEY,
                             name VARCHAR(100) NOT NULL
);

-- Создание таблицы "employees"
CREATE TABLE employees (
                           id SERIAL PRIMARY KEY,
                           name VARCHAR(100) NOT NULL,
                           department_id INT REFERENCES departments(id)
);

-- Создание таблицы "projects"
CREATE TABLE projects (
                          id SERIAL PRIMARY KEY,
                          name VARCHAR(100) NOT NULL
);

-- Создание таблицы "employee_projects" (Many-to-Many связь между сотрудниками и проектами)
CREATE TABLE employee_projects (
                                   employee_id INT REFERENCES employees(id),
                                   project_id INT REFERENCES projects(id),
                                   PRIMARY KEY (employee_id, project_id)
);

-- Вставка начальных данных
-- Вставка начальных данных в таблицу "departments"
INSERT INTO departments (name)
VALUES
    ('HR'),
    ('Engineering'),
    ('Sales'),
    ('Marketing'),
    ('IT Support'),
    ('Customer Service'),
    ('Logistics'),
    ('Finance'),
    ('Legal'),
    ('Research and Development');
-- Вставка сотрудников
INSERT INTO employees (name, department_id)
VALUES
    ('Alice', 1),
    ('Bob', 2),
    ('Charlie', 3),
    ('Diana', 4),
    ('Eve', 5),
    ('Frank', 6),
    ('Grace', 7),
    ('Heidi', 8),
    ('Ivan', 9),
    ('Judy', 10),
    ('Kyle', 1),
    ('Laura', 2),
    ('Mike', 3),
    ('Nina', 4),
    ('Oscar', 5),
    ('Paul', 6),
    ('Quinn', 7),
    ('Rita', 8),
    ('Steve', 9),
    ('Tina', 10),
    ('Uma', 1),
    ('Victor', 2),
    ('Wendy', 3),
    ('Xander', 4),
    ('Yasmine', 5),
    ('Zane', 6),
    ('Aaron', 7),
    ('Bella', 8),
    ('Carl', 9),
    ('Dana', 10),
    ('Elliot', 1),
    ('Fiona', 2),
    ('Gabe', 3),
    ('Holly', 4),
    ('Ian', 5),
    ('Jack', 6),
    ('Kara', 7),
    ('Liam', 8),
    ('Mona', 9),
    ('Nolan', 10),
    ('Olivia', 1),
    ('Peter', 2),
    ('Quincy', 3),
    ('Rachel', 4),
    ('Sam', 5),
    ('Tara', 6),
    ('Ursula', 7),
    ('Vince', 8),
    ('Willow', 9),
    ('Xena', 10),
    ('Yuri', 1),
    ('Zoey', 2),
    ('Adrian', 3),
    ('Blair', 4),
    ('Cody', 5),
    ('Daphne', 6),
    ('Ethan', 7),
    ('Farrah', 8),
    ('Gordon', 9),
    ('Harper', 10),
    ('Isla', 1),
    ('Jonas', 2),
    ('Kelsey', 3),
    ('Logan', 4),
    ('Maya', 5),
    ('Nathan', 6),
    ('Olga', 7),
    ('Penny', 8),
    ('Quentin', 9),
    ('Rebecca', 10),
    ('Sophie', 1),
    ('Thomas', 2),
    ('Ulysses', 3),
    ('Valerie', 4),
    ('Warren', 5),
    ('Ximena', 6),
    ('Yara', 7),
    ('Zack', 8),
    ('Amber', 9),
    ('Brad', 10),
    ('Carmen', 1),
    ('Derek', 2),
    ('Ella', 3),
    ('Floyd', 4),
    ('Gwen', 5),
    ('Hank', 6),
    ('Ivy', 7),
    ('Jasper', 8),
    ('Kaitlyn', 9),
    ('Landon', 10),
    ('Wowa', 1),  -- Новый работник
    ('Jan', 2), -- Новый работник
    ('Misha', 3),  -- Новый работник
    ('Vanya', 4), -- Новый работник
    ('Arsenij', 5),  -- Новый работник
    ('Zhenia', 6), -- Новый работник
    ('Vita', 7),  -- Новый работник
    ('Iosif', 8),   -- Новый работник
    ('Katya', 9), -- Новый работник
    ('Petrosyan', 10);
-- Вставка начальных данных в таблицу "projects"
INSERT INTO projects (name)
VALUES
    ('Project Alpha'),
    ('Project Beta'),
    ('Project Gamma'),
    ('Project Delta'),
    ('Project Epsilon'),
    ('Project Zeta'),
    ('Project Eta'),
    ('Project Theta'),
    ('Project Iota'),
    ('Project Kappa'),
    ('Project Lambda'),
    ('Project Mu'),
    ('Project Nu'),
    ('Project Xi'),
    ('Project Omicron'),
    ('Project Pi'),
    ('Project Rho'),
    ('Project Sigma'),
    ('Project Tau'),
    ('Project Upsilon'),
    ('Project Phi'),
    ('Project Chi'),
    ('Project Psi'),
    ('Project Omega'),
    ('Project Apollo'),
    ('Project Hermes'),
    ('Project Artemis'),
    ('Project Demeter'),
    ('Project Hephaestus'),
    ('Project Poseidon');


-- Назначение каждому сотруднику уникального проекта
INSERT INTO employee_projects (employee_id, project_id)
SELECT e.id AS employee_id, p.id AS project_id
FROM employees e
         JOIN projects p
              ON e.id % 30 + 1 = p.id;


2025-01-26 13:12:13 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-26 13:12:13 INFO  o.example.migration.MigrationManager - Executed migration from file: V1__initial_schema.sql
2025-01-26 13:12:13 INFO  o.example.migration.MigrationManager - Marked migration as applied: version 1
2025-01-26 13:12:13 INFO  o.example.migration.MigrationManager - Migration applied successfully: version 1
2025-01-26 13:12:13 INFO  o.example.migration.MigrationManager - Applying migration: version 2, file V2__add_constraints.sql
2025-01-26 13:12:13 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: -- V2__add_constraints.sql

-- Добавление уникального индекса на поле "name" в таблице "employees", чтобы гарантировать уникальность имени сотрудника
CREATE UNIQUE INDEX idx_employees_name ON employees(name);

-- Добавление не NULL ограничения на поле "name" в таблице "projects"
ALTER TABLE projects ALTER COLUMN name SET NOT NULL;

-- Добавление ограничения на длину имени в таблице "departments"
ALTER TABLE departments ADD CONSTRAINT chk_departments_name_length CHECK (char_length(name) >= 1);

-- Добавление индекса на поле "department_id" в таблице "employees" для ускорения поиска сотрудников по отделу
CREATE INDEX idx_employees_department_id ON employees(department_id);

-- Добавление ограничения на поля "employee_id" и "project_id" в таблице "employee_projects" для обеспечения целостности данных
ALTER TABLE employee_projects
    ADD CONSTRAINT fk_employee FOREIGN KEY (employee_id) REFERENCES employees(id) ON DELETE CASCADE,
    ADD CONSTRAINT fk_project FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE;

-- Добавление ограничения на уникальность в таблице "employee_projects", чтобы избежать дублирования записей
CREATE UNIQUE INDEX idx_employee_projects ON employee_projects(employee_id, project_id);

2025-01-26 13:12:13 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-26 13:12:13 INFO  o.example.migration.MigrationManager - Executed migration from file: V2__add_constraints.sql
2025-01-26 13:12:13 INFO  o.example.migration.MigrationManager - Marked migration as applied: version 2
2025-01-26 13:12:13 INFO  o.example.migration.MigrationManager - Migration applied successfully: version 2
2025-01-26 13:12:13 INFO  org.example.migration.MigrationMain - Миграции успешно завершены.
2025-01-26 13:14:00 INFO  org.example.migration.MigrationMain - Запуск программы управления миграциями...
2025-01-26 13:14:01 INFO  org.example.migration.MigrationMain - Выберите действие:
2025-01-26 13:14:01 INFO  org.example.migration.MigrationMain - 1: Выполнить миграции
2025-01-26 13:14:01 INFO  org.example.migration.MigrationMain - 2: Откатить до определённой даты
2025-01-26 13:14:14 INFO  org.example.migration.MigrationMain - Запуск миграций...
2025-01-26 13:14:14 INFO  o.example.migration.MigrationManager - Migration table created or already exists.
2025-01-26 13:14:14 INFO  o.example.migration.MigrationManager - Found 4 migration files.
2025-01-26 13:14:14 INFO  o.example.migration.MigrationManager - Migration already applied: version 1, file V1__initial_schema.sql
2025-01-26 13:14:14 INFO  o.example.migration.MigrationManager - Migration already applied: version 2, file V2__add_constraints.sql
2025-01-26 13:14:14 INFO  org.example.migration.MigrationMain - Миграции успешно завершены.
2025-01-26 13:14:22 INFO  org.example.migration.MigrationMain - Запуск программы управления миграциями...
2025-01-26 13:14:22 INFO  org.example.migration.MigrationMain - Выберите действие:
2025-01-26 13:14:22 INFO  org.example.migration.MigrationMain - 1: Выполнить миграции
2025-01-26 13:14:22 INFO  org.example.migration.MigrationMain - 2: Откатить до определённой даты
2025-01-26 13:14:28 INFO  org.example.migration.MigrationMain - Введите дату отката в формате 'YYYY-MM-DD HH:MM:SS':
2025-01-26 13:14:39 INFO  org.example.migration.MigrationMain - Попытка откатить миграции до 2025-01-26T10:19
2025-01-26 13:14:39 INFO  o.example.migration.MigrationManager - Migration table created or already exists.
2025-01-26 13:14:39 INFO  o.example.migration.MigrationManager - Found 2 migrations to rollback.
2025-01-26 13:14:39 INFO  o.example.migration.MigrationManager - Rolling back migration version 2 using file R2__rollback.sql
2025-01-26 13:14:39 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: -- R2__rollback_initial_schema.sql

-- Удаление уникального индекса на поле "name" в таблице "employees"
DROP INDEX IF EXISTS idx_employees_name;

-- Снятие NOT NULL ограничения с поля "name" в таблице "projects"
ALTER TABLE projects ALTER COLUMN name DROP NOT NULL;

-- Удаление ограничения на длину имени в таблице "departments"
ALTER TABLE departments DROP CONSTRAINT IF EXISTS chk_departments_name_length;

-- Удаление индекса на поле "department_id" в таблице "employees"
DROP INDEX IF EXISTS idx_employees_department_id;

-- Удаление ограничений внешнего ключа из таблицы "employee_projects"
ALTER TABLE employee_projects
    DROP CONSTRAINT IF EXISTS fk_employee,
    DROP CONSTRAINT IF EXISTS fk_project;

-- Удаление уникального индекса на поля "employee_id" и "project_id" в таблице "employee_projects"
DROP INDEX IF EXISTS idx_employee_projects;
2025-01-26 13:14:39 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-26 13:14:39 INFO  o.example.migration.MigrationManager - Rolled back migration version 2 successfully.
2025-01-26 13:14:39 INFO  o.example.migration.MigrationManager - Rolling back migration version 1 using file R1__rollback.sql
2025-01-26 13:14:39 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: -- R1__rollback_initial_schema.sql

-- Удаление всех данных из таблицы "employee_projects"
DELETE FROM employee_projects;

-- Удаление всех данных из таблицы "employees"
DELETE FROM employees;

-- Удаление всех данных из таблицы "projects"
DELETE FROM projects;

-- Удаление всех данных из таблицы "departments"
DELETE FROM departments;

-- Удаление таблицы "employee_projects"
DROP TABLE IF EXISTS employee_projects;

-- Удаление таблицы "employees"
DROP TABLE IF EXISTS employees;

-- Удаление таблицы "projects"
DROP TABLE IF EXISTS projects;

-- Удаление таблицы "departments"
DROP TABLE IF EXISTS departments;

2025-01-26 13:14:39 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-26 13:14:39 INFO  o.example.migration.MigrationManager - Rolled back migration version 1 successfully.
2025-01-26 13:14:39 INFO  org.example.migration.MigrationMain - Откат миграций выполнен до 2025-01-26T10:19
2025-01-26 13:14:50 INFO  org.example.migration.MigrationMain - Запуск программы управления миграциями...
2025-01-26 13:14:51 INFO  org.example.migration.MigrationMain - Выберите действие:
2025-01-26 13:14:51 INFO  org.example.migration.MigrationMain - 1: Выполнить миграции
2025-01-26 13:14:51 INFO  org.example.migration.MigrationMain - 2: Откатить до определённой даты
2025-01-26 13:14:59 INFO  org.example.migration.MigrationMain - Введите дату отката в формате 'YYYY-MM-DD HH:MM:SS':
2025-01-26 13:15:09 INFO  org.example.migration.MigrationMain - Попытка откатить миграции до 2025-01-26T13:14
2025-01-26 13:15:09 INFO  o.example.migration.MigrationManager - Migration table created or already exists.
2025-01-26 13:15:09 INFO  o.example.migration.MigrationManager - No migrations to rollback after 2025-01-26T13:14
2025-01-26 13:15:09 INFO  org.example.migration.MigrationMain - Откат миграций выполнен до 2025-01-26T13:14
2025-01-26 13:15:35 INFO  org.example.migration.MigrationMain - Запуск программы управления миграциями...
2025-01-26 13:15:35 INFO  org.example.migration.MigrationMain - Выберите действие:
2025-01-26 13:15:35 INFO  org.example.migration.MigrationMain - 1: Выполнить миграции
2025-01-26 13:15:35 INFO  org.example.migration.MigrationMain - 2: Откатить до определённой даты
2025-01-26 13:15:41 INFO  org.example.migration.MigrationMain - Введите дату отката в формате 'YYYY-MM-DD HH:MM:SS':
2025-01-26 13:15:58 INFO  org.example.migration.MigrationMain - Попытка откатить миграции до 2025-01-26T10:18
2025-01-26 13:15:58 INFO  o.example.migration.MigrationManager - Migration table created or already exists.
2025-01-26 13:15:58 INFO  o.example.migration.MigrationManager - No migrations to rollback after 2025-01-26T10:18
2025-01-26 13:15:58 INFO  org.example.migration.MigrationMain - Откат миграций выполнен до 2025-01-26T10:18
2025-01-26 13:16:19 INFO  org.example.migration.MigrationMain - Запуск программы управления миграциями...
2025-01-26 13:16:20 INFO  org.example.migration.MigrationMain - Выберите действие:
2025-01-26 13:16:20 INFO  org.example.migration.MigrationMain - 1: Выполнить миграции
2025-01-26 13:16:20 INFO  org.example.migration.MigrationMain - 2: Откатить до определённой даты
2025-01-26 13:16:24 INFO  org.example.migration.MigrationMain - Введите дату отката в формате 'YYYY-MM-DD HH:MM:SS':
2025-01-26 13:16:34 INFO  org.example.migration.MigrationMain - Попытка откатить миграции до 2025-01-26T13:00
2025-01-26 13:16:34 INFO  o.example.migration.MigrationManager - Migration table created or already exists.
2025-01-26 13:16:34 INFO  o.example.migration.MigrationManager - No migrations to rollback after 2025-01-26T13:00
2025-01-26 13:16:34 INFO  org.example.migration.MigrationMain - Откат миграций выполнен до 2025-01-26T13:00
2025-01-26 13:16:48 INFO  org.example.migration.MigrationMain - Запуск программы управления миграциями...
2025-01-26 13:16:49 INFO  org.example.migration.MigrationMain - Выберите действие:
2025-01-26 13:16:49 INFO  org.example.migration.MigrationMain - 1: Выполнить миграции
2025-01-26 13:16:49 INFO  org.example.migration.MigrationMain - 2: Откатить до определённой даты
2025-01-26 13:16:52 INFO  org.example.migration.MigrationMain - Запуск миграций...
2025-01-26 13:16:52 INFO  o.example.migration.MigrationManager - Migration table created or already exists.
2025-01-26 13:16:52 INFO  o.example.migration.MigrationManager - Found 4 migration files.
2025-01-26 13:16:52 INFO  o.example.migration.MigrationManager - Applying migration: version 1, file V1__initial_schema.sql
2025-01-26 13:16:52 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: -- V1__initial_schema.sql

-- Создание таблицы "departments"
CREATE TABLE departments (
                             id SERIAL PRIMARY KEY,
                             name VARCHAR(100) NOT NULL
);

-- Создание таблицы "employees"
CREATE TABLE employees (
                           id SERIAL PRIMARY KEY,
                           name VARCHAR(100) NOT NULL,
                           department_id INT REFERENCES departments(id)
);

-- Создание таблицы "projects"
CREATE TABLE projects (
                          id SERIAL PRIMARY KEY,
                          name VARCHAR(100) NOT NULL
);

-- Создание таблицы "employee_projects" (Many-to-Many связь между сотрудниками и проектами)
CREATE TABLE employee_projects (
                                   employee_id INT REFERENCES employees(id),
                                   project_id INT REFERENCES projects(id),
                                   PRIMARY KEY (employee_id, project_id)
);

-- Вставка начальных данных
-- Вставка начальных данных в таблицу "departments"
INSERT INTO departments (name)
VALUES
    ('HR'),
    ('Engineering'),
    ('Sales'),
    ('Marketing'),
    ('IT Support'),
    ('Customer Service'),
    ('Logistics'),
    ('Finance'),
    ('Legal'),
    ('Research and Development');
-- Вставка сотрудников
INSERT INTO employees (name, department_id)
VALUES
    ('Alice', 1),
    ('Bob', 2),
    ('Charlie', 3),
    ('Diana', 4),
    ('Eve', 5),
    ('Frank', 6),
    ('Grace', 7),
    ('Heidi', 8),
    ('Ivan', 9),
    ('Judy', 10),
    ('Kyle', 1),
    ('Laura', 2),
    ('Mike', 3),
    ('Nina', 4),
    ('Oscar', 5),
    ('Paul', 6),
    ('Quinn', 7),
    ('Rita', 8),
    ('Steve', 9),
    ('Tina', 10),
    ('Uma', 1),
    ('Victor', 2),
    ('Wendy', 3),
    ('Xander', 4),
    ('Yasmine', 5),
    ('Zane', 6),
    ('Aaron', 7),
    ('Bella', 8),
    ('Carl', 9),
    ('Dana', 10),
    ('Elliot', 1),
    ('Fiona', 2),
    ('Gabe', 3),
    ('Holly', 4),
    ('Ian', 5),
    ('Jack', 6),
    ('Kara', 7),
    ('Liam', 8),
    ('Mona', 9),
    ('Nolan', 10),
    ('Olivia', 1),
    ('Peter', 2),
    ('Quincy', 3),
    ('Rachel', 4),
    ('Sam', 5),
    ('Tara', 6),
    ('Ursula', 7),
    ('Vince', 8),
    ('Willow', 9),
    ('Xena', 10),
    ('Yuri', 1),
    ('Zoey', 2),
    ('Adrian', 3),
    ('Blair', 4),
    ('Cody', 5),
    ('Daphne', 6),
    ('Ethan', 7),
    ('Farrah', 8),
    ('Gordon', 9),
    ('Harper', 10),
    ('Isla', 1),
    ('Jonas', 2),
    ('Kelsey', 3),
    ('Logan', 4),
    ('Maya', 5),
    ('Nathan', 6),
    ('Olga', 7),
    ('Penny', 8),
    ('Quentin', 9),
    ('Rebecca', 10),
    ('Sophie', 1),
    ('Thomas', 2),
    ('Ulysses', 3),
    ('Valerie', 4),
    ('Warren', 5),
    ('Ximena', 6),
    ('Yara', 7),
    ('Zack', 8),
    ('Amber', 9),
    ('Brad', 10),
    ('Carmen', 1),
    ('Derek', 2),
    ('Ella', 3),
    ('Floyd', 4),
    ('Gwen', 5),
    ('Hank', 6),
    ('Ivy', 7),
    ('Jasper', 8),
    ('Kaitlyn', 9),
    ('Landon', 10),
    ('Wowa', 1),  -- Новый работник
    ('Jan', 2), -- Новый работник
    ('Misha', 3),  -- Новый работник
    ('Vanya', 4), -- Новый работник
    ('Arsenij', 5),  -- Новый работник
    ('Zhenia', 6), -- Новый работник
    ('Vita', 7),  -- Новый работник
    ('Iosif', 8),   -- Новый работник
    ('Katya', 9), -- Новый работник
    ('Petrosyan', 10);
-- Вставка начальных данных в таблицу "projects"
INSERT INTO projects (name)
VALUES
    ('Project Alpha'),
    ('Project Beta'),
    ('Project Gamma'),
    ('Project Delta'),
    ('Project Epsilon'),
    ('Project Zeta'),
    ('Project Eta'),
    ('Project Theta'),
    ('Project Iota'),
    ('Project Kappa'),
    ('Project Lambda'),
    ('Project Mu'),
    ('Project Nu'),
    ('Project Xi'),
    ('Project Omicron'),
    ('Project Pi'),
    ('Project Rho'),
    ('Project Sigma'),
    ('Project Tau'),
    ('Project Upsilon'),
    ('Project Phi'),
    ('Project Chi'),
    ('Project Psi'),
    ('Project Omega'),
    ('Project Apollo'),
    ('Project Hermes'),
    ('Project Artemis'),
    ('Project Demeter'),
    ('Project Hephaestus'),
    ('Project Poseidon');


-- Назначение каждому сотруднику уникального проекта
INSERT INTO employee_projects (employee_id, project_id)
SELECT e.id AS employee_id, p.id AS project_id
FROM employees e
         JOIN projects p
              ON e.id % 30 + 1 = p.id;


2025-01-26 13:16:52 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-26 13:16:52 INFO  o.example.migration.MigrationManager - Executed migration from file: V1__initial_schema.sql
2025-01-26 13:16:52 INFO  o.example.migration.MigrationManager - Marked migration as applied: version 1
2025-01-26 13:16:52 INFO  o.example.migration.MigrationManager - Migration applied successfully: version 1
2025-01-26 13:16:52 INFO  o.example.migration.MigrationManager - Applying migration: version 2, file V2__add_constraints.sql
2025-01-26 13:16:52 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: -- V2__add_constraints.sql

-- Добавление уникального индекса на поле "name" в таблице "employees", чтобы гарантировать уникальность имени сотрудника
CREATE UNIQUE INDEX idx_employees_name ON employees(name);

-- Добавление не NULL ограничения на поле "name" в таблице "projects"
ALTER TABLE projects ALTER COLUMN name SET NOT NULL;

-- Добавление ограничения на длину имени в таблице "departments"
ALTER TABLE departments ADD CONSTRAINT chk_departments_name_length CHECK (char_length(name) >= 1);

-- Добавление индекса на поле "department_id" в таблице "employees" для ускорения поиска сотрудников по отделу
CREATE INDEX idx_employees_department_id ON employees(department_id);

-- Добавление ограничения на поля "employee_id" и "project_id" в таблице "employee_projects" для обеспечения целостности данных
ALTER TABLE employee_projects
    ADD CONSTRAINT fk_employee FOREIGN KEY (employee_id) REFERENCES employees(id) ON DELETE CASCADE,
    ADD CONSTRAINT fk_project FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE;

-- Добавление ограничения на уникальность в таблице "employee_projects", чтобы избежать дублирования записей
CREATE UNIQUE INDEX idx_employee_projects ON employee_projects(employee_id, project_id);

2025-01-26 13:16:52 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-26 13:16:52 INFO  o.example.migration.MigrationManager - Executed migration from file: V2__add_constraints.sql
2025-01-26 13:16:52 INFO  o.example.migration.MigrationManager - Marked migration as applied: version 2
2025-01-26 13:16:52 INFO  o.example.migration.MigrationManager - Migration applied successfully: version 2
2025-01-26 13:16:52 INFO  org.example.migration.MigrationMain - Миграции успешно завершены.
2025-01-26 13:17:07 INFO  org.example.migration.MigrationMain - Запуск программы управления миграциями...
2025-01-26 13:17:08 INFO  org.example.migration.MigrationMain - Выберите действие:
2025-01-26 13:17:08 INFO  org.example.migration.MigrationMain - 1: Выполнить миграции
2025-01-26 13:17:08 INFO  org.example.migration.MigrationMain - 2: Откатить до определённой даты
2025-01-26 13:17:11 INFO  org.example.migration.MigrationMain - Введите дату отката в формате 'YYYY-MM-DD HH:MM:SS':
2025-01-26 13:17:20 INFO  org.example.migration.MigrationMain - Попытка откатить миграции до 2025-01-26T13:16
2025-01-26 13:17:20 INFO  o.example.migration.MigrationManager - Migration table created or already exists.
2025-01-26 13:17:20 INFO  o.example.migration.MigrationManager - Found 2 migrations to rollback.
2025-01-26 13:17:20 INFO  o.example.migration.MigrationManager - Rolling back migration version 2 using file R2__rollback.sql
2025-01-26 13:17:20 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: -- R2__rollback_initial_schema.sql

-- Удаление уникального индекса на поле "name" в таблице "employees"
DROP INDEX IF EXISTS idx_employees_name;

-- Снятие NOT NULL ограничения с поля "name" в таблице "projects"
ALTER TABLE projects ALTER COLUMN name DROP NOT NULL;

-- Удаление ограничения на длину имени в таблице "departments"
ALTER TABLE departments DROP CONSTRAINT IF EXISTS chk_departments_name_length;

-- Удаление индекса на поле "department_id" в таблице "employees"
DROP INDEX IF EXISTS idx_employees_department_id;

-- Удаление ограничений внешнего ключа из таблицы "employee_projects"
ALTER TABLE employee_projects
    DROP CONSTRAINT IF EXISTS fk_employee,
    DROP CONSTRAINT IF EXISTS fk_project;

-- Удаление уникального индекса на поля "employee_id" и "project_id" в таблице "employee_projects"
DROP INDEX IF EXISTS idx_employee_projects;
2025-01-26 13:17:20 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-26 13:17:20 INFO  o.example.migration.MigrationManager - Rolled back migration version 2 successfully.
2025-01-26 13:17:20 INFO  o.example.migration.MigrationManager - Rolling back migration version 1 using file R1__rollback.sql
2025-01-26 13:17:20 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: -- R1__rollback_initial_schema.sql

-- Удаление всех данных из таблицы "employee_projects"
DELETE FROM employee_projects;

-- Удаление всех данных из таблицы "employees"
DELETE FROM employees;

-- Удаление всех данных из таблицы "projects"
DELETE FROM projects;

-- Удаление всех данных из таблицы "departments"
DELETE FROM departments;

-- Удаление таблицы "employee_projects"
DROP TABLE IF EXISTS employee_projects;

-- Удаление таблицы "employees"
DROP TABLE IF EXISTS employees;

-- Удаление таблицы "projects"
DROP TABLE IF EXISTS projects;

-- Удаление таблицы "departments"
DROP TABLE IF EXISTS departments;

2025-01-26 13:17:20 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-26 13:17:20 INFO  o.example.migration.MigrationManager - Rolled back migration version 1 successfully.
2025-01-26 13:17:20 INFO  org.example.migration.MigrationMain - Откат миграций выполнен до 2025-01-26T13:16
2025-01-26 13:17:26 INFO  org.example.migration.MigrationMain - Запуск программы управления миграциями...
2025-01-26 13:17:27 INFO  org.example.migration.MigrationMain - Выберите действие:
2025-01-26 13:17:27 INFO  org.example.migration.MigrationMain - 1: Выполнить миграции
2025-01-26 13:17:27 INFO  org.example.migration.MigrationMain - 2: Откатить до определённой даты
2025-01-26 13:17:31 INFO  org.example.migration.MigrationMain - Введите дату отката в формате 'YYYY-MM-DD HH:MM:SS':
2025-01-26 13:17:42 INFO  org.example.migration.MigrationMain - Попытка откатить миграции до 2025-01-26T13:16:56
2025-01-26 13:17:42 INFO  o.example.migration.MigrationManager - Migration table created or already exists.
2025-01-26 13:17:42 INFO  o.example.migration.MigrationManager - No migrations to rollback after 2025-01-26T13:16:56
2025-01-26 13:17:42 INFO  org.example.migration.MigrationMain - Откат миграций выполнен до 2025-01-26T13:16:56
2025-01-26 13:22:05 INFO  org.example.migration.MigrationMain - Запуск программы управления миграциями...
2025-01-26 13:22:07 INFO  org.example.migration.MigrationMain - Выберите действие:
2025-01-26 13:22:07 INFO  org.example.migration.MigrationMain - 1: Выполнить миграции
2025-01-26 13:22:07 INFO  org.example.migration.MigrationMain - 2: Откатить до определённой даты
2025-01-26 13:22:07 ERROR org.example.migration.MigrationMain - Произошла ошибка: null
java.util.NoSuchElementException: null
	at java.base/java.util.Scanner.throwFor(Scanner.java:945)
	at java.base/java.util.Scanner.next(Scanner.java:1602)
	at java.base/java.util.Scanner.nextInt(Scanner.java:2267)
	at java.base/java.util.Scanner.nextInt(Scanner.java:2221)
	at org.example.migration.MigrationMain.main(MigrationMain.java:25)
	at migration_main.MigrationMainTest.testInvalidDateFormat(MigrationMainTest.java:38)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92)
	at jdk.proxy2/jdk.proxy2.$Proxy6.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:121)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
2025-01-26 13:23:05 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: CREATE TABLE IF NOT EXISTS another_table (id INT, description VARCHAR(255)); INSERT INTO another_table (id, description) VALUES (1, 'Description');
2025-01-26 13:23:06 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-26 13:23:06 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: CREATE TABLE IF NOT EXISTS test_table (id INT, name VARCHAR(255)); INSERT INTO test_table (id, name) VALUES (1, 'Test');
2025-01-26 13:23:06 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-26 13:23:09 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: SELECT * FROM test_table
2025-01-26 13:23:09 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-26 13:23:09 INFO  org.example.migration.MigrationMain - Запуск программы управления миграциями...
2025-01-26 13:23:09 INFO  org.example.migration.MigrationMain - Выберите действие:
2025-01-26 13:23:09 INFO  org.example.migration.MigrationMain - 1: Выполнить миграции
2025-01-26 13:23:09 INFO  org.example.migration.MigrationMain - 2: Откатить до определённой даты
2025-01-26 13:23:09 ERROR org.example.migration.MigrationMain - Произошла ошибка: null
java.util.NoSuchElementException: null
	at java.base/java.util.Scanner.throwFor(Scanner.java:945)
	at java.base/java.util.Scanner.next(Scanner.java:1602)
	at java.base/java.util.Scanner.nextInt(Scanner.java:2267)
	at java.base/java.util.Scanner.nextInt(Scanner.java:2221)
	at org.example.migration.MigrationMain.main(MigrationMain.java:25)
	at migration_main.MigrationMainTest.testInvalidDateFormat(MigrationMainTest.java:38)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92)
	at jdk.proxy2/jdk.proxy2.$Proxy6.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:121)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
2025-01-26 13:23:10 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (1, 'Test Name')
2025-01-26 13:23:10 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 13:23:10 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 13:23:10 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (2, 'New Test Name')
2025-01-26 13:23:10 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 13:23:10 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 13:23:10 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (1, 'Test Name')
2025-01-26 13:23:10 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 13:23:10 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 13:23:10 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (1, 'Another Test Name')
2025-01-26 13:23:10 ERROR migrations.MigrationScriptExecutor - Error executing migration: Нарушение уникального индекса или первичного ключа: "PRIMARY KEY ON PUBLIC.TEST_TABLE(ID) ( /* key:1 */ 1, 'Test Name')"
Unique index or primary key violation: "PRIMARY KEY ON PUBLIC.TEST_TABLE(ID) ( /* key:1 */ 1, 'Test Name')"; SQL statement:
INSERT INTO test_table (id, name) VALUES (1, 'Another Test Name') [23505-214]
2025-01-26 13:23:10 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 13:23:11 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: CREATE TABLE test(id INT)
2025-01-26 13:23:11 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 13:23:11 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 13:23:11 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: CREATE TABLE test(id INT)
2025-01-26 13:23:11 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 13:23:11 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 13:23:11 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: CREATE TABLE test(id INT)
2025-01-26 13:23:11 ERROR migrations.MigrationScriptExecutor - Error executing migration: null
2025-01-26 13:23:11 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 13:23:11 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM test_table
2025-01-26 13:23:11 INFO  migrations.MigrationValidator - SQL syntax is valid.
2025-01-26 13:23:11 WARN  migrations.MigrationValidator - Destructive operation detected in SQL: DROP TABLE test_table
2025-01-26 13:23:11 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM non_existing_table
2025-01-26 13:23:11 ERROR migrations.MigrationValidator - SQL syntax is invalid: Syntax error
2025-01-26 13:23:11 INFO  migrations.MigrationValidator - SQL is safe for execution.
2025-01-26 13:23:11 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM test_table
2025-01-26 13:23:11 INFO  migrations.MigrationValidator - SQL syntax is valid.
2025-01-26 13:23:11 WARN  migrations.MigrationValidator - Destructive operation detected in SQL: DROP TABLE test_table
2025-01-26 13:23:11 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM non_existing_table
2025-01-26 13:23:11 ERROR migrations.MigrationValidator - SQL syntax is invalid: Syntax error
2025-01-26 13:23:11 INFO  migrations.MigrationValidator - SQL is safe for execution.
2025-01-26 13:30:00 INFO  o.example.migration.MigrationManager - Migration table created or already exists.
2025-01-26 13:31:12 INFO  o.example.migration.MigrationManager - Migration table created or already exists.
2025-01-26 13:31:18 INFO  org.example.migration.MigrationMain - Запуск программы управления миграциями...
2025-01-26 13:31:19 INFO  org.example.migration.MigrationMain - Выберите действие:
2025-01-26 13:31:19 INFO  org.example.migration.MigrationMain - 1: Выполнить миграции
2025-01-26 13:31:19 INFO  org.example.migration.MigrationMain - 2: Откатить до определённой даты
2025-01-26 13:31:24 INFO  org.example.migration.MigrationMain - Запуск миграций...
2025-01-26 13:31:24 INFO  o.example.migration.MigrationManager - Migration table created or already exists.
2025-01-26 13:31:24 INFO  o.example.migration.MigrationManager - Found 4 migration files.
2025-01-26 13:31:24 INFO  o.example.migration.MigrationManager - Applying migration: version 1, file V1__initial_schema.sql
2025-01-26 13:31:24 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: -- V1__initial_schema.sql

-- Создание таблицы "departments"
CREATE TABLE departments (
                             id SERIAL PRIMARY KEY,
                             name VARCHAR(100) NOT NULL
);

-- Создание таблицы "employees"
CREATE TABLE employees (
                           id SERIAL PRIMARY KEY,
                           name VARCHAR(100) NOT NULL,
                           department_id INT REFERENCES departments(id)
);

-- Создание таблицы "projects"
CREATE TABLE projects (
                          id SERIAL PRIMARY KEY,
                          name VARCHAR(100) NOT NULL
);

-- Создание таблицы "employee_projects" (Many-to-Many связь между сотрудниками и проектами)
CREATE TABLE employee_projects (
                                   employee_id INT REFERENCES employees(id),
                                   project_id INT REFERENCES projects(id),
                                   PRIMARY KEY (employee_id, project_id)
);

-- Вставка начальных данных
-- Вставка начальных данных в таблицу "departments"
INSERT INTO departments (name)
VALUES
    ('HR'),
    ('Engineering'),
    ('Sales'),
    ('Marketing'),
    ('IT Support'),
    ('Customer Service'),
    ('Logistics'),
    ('Finance'),
    ('Legal'),
    ('Research and Development');
-- Вставка сотрудников
INSERT INTO employees (name, department_id)
VALUES
    ('Alice', 1),
    ('Bob', 2),
    ('Charlie', 3),
    ('Diana', 4),
    ('Eve', 5),
    ('Frank', 6),
    ('Grace', 7),
    ('Heidi', 8),
    ('Ivan', 9),
    ('Judy', 10),
    ('Kyle', 1),
    ('Laura', 2),
    ('Mike', 3),
    ('Nina', 4),
    ('Oscar', 5),
    ('Paul', 6),
    ('Quinn', 7),
    ('Rita', 8),
    ('Steve', 9),
    ('Tina', 10),
    ('Uma', 1),
    ('Victor', 2),
    ('Wendy', 3),
    ('Xander', 4),
    ('Yasmine', 5),
    ('Zane', 6),
    ('Aaron', 7),
    ('Bella', 8),
    ('Carl', 9),
    ('Dana', 10),
    ('Elliot', 1),
    ('Fiona', 2),
    ('Gabe', 3),
    ('Holly', 4),
    ('Ian', 5),
    ('Jack', 6),
    ('Kara', 7),
    ('Liam', 8),
    ('Mona', 9),
    ('Nolan', 10),
    ('Olivia', 1),
    ('Peter', 2),
    ('Quincy', 3),
    ('Rachel', 4),
    ('Sam', 5),
    ('Tara', 6),
    ('Ursula', 7),
    ('Vince', 8),
    ('Willow', 9),
    ('Xena', 10),
    ('Yuri', 1),
    ('Zoey', 2),
    ('Adrian', 3),
    ('Blair', 4),
    ('Cody', 5),
    ('Daphne', 6),
    ('Ethan', 7),
    ('Farrah', 8),
    ('Gordon', 9),
    ('Harper', 10),
    ('Isla', 1),
    ('Jonas', 2),
    ('Kelsey', 3),
    ('Logan', 4),
    ('Maya', 5),
    ('Nathan', 6),
    ('Olga', 7),
    ('Penny', 8),
    ('Quentin', 9),
    ('Rebecca', 10),
    ('Sophie', 1),
    ('Thomas', 2),
    ('Ulysses', 3),
    ('Valerie', 4),
    ('Warren', 5),
    ('Ximena', 6),
    ('Yara', 7),
    ('Zack', 8),
    ('Amber', 9),
    ('Brad', 10),
    ('Carmen', 1),
    ('Derek', 2),
    ('Ella', 3),
    ('Floyd', 4),
    ('Gwen', 5),
    ('Hank', 6),
    ('Ivy', 7),
    ('Jasper', 8),
    ('Kaitlyn', 9),
    ('Landon', 10),
    ('Wowa', 1),  -- Новый работник
    ('Jan', 2), -- Новый работник
    ('Misha', 3),  -- Новый работник
    ('Vanya', 4), -- Новый работник
    ('Arsenij', 5),  -- Новый работник
    ('Zhenia', 6), -- Новый работник
    ('Vita', 7),  -- Новый работник
    ('Iosif', 8),   -- Новый работник
    ('Katya', 9), -- Новый работник
    ('Petrosyan', 10);
-- Вставка начальных данных в таблицу "projects"
INSERT INTO projects (name)
VALUES
    ('Project Alpha'),
    ('Project Beta'),
    ('Project Gamma'),
    ('Project Delta'),
    ('Project Epsilon'),
    ('Project Zeta'),
    ('Project Eta'),
    ('Project Theta'),
    ('Project Iota'),
    ('Project Kappa'),
    ('Project Lambda'),
    ('Project Mu'),
    ('Project Nu'),
    ('Project Xi'),
    ('Project Omicron'),
    ('Project Pi'),
    ('Project Rho'),
    ('Project Sigma'),
    ('Project Tau'),
    ('Project Upsilon'),
    ('Project Phi'),
    ('Project Chi'),
    ('Project Psi'),
    ('Project Omega'),
    ('Project Apollo'),
    ('Project Hermes'),
    ('Project Artemis'),
    ('Project Demeter'),
    ('Project Hephaestus'),
    ('Project Poseidon');


-- Назначение каждому сотруднику уникального проекта
INSERT INTO employee_projects (employee_id, project_id)
SELECT e.id AS employee_id, p.id AS project_id
FROM employees e
         JOIN projects p
              ON e.id % 30 + 1 = p.id;


2025-01-26 13:31:24 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-26 13:31:24 INFO  o.example.migration.MigrationManager - Executed migration from file: V1__initial_schema.sql
2025-01-26 13:31:24 INFO  o.example.migration.MigrationManager - Marked migration as applied: version 1
2025-01-26 13:31:24 INFO  o.example.migration.MigrationManager - Migration applied successfully: version 1
2025-01-26 13:31:24 INFO  o.example.migration.MigrationManager - Applying migration: version 2, file V2__add_constraints.sql
2025-01-26 13:31:24 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: -- V2__add_constraints.sql

-- Добавление уникального индекса на поле "name" в таблице "employees", чтобы гарантировать уникальность имени сотрудника
CREATE UNIQUE INDEX idx_employees_name ON employees(name);

-- Добавление не NULL ограничения на поле "name" в таблице "projects"
ALTER TABLE projects ALTER COLUMN name SET NOT NULL;

-- Добавление ограничения на длину имени в таблице "departments"
ALTER TABLE departments ADD CONSTRAINT chk_departments_name_length CHECK (char_length(name) >= 1);

-- Добавление индекса на поле "department_id" в таблице "employees" для ускорения поиска сотрудников по отделу
CREATE INDEX idx_employees_department_id ON employees(department_id);

-- Добавление ограничения на поля "employee_id" и "project_id" в таблице "employee_projects" для обеспечения целостности данных
ALTER TABLE employee_projects
    ADD CONSTRAINT fk_employee FOREIGN KEY (employee_id) REFERENCES employees(id) ON DELETE CASCADE,
    ADD CONSTRAINT fk_project FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE;

-- Добавление ограничения на уникальность в таблице "employee_projects", чтобы избежать дублирования записей
CREATE UNIQUE INDEX idx_employee_projects ON employee_projects(employee_id, project_id);

2025-01-26 13:31:24 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-26 13:31:24 INFO  o.example.migration.MigrationManager - Executed migration from file: V2__add_constraints.sql
2025-01-26 13:31:24 INFO  o.example.migration.MigrationManager - Marked migration as applied: version 2
2025-01-26 13:31:24 INFO  o.example.migration.MigrationManager - Migration applied successfully: version 2
2025-01-26 13:31:24 INFO  org.example.migration.MigrationMain - Миграции успешно завершены.
2025-01-26 13:32:27 INFO  o.example.migration.MigrationManager - Migration table created or already exists.
2025-01-26 13:32:50 INFO  o.example.migration.MigrationManager - Migration table created or already exists.
2025-01-26 13:35:05 INFO  o.example.migration.MigrationManager - Migration table created or already exists.
2025-01-26 13:35:55 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: CREATE TABLE IF NOT EXISTS another_table (id INT, description VARCHAR(255)); INSERT INTO another_table (id, description) VALUES (1, 'Description');
2025-01-26 13:35:56 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-26 13:35:56 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: CREATE TABLE IF NOT EXISTS test_table (id INT, name VARCHAR(255)); INSERT INTO test_table (id, name) VALUES (1, 'Test');
2025-01-26 13:35:56 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-26 13:35:59 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: SELECT * FROM test_table
2025-01-26 13:35:59 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-26 13:35:59 INFO  org.example.migration.MigrationMain - Запуск программы управления миграциями...
2025-01-26 13:35:59 INFO  org.example.migration.MigrationMain - Выберите действие:
2025-01-26 13:35:59 INFO  org.example.migration.MigrationMain - 1: Выполнить миграции
2025-01-26 13:35:59 INFO  org.example.migration.MigrationMain - 2: Откатить до определённой даты
2025-01-26 13:35:59 ERROR org.example.migration.MigrationMain - Произошла ошибка: null
java.util.NoSuchElementException: null
	at java.base/java.util.Scanner.throwFor(Scanner.java:945)
	at java.base/java.util.Scanner.next(Scanner.java:1602)
	at java.base/java.util.Scanner.nextInt(Scanner.java:2267)
	at java.base/java.util.Scanner.nextInt(Scanner.java:2221)
	at org.example.migration.MigrationMain.main(MigrationMain.java:25)
	at migration_main.MigrationMainTest.testInvalidDateFormat(MigrationMainTest.java:38)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92)
	at jdk.proxy2/jdk.proxy2.$Proxy6.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:121)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
2025-01-26 13:36:01 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (1, 'Test Name')
2025-01-26 13:36:01 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 13:36:01 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 13:36:01 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (2, 'New Test Name')
2025-01-26 13:36:01 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 13:36:01 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 13:36:01 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (1, 'Test Name')
2025-01-26 13:36:01 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 13:36:01 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 13:36:01 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (1, 'Another Test Name')
2025-01-26 13:36:01 ERROR migrations.MigrationScriptExecutor - Error executing migration: Нарушение уникального индекса или первичного ключа: "PRIMARY KEY ON PUBLIC.TEST_TABLE(ID) ( /* key:1 */ 1, 'Test Name')"
Unique index or primary key violation: "PRIMARY KEY ON PUBLIC.TEST_TABLE(ID) ( /* key:1 */ 1, 'Test Name')"; SQL statement:
INSERT INTO test_table (id, name) VALUES (1, 'Another Test Name') [23505-214]
2025-01-26 13:36:01 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 13:36:01 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: CREATE TABLE test(id INT)
2025-01-26 13:36:01 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 13:36:01 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 13:36:01 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: CREATE TABLE test(id INT)
2025-01-26 13:36:01 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 13:36:01 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 13:36:01 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: CREATE TABLE test(id INT)
2025-01-26 13:36:01 ERROR migrations.MigrationScriptExecutor - Error executing migration: null
2025-01-26 13:36:01 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 13:36:01 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM test_table
2025-01-26 13:36:01 INFO  migrations.MigrationValidator - SQL syntax is valid.
2025-01-26 13:36:01 WARN  migrations.MigrationValidator - Destructive operation detected in SQL: DROP TABLE test_table
2025-01-26 13:36:01 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM non_existing_table
2025-01-26 13:36:01 ERROR migrations.MigrationValidator - SQL syntax is invalid: Syntax error
2025-01-26 13:36:01 INFO  migrations.MigrationValidator - SQL is safe for execution.
2025-01-26 13:36:01 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM test_table
2025-01-26 13:36:01 INFO  migrations.MigrationValidator - SQL syntax is valid.
2025-01-26 13:36:01 WARN  migrations.MigrationValidator - Destructive operation detected in SQL: DROP TABLE test_table
2025-01-26 13:36:01 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM non_existing_table
2025-01-26 13:36:01 ERROR migrations.MigrationValidator - SQL syntax is invalid: Syntax error
2025-01-26 13:36:01 INFO  migrations.MigrationValidator - SQL is safe for execution.
2025-01-26 13:45:40 INFO  o.example.migration.MigrationManager - Migration table created or already exists.
2025-01-26 13:51:14 INFO  o.example.migration.MigrationManager - Migration table created or already exists.
2025-01-26 13:51:46 INFO  org.testcontainers.images.PullPolicy - Image pull policy will be performed by: DefaultPullPolicy()
2025-01-26 13:51:46 INFO  o.t.utility.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2025-01-26 13:51:46 INFO  o.testcontainers.DockerClientFactory - Testcontainers version: 1.20.4
2025-01-26 13:51:47 INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Npipe socket (npipe:////./pipe/docker_engine)
2025-01-26 13:51:47 INFO  o.testcontainers.DockerClientFactory - Docker host IP address is localhost
2025-01-26 13:51:47 INFO  o.testcontainers.DockerClientFactory - Connected to docker: 
  Server Version: 27.3.1
  API Version: 1.47
  Operating System: Docker Desktop
  Total Memory: 7784 MB
  Labels: 
    com.docker.desktop.address=npipe://\\.\pipe\docker_cli
2025-01-26 13:51:47 INFO  tc.testcontainers/ryuk:0.11.0 - Pulling docker image: testcontainers/ryuk:0.11.0. Please be patient; this may take some time but only needs to be done once.
2025-01-26 13:51:49 INFO  tc.testcontainers/ryuk:0.11.0 - Starting to pull image
2025-01-26 13:51:49 INFO  tc.testcontainers/ryuk:0.11.0 - Pulling image layers:  0 pending,  0 downloaded,  0 extracted, (0 bytes/0 bytes)
2025-01-26 13:51:51 INFO  tc.testcontainers/ryuk:0.11.0 - Pulling image layers:  2 pending,  1 downloaded,  0 extracted, (6 MB/? MB)
2025-01-26 13:51:51 INFO  tc.testcontainers/ryuk:0.11.0 - Pulling image layers:  1 pending,  2 downloaded,  0 extracted, (6 MB/? MB)
2025-01-26 13:51:51 INFO  tc.testcontainers/ryuk:0.11.0 - Pulling image layers:  0 pending,  3 downloaded,  0 extracted, (8 MB/10 MB)
2025-01-26 13:51:51 INFO  tc.testcontainers/ryuk:0.11.0 - Image testcontainers/ryuk:0.11.0 pull took PT4.3294247S
2025-01-26 13:51:51 INFO  tc.testcontainers/ryuk:0.11.0 - Pull complete. 3 layers, pulled in 2s (downloaded 8 MB at 4 MB/s)
2025-01-26 13:51:52 INFO  tc.testcontainers/ryuk:0.11.0 - Creating container for image: testcontainers/ryuk:0.11.0
2025-01-26 13:51:52 INFO  tc.testcontainers/ryuk:0.11.0 - Container testcontainers/ryuk:0.11.0 is starting: 2eee879ee75ef27f05fd507d27cf42f590e9c60c5a99d08dd63df10091658598
2025-01-26 13:51:53 INFO  tc.testcontainers/ryuk:0.11.0 - Container testcontainers/ryuk:0.11.0 started in PT1.3267398S
2025-01-26 13:51:53 INFO  o.t.utility.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2025-01-26 13:51:53 INFO  o.testcontainers.DockerClientFactory - Checking the system...
2025-01-26 13:51:53 INFO  o.testcontainers.DockerClientFactory - ✔︎ Docker server version should be at least 1.6.0
2025-01-26 13:51:53 INFO  tc.postgres:13 - Pulling docker image: postgres:13. Please be patient; this may take some time but only needs to be done once.
2025-01-26 13:51:54 INFO  tc.postgres:13 - Starting to pull image
2025-01-26 13:51:54 INFO  tc.postgres:13 - Pulling image layers:  0 pending,  0 downloaded,  0 extracted, (0 bytes/0 bytes)
2025-01-26 13:51:55 INFO  tc.postgres:13 - Pulling image layers: 13 pending,  1 downloaded,  0 extracted, (0 bytes/? MB)
2025-01-26 13:51:55 INFO  tc.postgres:13 - Pulling image layers: 12 pending,  2 downloaded,  0 extracted, (0 bytes/? MB)
2025-01-26 13:51:55 INFO  tc.postgres:13 - Pulling image layers: 11 pending,  3 downloaded,  0 extracted, (0 bytes/? MB)
2025-01-26 13:51:55 INFO  tc.postgres:13 - Pulling image layers: 10 pending,  4 downloaded,  0 extracted, (0 bytes/? MB)
2025-01-26 13:51:55 INFO  tc.postgres:13 - Pulling image layers:  9 pending,  5 downloaded,  0 extracted, (0 bytes/? MB)
2025-01-26 13:51:56 INFO  tc.postgres:13 - Pulling image layers:  8 pending,  6 downloaded,  0 extracted, (2 MB/? MB)
2025-01-26 13:51:56 INFO  tc.postgres:13 - Pulling image layers:  7 pending,  7 downloaded,  0 extracted, (3 MB/? MB)
2025-01-26 13:51:56 INFO  tc.postgres:13 - Pulling image layers:  6 pending,  8 downloaded,  0 extracted, (4 MB/? MB)
2025-01-26 13:51:56 INFO  tc.postgres:13 - Pulling image layers:  5 pending,  9 downloaded,  0 extracted, (5 MB/? MB)
2025-01-26 13:51:56 INFO  tc.postgres:13 - Pulling image layers:  4 pending, 10 downloaded,  0 extracted, (7 MB/? MB)
2025-01-26 13:51:57 INFO  tc.postgres:13 - Pulling image layers:  3 pending, 11 downloaded,  0 extracted, (10 MB/? MB)
2025-01-26 13:51:59 INFO  tc.postgres:13 - Pulling image layers:  2 pending, 12 downloaded,  0 extracted, (33 MB/? MB)
2025-01-26 13:52:04 INFO  tc.postgres:13 - Pulling image layers:  1 pending, 13 downloaded,  0 extracted, (92 MB/? MB)
2025-01-26 13:52:09 INFO  tc.postgres:13 - Pulling image layers:  0 pending, 14 downloaded,  0 extracted, (139 MB/141 MB)
2025-01-26 13:52:13 INFO  tc.postgres:13 - Image postgres:13 pull took PT20.3808737S
2025-01-26 13:52:13 INFO  tc.postgres:13 - Pull complete. 14 layers, pulled in 19s (downloaded 139 MB at 7 MB/s)
2025-01-26 13:52:13 INFO  tc.postgres:13 - Creating container for image: postgres:13
2025-01-26 13:52:15 INFO  tc.postgres:13 - Container postgres:13 is starting: 4e573e8c3d6e2aaa5ea66c026a25293887e4afcd28c0f9325e5c6ac963d89282
2025-01-26 13:52:17 INFO  tc.postgres:13 - Container postgres:13 started in PT3.4466137S
2025-01-26 13:52:17 INFO  tc.postgres:13 - Container is started (JDBC URL: jdbc:postgresql://localhost:61557/test_db?loggerLevel=OFF)
2025-01-26 13:52:18 INFO  o.example.migration.MigrationManager - Migration table created or already exists.
2025-01-26 13:52:18 INFO  o.example.migration.MigrationManager - Found 4 migration files.
2025-01-26 13:52:18 INFO  o.example.migration.MigrationManager - Migration already applied: version 1, file V1__initial_schema.sql
2025-01-26 13:52:18 INFO  o.example.migration.MigrationManager - Migration already applied: version 2, file V2__add_constraints.sql
2025-01-26 13:52:18 INFO  o.example.migration.MigrationManager - Migration table created or already exists.
2025-01-26 13:52:18 INFO  o.example.migration.MigrationManager - No migrations to rollback after 2025-01-26T13:52:18.541547100
2025-01-26 13:52:18 INFO  o.example.migration.MigrationManager - Migration table created or already exists.
2025-01-26 13:52:18 INFO  o.example.migration.MigrationManager - Found 4 migration files.
2025-01-26 13:52:18 INFO  o.example.migration.MigrationManager - Migration already applied: version 1, file V1__initial_schema.sql
2025-01-26 13:52:18 INFO  o.example.migration.MigrationManager - Migration already applied: version 2, file V2__add_constraints.sql
2025-01-26 13:54:09 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: CREATE TABLE IF NOT EXISTS another_table (id INT, description VARCHAR(255)); INSERT INTO another_table (id, description) VALUES (1, 'Description');
2025-01-26 13:54:10 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-26 13:54:10 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: CREATE TABLE IF NOT EXISTS test_table (id INT, name VARCHAR(255)); INSERT INTO test_table (id, name) VALUES (1, 'Test');
2025-01-26 13:54:10 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-26 13:54:12 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: SELECT * FROM test_table
2025-01-26 13:54:12 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-26 13:54:13 INFO  org.example.migration.MigrationMain - Запуск программы управления миграциями...
2025-01-26 13:54:13 INFO  org.example.migration.MigrationMain - Выберите действие:
2025-01-26 13:54:13 INFO  org.example.migration.MigrationMain - 1: Выполнить миграции
2025-01-26 13:54:13 INFO  org.example.migration.MigrationMain - 2: Откатить до определённой даты
2025-01-26 13:54:13 ERROR org.example.migration.MigrationMain - Произошла ошибка: null
java.util.NoSuchElementException: null
	at java.base/java.util.Scanner.throwFor(Scanner.java:945)
	at java.base/java.util.Scanner.next(Scanner.java:1602)
	at java.base/java.util.Scanner.nextInt(Scanner.java:2267)
	at java.base/java.util.Scanner.nextInt(Scanner.java:2221)
	at org.example.migration.MigrationMain.main(MigrationMain.java:25)
	at migration_main.MigrationMainTest.testInvalidDateFormat(MigrationMainTest.java:38)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92)
	at jdk.proxy2/jdk.proxy2.$Proxy6.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:121)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
2025-01-26 13:54:14 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (1, 'Test Name')
2025-01-26 13:54:14 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 13:54:14 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 13:54:14 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (2, 'New Test Name')
2025-01-26 13:54:14 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 13:54:14 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 13:54:14 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (1, 'Test Name')
2025-01-26 13:54:14 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 13:54:14 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 13:54:14 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (1, 'Another Test Name')
2025-01-26 13:54:14 ERROR migrations.MigrationScriptExecutor - Error executing migration: Нарушение уникального индекса или первичного ключа: "PRIMARY KEY ON PUBLIC.TEST_TABLE(ID) ( /* key:1 */ 1, 'Test Name')"
Unique index or primary key violation: "PRIMARY KEY ON PUBLIC.TEST_TABLE(ID) ( /* key:1 */ 1, 'Test Name')"; SQL statement:
INSERT INTO test_table (id, name) VALUES (1, 'Another Test Name') [23505-214]
2025-01-26 13:54:14 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 13:54:14 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: CREATE TABLE test(id INT)
2025-01-26 13:54:14 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 13:54:14 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 13:54:14 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: CREATE TABLE test(id INT)
2025-01-26 13:54:14 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 13:54:14 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 13:54:14 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: CREATE TABLE test(id INT)
2025-01-26 13:54:14 ERROR migrations.MigrationScriptExecutor - Error executing migration: null
2025-01-26 13:54:14 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 13:54:14 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM test_table
2025-01-26 13:54:14 INFO  migrations.MigrationValidator - SQL syntax is valid.
2025-01-26 13:54:14 WARN  migrations.MigrationValidator - Destructive operation detected in SQL: DROP TABLE test_table
2025-01-26 13:54:14 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM non_existing_table
2025-01-26 13:54:14 ERROR migrations.MigrationValidator - SQL syntax is invalid: Syntax error
2025-01-26 13:54:14 INFO  migrations.MigrationValidator - SQL is safe for execution.
2025-01-26 13:54:14 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM test_table
2025-01-26 13:54:14 INFO  migrations.MigrationValidator - SQL syntax is valid.
2025-01-26 13:54:14 WARN  migrations.MigrationValidator - Destructive operation detected in SQL: DROP TABLE test_table
2025-01-26 13:54:14 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM non_existing_table
2025-01-26 13:54:14 ERROR migrations.MigrationValidator - SQL syntax is invalid: Syntax error
2025-01-26 13:54:14 INFO  migrations.MigrationValidator - SQL is safe for execution.
2025-01-26 13:55:48 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: CREATE TABLE IF NOT EXISTS another_table (id INT, description VARCHAR(255)); INSERT INTO another_table (id, description) VALUES (1, 'Description');
2025-01-26 13:55:50 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-26 13:55:50 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: CREATE TABLE IF NOT EXISTS test_table (id INT, name VARCHAR(255)); INSERT INTO test_table (id, name) VALUES (1, 'Test');
2025-01-26 13:55:50 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-26 13:55:52 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: SELECT * FROM test_table
2025-01-26 13:55:52 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-26 13:55:52 INFO  org.example.migration.MigrationMain - Запуск программы управления миграциями...
2025-01-26 13:55:52 INFO  org.example.migration.MigrationMain - Выберите действие:
2025-01-26 13:55:52 INFO  org.example.migration.MigrationMain - 1: Выполнить миграции
2025-01-26 13:55:52 INFO  org.example.migration.MigrationMain - 2: Откатить до определённой даты
2025-01-26 13:55:52 ERROR org.example.migration.MigrationMain - Произошла ошибка: null
java.util.NoSuchElementException: null
	at java.base/java.util.Scanner.throwFor(Scanner.java:945)
	at java.base/java.util.Scanner.next(Scanner.java:1602)
	at java.base/java.util.Scanner.nextInt(Scanner.java:2267)
	at java.base/java.util.Scanner.nextInt(Scanner.java:2221)
	at org.example.migration.MigrationMain.main(MigrationMain.java:25)
	at migration_main.MigrationMainTest.testInvalidDateFormat(MigrationMainTest.java:38)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92)
	at jdk.proxy2/jdk.proxy2.$Proxy6.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:121)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
2025-01-26 13:55:53 INFO  org.testcontainers.images.PullPolicy - Image pull policy will be performed by: DefaultPullPolicy()
2025-01-26 13:55:53 INFO  o.t.utility.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2025-01-26 13:55:53 INFO  o.testcontainers.DockerClientFactory - Testcontainers version: 1.20.4
2025-01-26 13:55:53 INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.NpipeSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2025-01-26 13:55:54 INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Npipe socket (npipe:////./pipe/docker_engine)
2025-01-26 13:55:54 INFO  o.testcontainers.DockerClientFactory - Docker host IP address is localhost
2025-01-26 13:55:54 INFO  o.testcontainers.DockerClientFactory - Connected to docker: 
  Server Version: 27.3.1
  API Version: 1.47
  Operating System: Docker Desktop
  Total Memory: 7784 MB
  Labels: 
    com.docker.desktop.address=npipe://\\.\pipe\docker_cli
2025-01-26 13:55:54 INFO  tc.testcontainers/ryuk:0.11.0 - Creating container for image: testcontainers/ryuk:0.11.0
2025-01-26 13:55:55 INFO  tc.testcontainers/ryuk:0.11.0 - Container testcontainers/ryuk:0.11.0 is starting: c7e51adfbc401974ff8cd2c584ec496cdd0f30a70fce39d5aec99448b293a0ec
2025-01-26 13:55:56 INFO  tc.testcontainers/ryuk:0.11.0 - Container testcontainers/ryuk:0.11.0 started in PT1.2312015S
2025-01-26 13:55:56 INFO  o.t.utility.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2025-01-26 13:55:56 INFO  o.testcontainers.DockerClientFactory - Checking the system...
2025-01-26 13:55:56 INFO  o.testcontainers.DockerClientFactory - ✔︎ Docker server version should be at least 1.6.0
2025-01-26 13:55:56 INFO  tc.postgres:13 - Creating container for image: postgres:13
2025-01-26 13:55:56 INFO  tc.postgres:13 - Container postgres:13 is starting: 003b45b9e6464e9d5aa12bf7871627f758266f489f7560515b681c7fffaa6747
2025-01-26 13:55:58 INFO  tc.postgres:13 - Container postgres:13 started in PT2.2808595S
2025-01-26 13:55:58 INFO  tc.postgres:13 - Container is started (JDBC URL: jdbc:postgresql://localhost:61696/test_db?loggerLevel=OFF)
2025-01-26 13:55:58 INFO  o.example.migration.MigrationManager - Migration table created or already exists.
2025-01-26 13:55:58 INFO  o.example.migration.MigrationManager - Found 4 migration files.
2025-01-26 13:55:58 INFO  o.example.migration.MigrationManager - Migration already applied: version 1, file V1__initial_schema.sql
2025-01-26 13:55:58 INFO  o.example.migration.MigrationManager - Migration already applied: version 2, file V2__add_constraints.sql
2025-01-26 13:55:58 INFO  o.example.migration.MigrationManager - Migration table created or already exists.
2025-01-26 13:55:58 INFO  o.example.migration.MigrationManager - No migrations to rollback after 2025-01-26T13:55:58.549698
2025-01-26 13:55:58 INFO  o.example.migration.MigrationManager - Migration table created or already exists.
2025-01-26 13:55:58 INFO  o.example.migration.MigrationManager - Found 4 migration files.
2025-01-26 13:55:58 INFO  o.example.migration.MigrationManager - Migration already applied: version 1, file V1__initial_schema.sql
2025-01-26 13:55:58 INFO  o.example.migration.MigrationManager - Migration already applied: version 2, file V2__add_constraints.sql
2025-01-26 13:56:00 INFO  o.example.migration.MigrationManager - Migration table created or already exists.
2025-01-26 13:56:00 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (1, 'Test Name')
2025-01-26 13:56:00 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 13:56:00 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 13:56:00 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (2, 'New Test Name')
2025-01-26 13:56:00 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 13:56:00 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 13:56:00 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (1, 'Test Name')
2025-01-26 13:56:00 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 13:56:00 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 13:56:00 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (1, 'Another Test Name')
2025-01-26 13:56:00 ERROR migrations.MigrationScriptExecutor - Error executing migration: Нарушение уникального индекса или первичного ключа: "PRIMARY KEY ON PUBLIC.TEST_TABLE(ID) ( /* key:1 */ 1, 'Test Name')"
Unique index or primary key violation: "PRIMARY KEY ON PUBLIC.TEST_TABLE(ID) ( /* key:1 */ 1, 'Test Name')"; SQL statement:
INSERT INTO test_table (id, name) VALUES (1, 'Another Test Name') [23505-214]
2025-01-26 13:56:00 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 13:56:00 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: CREATE TABLE test(id INT)
2025-01-26 13:56:00 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 13:56:00 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 13:56:00 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: CREATE TABLE test(id INT)
2025-01-26 13:56:00 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 13:56:00 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 13:56:00 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: CREATE TABLE test(id INT)
2025-01-26 13:56:00 ERROR migrations.MigrationScriptExecutor - Error executing migration: null
2025-01-26 13:56:00 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 13:56:01 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM test_table
2025-01-26 13:56:01 INFO  migrations.MigrationValidator - SQL syntax is valid.
2025-01-26 13:56:01 WARN  migrations.MigrationValidator - Destructive operation detected in SQL: DROP TABLE test_table
2025-01-26 13:56:01 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM non_existing_table
2025-01-26 13:56:01 ERROR migrations.MigrationValidator - SQL syntax is invalid: Syntax error
2025-01-26 13:56:01 INFO  migrations.MigrationValidator - SQL is safe for execution.
2025-01-26 13:56:01 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM test_table
2025-01-26 13:56:01 INFO  migrations.MigrationValidator - SQL syntax is valid.
2025-01-26 13:56:01 WARN  migrations.MigrationValidator - Destructive operation detected in SQL: DROP TABLE test_table
2025-01-26 13:56:01 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM non_existing_table
2025-01-26 13:56:01 ERROR migrations.MigrationValidator - SQL syntax is invalid: Syntax error
2025-01-26 13:56:01 INFO  migrations.MigrationValidator - SQL is safe for execution.
2025-01-26 13:58:07 INFO  org.testcontainers.images.PullPolicy - Image pull policy will be performed by: DefaultPullPolicy()
2025-01-26 13:58:07 INFO  o.t.utility.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2025-01-26 13:58:07 INFO  o.testcontainers.DockerClientFactory - Testcontainers version: 1.20.4
2025-01-26 13:58:08 INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.NpipeSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2025-01-26 13:58:09 INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Npipe socket (npipe:////./pipe/docker_engine)
2025-01-26 13:58:09 INFO  o.testcontainers.DockerClientFactory - Docker host IP address is localhost
2025-01-26 13:58:09 INFO  o.testcontainers.DockerClientFactory - Connected to docker: 
  Server Version: 27.3.1
  API Version: 1.47
  Operating System: Docker Desktop
  Total Memory: 7784 MB
  Labels: 
    com.docker.desktop.address=npipe://\\.\pipe\docker_cli
2025-01-26 13:58:09 INFO  tc.testcontainers/ryuk:0.11.0 - Creating container for image: testcontainers/ryuk:0.11.0
2025-01-26 13:58:10 INFO  tc.testcontainers/ryuk:0.11.0 - Container testcontainers/ryuk:0.11.0 is starting: 3746597403fcc166cd9d440e1c7826379fa33361c632a03e62f023bb335f2d62
2025-01-26 13:58:10 INFO  tc.testcontainers/ryuk:0.11.0 - Container testcontainers/ryuk:0.11.0 started in PT1.0738407S
2025-01-26 13:58:10 INFO  o.t.utility.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2025-01-26 13:58:10 INFO  o.testcontainers.DockerClientFactory - Checking the system...
2025-01-26 13:58:10 INFO  o.testcontainers.DockerClientFactory - ✔︎ Docker server version should be at least 1.6.0
2025-01-26 13:58:10 INFO  tc.postgres:13 - Creating container for image: postgres:13
2025-01-26 13:58:11 INFO  tc.postgres:13 - Container postgres:13 is starting: 0813704051b4e1e2b028868fbf41ab99d31ce1aeb23955667f347eaf12f2e15c
2025-01-26 13:58:13 INFO  tc.postgres:13 - Container postgres:13 started in PT2.1211092S
2025-01-26 13:58:13 INFO  tc.postgres:13 - Container is started (JDBC URL: jdbc:postgresql://localhost:61760/test_db?loggerLevel=OFF)
2025-01-26 13:58:14 INFO  o.example.migration.MigrationManager - Migration table created or already exists.
2025-01-26 13:58:14 INFO  o.example.migration.MigrationManager - Found 4 migration files.
2025-01-26 13:58:14 INFO  o.example.migration.MigrationManager - Migration already applied: version 1, file V1__initial_schema.sql
2025-01-26 13:58:14 INFO  o.example.migration.MigrationManager - Migration already applied: version 2, file V2__add_constraints.sql
2025-01-26 13:58:14 INFO  o.example.migration.MigrationManager - Migration table created or already exists.
2025-01-26 13:58:14 INFO  o.example.migration.MigrationManager - No migrations to rollback after 2025-01-26T13:58:14.194440800
2025-01-26 13:58:14 INFO  o.example.migration.MigrationManager - Migration table created or already exists.
2025-01-26 13:58:14 INFO  o.example.migration.MigrationManager - Found 4 migration files.
2025-01-26 13:58:14 INFO  o.example.migration.MigrationManager - Migration already applied: version 1, file V1__initial_schema.sql
2025-01-26 13:58:14 INFO  o.example.migration.MigrationManager - Migration already applied: version 2, file V2__add_constraints.sql
2025-01-26 13:58:38 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: CREATE TABLE IF NOT EXISTS another_table (id INT, description VARCHAR(255)); INSERT INTO another_table (id, description) VALUES (1, 'Description');
2025-01-26 13:58:39 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-26 13:58:39 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: CREATE TABLE IF NOT EXISTS test_table (id INT, name VARCHAR(255)); INSERT INTO test_table (id, name) VALUES (1, 'Test');
2025-01-26 13:58:39 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-26 13:58:42 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: SELECT * FROM test_table
2025-01-26 13:58:42 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-26 13:58:42 INFO  org.example.migration.MigrationMain - Запуск программы управления миграциями...
2025-01-26 13:58:42 INFO  org.example.migration.MigrationMain - Выберите действие:
2025-01-26 13:58:42 INFO  org.example.migration.MigrationMain - 1: Выполнить миграции
2025-01-26 13:58:42 INFO  org.example.migration.MigrationMain - 2: Откатить до определённой даты
2025-01-26 13:58:42 ERROR org.example.migration.MigrationMain - Произошла ошибка: null
java.util.NoSuchElementException: null
	at java.base/java.util.Scanner.throwFor(Scanner.java:945)
	at java.base/java.util.Scanner.next(Scanner.java:1602)
	at java.base/java.util.Scanner.nextInt(Scanner.java:2267)
	at java.base/java.util.Scanner.nextInt(Scanner.java:2221)
	at org.example.migration.MigrationMain.main(MigrationMain.java:25)
	at migration_main.MigrationMainTest.testInvalidDateFormat(MigrationMainTest.java:38)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92)
	at jdk.proxy2/jdk.proxy2.$Proxy6.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:121)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
2025-01-26 13:58:43 INFO  org.testcontainers.images.PullPolicy - Image pull policy will be performed by: DefaultPullPolicy()
2025-01-26 13:58:43 INFO  o.t.utility.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2025-01-26 13:58:43 INFO  o.testcontainers.DockerClientFactory - Testcontainers version: 1.20.4
2025-01-26 13:58:44 INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.NpipeSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2025-01-26 13:58:45 INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Npipe socket (npipe:////./pipe/docker_engine)
2025-01-26 13:58:45 INFO  o.testcontainers.DockerClientFactory - Docker host IP address is localhost
2025-01-26 13:58:45 INFO  o.testcontainers.DockerClientFactory - Connected to docker: 
  Server Version: 27.3.1
  API Version: 1.47
  Operating System: Docker Desktop
  Total Memory: 7784 MB
  Labels: 
    com.docker.desktop.address=npipe://\\.\pipe\docker_cli
2025-01-26 13:58:45 INFO  tc.testcontainers/ryuk:0.11.0 - Creating container for image: testcontainers/ryuk:0.11.0
2025-01-26 13:58:46 INFO  tc.testcontainers/ryuk:0.11.0 - Container testcontainers/ryuk:0.11.0 is starting: fc68f4de94f7bc02cf4805bf7d85fca104607b289fe61e35649b1d786ce0e782
2025-01-26 13:58:46 INFO  tc.testcontainers/ryuk:0.11.0 - Container testcontainers/ryuk:0.11.0 started in PT1.4845154S
2025-01-26 13:58:46 INFO  o.t.utility.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2025-01-26 13:58:46 INFO  o.testcontainers.DockerClientFactory - Checking the system...
2025-01-26 13:58:47 INFO  o.testcontainers.DockerClientFactory - ✔︎ Docker server version should be at least 1.6.0
2025-01-26 13:58:47 INFO  tc.postgres:13 - Creating container for image: postgres:13
2025-01-26 13:58:47 INFO  tc.postgres:13 - Container postgres:13 is starting: a3d3f3bf54f8361fa31ec84d24de959985d1d55987e26d90c1097156f8c5317a
2025-01-26 13:58:49 INFO  tc.postgres:13 - Container postgres:13 started in PT2.3360472S
2025-01-26 13:58:49 INFO  tc.postgres:13 - Container is started (JDBC URL: jdbc:postgresql://localhost:61814/test_db?loggerLevel=OFF)
2025-01-26 13:58:49 INFO  o.example.migration.MigrationManager - Migration table created or already exists.
2025-01-26 13:58:49 INFO  o.example.migration.MigrationManager - Found 4 migration files.
2025-01-26 13:58:49 INFO  o.example.migration.MigrationManager - Migration already applied: version 1, file V1__initial_schema.sql
2025-01-26 13:58:49 INFO  o.example.migration.MigrationManager - Migration already applied: version 2, file V2__add_constraints.sql
2025-01-26 13:58:49 INFO  o.example.migration.MigrationManager - Migration table created or already exists.
2025-01-26 13:58:49 INFO  o.example.migration.MigrationManager - No migrations to rollback after 2025-01-26T13:58:49.385340300
2025-01-26 13:58:49 INFO  o.example.migration.MigrationManager - Migration table created or already exists.
2025-01-26 13:58:49 INFO  o.example.migration.MigrationManager - Found 4 migration files.
2025-01-26 13:58:49 INFO  o.example.migration.MigrationManager - Migration already applied: version 1, file V1__initial_schema.sql
2025-01-26 13:58:49 INFO  o.example.migration.MigrationManager - Migration already applied: version 2, file V2__add_constraints.sql
2025-01-26 13:58:51 INFO  o.example.migration.MigrationManager - Migration table created or already exists.
2025-01-26 13:58:51 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (1, 'Test Name')
2025-01-26 13:58:51 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 13:58:51 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 13:58:51 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (2, 'New Test Name')
2025-01-26 13:58:51 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 13:58:51 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 13:58:51 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (1, 'Test Name')
2025-01-26 13:58:51 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 13:58:51 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 13:58:51 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (1, 'Another Test Name')
2025-01-26 13:58:51 ERROR migrations.MigrationScriptExecutor - Error executing migration: Нарушение уникального индекса или первичного ключа: "PRIMARY KEY ON PUBLIC.TEST_TABLE(ID) ( /* key:1 */ 1, 'Test Name')"
Unique index or primary key violation: "PRIMARY KEY ON PUBLIC.TEST_TABLE(ID) ( /* key:1 */ 1, 'Test Name')"; SQL statement:
INSERT INTO test_table (id, name) VALUES (1, 'Another Test Name') [23505-214]
2025-01-26 13:58:51 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 13:58:51 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: CREATE TABLE test(id INT)
2025-01-26 13:58:51 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 13:58:51 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 13:58:51 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: CREATE TABLE test(id INT)
2025-01-26 13:58:51 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 13:58:51 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 13:58:51 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: CREATE TABLE test(id INT)
2025-01-26 13:58:51 ERROR migrations.MigrationScriptExecutor - Error executing migration: null
2025-01-26 13:58:51 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 13:58:51 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM test_table
2025-01-26 13:58:51 INFO  migrations.MigrationValidator - SQL syntax is valid.
2025-01-26 13:58:51 WARN  migrations.MigrationValidator - Destructive operation detected in SQL: DROP TABLE test_table
2025-01-26 13:58:51 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM non_existing_table
2025-01-26 13:58:51 ERROR migrations.MigrationValidator - SQL syntax is invalid: Syntax error
2025-01-26 13:58:51 INFO  migrations.MigrationValidator - SQL is safe for execution.
2025-01-26 13:58:51 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM test_table
2025-01-26 13:58:51 INFO  migrations.MigrationValidator - SQL syntax is valid.
2025-01-26 13:58:51 WARN  migrations.MigrationValidator - Destructive operation detected in SQL: DROP TABLE test_table
2025-01-26 13:58:51 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM non_existing_table
2025-01-26 13:58:51 ERROR migrations.MigrationValidator - SQL syntax is invalid: Syntax error
2025-01-26 13:58:52 INFO  migrations.MigrationValidator - SQL is safe for execution.
2025-01-26 14:00:38 INFO  o.example.migration.MigrationManager - Migration table created or already exists.
2025-01-26 14:00:38 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: CREATE TABLE IF NOT EXISTS another_table (id INT, description VARCHAR(255)); INSERT INTO another_table (id, description) VALUES (1, 'Description');
2025-01-26 14:00:38 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-26 14:00:38 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: CREATE TABLE IF NOT EXISTS test_table (id INT, name VARCHAR(255)); INSERT INTO test_table (id, name) VALUES (1, 'Test');
2025-01-26 14:00:38 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-26 14:00:38 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: SELECT * FROM test_table
2025-01-26 14:00:38 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-26 14:00:38 INFO  org.example.migration.MigrationMain - Запуск программы управления миграциями...
2025-01-26 14:00:38 INFO  org.example.migration.MigrationMain - Выберите действие:
2025-01-26 14:00:38 INFO  org.example.migration.MigrationMain - 1: Выполнить миграции
2025-01-26 14:00:38 INFO  org.example.migration.MigrationMain - 2: Откатить до определённой даты
2025-01-26 14:00:38 ERROR org.example.migration.MigrationMain - Произошла ошибка: null
java.util.NoSuchElementException: null
	at java.base/java.util.Scanner.throwFor(Scanner.java:945)
	at java.base/java.util.Scanner.next(Scanner.java:1602)
	at java.base/java.util.Scanner.nextInt(Scanner.java:2267)
	at java.base/java.util.Scanner.nextInt(Scanner.java:2221)
	at org.example.migration.MigrationMain.main(MigrationMain.java:25)
	at migration_main.MigrationMainTest.testInvalidDateFormat(MigrationMainTest.java:38)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92)
	at jdk.proxy2/jdk.proxy2.$Proxy6.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:121)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
2025-01-26 14:00:38 INFO  org.testcontainers.images.PullPolicy - Image pull policy will be performed by: DefaultPullPolicy()
2025-01-26 14:00:38 INFO  o.t.utility.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2025-01-26 14:00:39 INFO  o.testcontainers.DockerClientFactory - Testcontainers version: 1.20.4
2025-01-26 14:00:39 INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.NpipeSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2025-01-26 14:00:40 INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Npipe socket (npipe:////./pipe/docker_engine)
2025-01-26 14:00:40 INFO  o.testcontainers.DockerClientFactory - Docker host IP address is localhost
2025-01-26 14:00:40 INFO  o.testcontainers.DockerClientFactory - Connected to docker: 
  Server Version: 27.3.1
  API Version: 1.47
  Operating System: Docker Desktop
  Total Memory: 7784 MB
  Labels: 
    com.docker.desktop.address=npipe://\\.\pipe\docker_cli
2025-01-26 14:00:40 INFO  tc.testcontainers/ryuk:0.11.0 - Creating container for image: testcontainers/ryuk:0.11.0
2025-01-26 14:00:41 INFO  tc.testcontainers/ryuk:0.11.0 - Container testcontainers/ryuk:0.11.0 is starting: 42a6ef938ab382b70fba99f3963622ecd2779cdde603cedae1f0b8d147557e24
2025-01-26 14:00:42 INFO  tc.testcontainers/ryuk:0.11.0 - Container testcontainers/ryuk:0.11.0 started in PT1.5164902S
2025-01-26 14:00:42 INFO  o.t.utility.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2025-01-26 14:00:42 INFO  o.testcontainers.DockerClientFactory - Checking the system...
2025-01-26 14:00:42 INFO  o.testcontainers.DockerClientFactory - ✔︎ Docker server version should be at least 1.6.0
2025-01-26 14:00:42 INFO  tc.postgres:13 - Creating container for image: postgres:13
2025-01-26 14:00:42 INFO  tc.postgres:13 - Container postgres:13 is starting: 74edd96bdc1697c385d1e0d34ac3784f8c5eb2977d582d1d41b574a4631ee5a2
2025-01-26 14:00:44 INFO  tc.postgres:13 - Container postgres:13 started in PT2.5024364S
2025-01-26 14:00:44 INFO  tc.postgres:13 - Container is started (JDBC URL: jdbc:postgresql://localhost:61881/test_db?loggerLevel=OFF)
2025-01-26 14:00:44 INFO  o.example.migration.MigrationManager - Migration table created or already exists.
2025-01-26 14:00:44 INFO  o.example.migration.MigrationManager - Found 4 migration files.
2025-01-26 14:00:44 INFO  o.example.migration.MigrationManager - Migration already applied: version 1, file V1__initial_schema.sql
2025-01-26 14:00:44 INFO  o.example.migration.MigrationManager - Migration already applied: version 2, file V2__add_constraints.sql
2025-01-26 14:00:44 INFO  o.example.migration.MigrationManager - Migration table created or already exists.
2025-01-26 14:00:44 INFO  o.example.migration.MigrationManager - No migrations to rollback after 2025-01-26T14:00:44.917706900
2025-01-26 14:00:45 INFO  o.example.migration.MigrationManager - Migration table created or already exists.
2025-01-26 14:00:45 INFO  o.example.migration.MigrationManager - Found 4 migration files.
2025-01-26 14:00:45 INFO  o.example.migration.MigrationManager - Migration already applied: version 1, file V1__initial_schema.sql
2025-01-26 14:00:45 INFO  o.example.migration.MigrationManager - Migration already applied: version 2, file V2__add_constraints.sql
2025-01-26 14:00:46 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (1, 'Test Name')
2025-01-26 14:00:46 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 14:00:46 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 14:00:46 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (2, 'New Test Name')
2025-01-26 14:00:46 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 14:00:46 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 14:00:46 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (1, 'Test Name')
2025-01-26 14:00:46 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 14:00:46 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 14:00:46 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (1, 'Another Test Name')
2025-01-26 14:00:46 ERROR migrations.MigrationScriptExecutor - Error executing migration: Нарушение уникального индекса или первичного ключа: "PRIMARY KEY ON PUBLIC.TEST_TABLE(ID) ( /* key:1 */ 1, 'Test Name')"
Unique index or primary key violation: "PRIMARY KEY ON PUBLIC.TEST_TABLE(ID) ( /* key:1 */ 1, 'Test Name')"; SQL statement:
INSERT INTO test_table (id, name) VALUES (1, 'Another Test Name') [23505-214]
2025-01-26 14:00:46 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 14:00:46 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: CREATE TABLE test(id INT)
2025-01-26 14:00:46 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 14:00:46 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 14:00:46 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: CREATE TABLE test(id INT)
2025-01-26 14:00:46 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 14:00:46 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 14:00:46 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: CREATE TABLE test(id INT)
2025-01-26 14:00:46 ERROR migrations.MigrationScriptExecutor - Error executing migration: null
2025-01-26 14:00:46 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 14:00:46 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM test_table
2025-01-26 14:00:46 INFO  migrations.MigrationValidator - SQL syntax is valid.
2025-01-26 14:00:46 WARN  migrations.MigrationValidator - Destructive operation detected in SQL: DROP TABLE test_table
2025-01-26 14:00:46 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM non_existing_table
2025-01-26 14:00:46 ERROR migrations.MigrationValidator - SQL syntax is invalid: Syntax error
2025-01-26 14:00:46 INFO  migrations.MigrationValidator - SQL is safe for execution.
2025-01-26 14:00:46 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM test_table
2025-01-26 14:00:46 INFO  migrations.MigrationValidator - SQL syntax is valid.
2025-01-26 14:00:46 WARN  migrations.MigrationValidator - Destructive operation detected in SQL: DROP TABLE test_table
2025-01-26 14:00:46 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM non_existing_table
2025-01-26 14:00:46 ERROR migrations.MigrationValidator - SQL syntax is invalid: Syntax error
2025-01-26 14:00:46 INFO  migrations.MigrationValidator - SQL is safe for execution.
2025-01-26 14:01:22 INFO  o.example.migration.MigrationManager - Migration table created or already exists.
2025-01-26 14:04:14 INFO  o.example.migration.MigrationManager - Migration table created or already exists.
2025-01-26 14:04:56 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: CREATE TABLE IF NOT EXISTS another_table (id INT, description VARCHAR(255)); INSERT INTO another_table (id, description) VALUES (1, 'Description');
2025-01-26 14:04:57 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-26 14:04:57 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: CREATE TABLE IF NOT EXISTS test_table (id INT, name VARCHAR(255)); INSERT INTO test_table (id, name) VALUES (1, 'Test');
2025-01-26 14:04:57 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-26 14:04:59 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: SELECT * FROM test_table
2025-01-26 14:04:59 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-26 14:04:59 INFO  org.example.migration.MigrationMain - Запуск программы управления миграциями...
2025-01-26 14:04:59 INFO  org.example.migration.MigrationMain - Выберите действие:
2025-01-26 14:04:59 INFO  org.example.migration.MigrationMain - 1: Выполнить миграции
2025-01-26 14:04:59 INFO  org.example.migration.MigrationMain - 2: Откатить до определённой даты
2025-01-26 14:04:59 ERROR org.example.migration.MigrationMain - Произошла ошибка: null
java.util.NoSuchElementException: null
	at java.base/java.util.Scanner.throwFor(Scanner.java:945)
	at java.base/java.util.Scanner.next(Scanner.java:1602)
	at java.base/java.util.Scanner.nextInt(Scanner.java:2267)
	at java.base/java.util.Scanner.nextInt(Scanner.java:2221)
	at org.example.migration.MigrationMain.main(MigrationMain.java:25)
	at migration_main.MigrationMainTest.testInvalidDateFormat(MigrationMainTest.java:38)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92)
	at jdk.proxy2/jdk.proxy2.$Proxy6.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:121)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
2025-01-26 14:05:00 INFO  org.testcontainers.images.PullPolicy - Image pull policy will be performed by: DefaultPullPolicy()
2025-01-26 14:05:00 INFO  o.t.utility.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2025-01-26 14:05:00 INFO  o.testcontainers.DockerClientFactory - Testcontainers version: 1.20.4
2025-01-26 14:05:01 INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.NpipeSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2025-01-26 14:05:02 INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Npipe socket (npipe:////./pipe/docker_engine)
2025-01-26 14:05:02 INFO  o.testcontainers.DockerClientFactory - Docker host IP address is localhost
2025-01-26 14:05:02 INFO  o.testcontainers.DockerClientFactory - Connected to docker: 
  Server Version: 27.3.1
  API Version: 1.47
  Operating System: Docker Desktop
  Total Memory: 7784 MB
  Labels: 
    com.docker.desktop.address=npipe://\\.\pipe\docker_cli
2025-01-26 14:05:03 INFO  tc.testcontainers/ryuk:0.11.0 - Creating container for image: testcontainers/ryuk:0.11.0
2025-01-26 14:05:03 INFO  tc.testcontainers/ryuk:0.11.0 - Container testcontainers/ryuk:0.11.0 is starting: 830292e519410e52c428adb840c63f7f58fcf773f50af3e28d8becf3f4bd7bd4
2025-01-26 14:05:04 INFO  tc.testcontainers/ryuk:0.11.0 - Container testcontainers/ryuk:0.11.0 started in PT1.2806518S
2025-01-26 14:05:04 INFO  o.t.utility.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2025-01-26 14:05:04 INFO  o.testcontainers.DockerClientFactory - Checking the system...
2025-01-26 14:05:04 INFO  o.testcontainers.DockerClientFactory - ✔︎ Docker server version should be at least 1.6.0
2025-01-26 14:05:04 INFO  tc.postgres:13 - Creating container for image: postgres:13
2025-01-26 14:05:04 INFO  tc.postgres:13 - Container postgres:13 is starting: 41770d9e919f57f0845dc28f28adfc760d7a0a524ef5cb36ac8214f27de094ee
2025-01-26 14:05:06 INFO  tc.postgres:13 - Container postgres:13 started in PT2.0306891S
2025-01-26 14:05:06 INFO  tc.postgres:13 - Container is started (JDBC URL: jdbc:postgresql://localhost:62116/test_db?loggerLevel=OFF)
2025-01-26 14:05:06 INFO  o.example.migration.MigrationManager - Migration table created or already exists.
2025-01-26 14:05:06 INFO  o.example.migration.MigrationManager - Found 4 migration files.
2025-01-26 14:05:06 INFO  o.example.migration.MigrationManager - Migration already applied: version 1, file V1__initial_schema.sql
2025-01-26 14:05:06 INFO  o.example.migration.MigrationManager - Migration already applied: version 2, file V2__add_constraints.sql
2025-01-26 14:05:06 INFO  o.example.migration.MigrationManager - Migration table created or already exists.
2025-01-26 14:05:06 INFO  o.example.migration.MigrationManager - No migrations to rollback after 2025-01-26T14:05:06.451787700
2025-01-26 14:05:06 INFO  o.example.migration.MigrationManager - Migration table created or already exists.
2025-01-26 14:05:06 INFO  o.example.migration.MigrationManager - Found 4 migration files.
2025-01-26 14:05:06 INFO  o.example.migration.MigrationManager - Migration already applied: version 1, file V1__initial_schema.sql
2025-01-26 14:05:06 INFO  o.example.migration.MigrationManager - Migration already applied: version 2, file V2__add_constraints.sql
2025-01-26 14:05:09 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (1, 'Test Name')
2025-01-26 14:05:09 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 14:05:09 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 14:05:09 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (2, 'New Test Name')
2025-01-26 14:05:09 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 14:05:09 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 14:05:09 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (1, 'Test Name')
2025-01-26 14:05:09 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 14:05:09 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 14:05:09 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (1, 'Another Test Name')
2025-01-26 14:05:09 ERROR migrations.MigrationScriptExecutor - Error executing migration: Нарушение уникального индекса или первичного ключа: "PRIMARY KEY ON PUBLIC.TEST_TABLE(ID) ( /* key:1 */ 1, 'Test Name')"
Unique index or primary key violation: "PRIMARY KEY ON PUBLIC.TEST_TABLE(ID) ( /* key:1 */ 1, 'Test Name')"; SQL statement:
INSERT INTO test_table (id, name) VALUES (1, 'Another Test Name') [23505-214]
2025-01-26 14:05:09 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 14:05:09 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: CREATE TABLE test(id INT)
2025-01-26 14:05:09 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 14:05:09 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 14:05:09 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: CREATE TABLE test(id INT)
2025-01-26 14:05:09 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 14:05:09 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 14:05:09 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: CREATE TABLE test(id INT)
2025-01-26 14:05:09 ERROR migrations.MigrationScriptExecutor - Error executing migration: null
2025-01-26 14:05:09 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 14:05:09 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM test_table
2025-01-26 14:05:09 INFO  migrations.MigrationValidator - SQL syntax is valid.
2025-01-26 14:05:09 WARN  migrations.MigrationValidator - Destructive operation detected in SQL: DROP TABLE test_table
2025-01-26 14:05:09 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM non_existing_table
2025-01-26 14:05:09 ERROR migrations.MigrationValidator - SQL syntax is invalid: Syntax error
2025-01-26 14:05:09 INFO  migrations.MigrationValidator - SQL is safe for execution.
2025-01-26 14:05:09 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM test_table
2025-01-26 14:05:09 INFO  migrations.MigrationValidator - SQL syntax is valid.
2025-01-26 14:05:09 WARN  migrations.MigrationValidator - Destructive operation detected in SQL: DROP TABLE test_table
2025-01-26 14:05:09 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM non_existing_table
2025-01-26 14:05:09 ERROR migrations.MigrationValidator - SQL syntax is invalid: Syntax error
2025-01-26 14:05:09 INFO  migrations.MigrationValidator - SQL is safe for execution.
2025-01-26 14:08:31 INFO  org.example.migration.MigrationMain - Запуск программы управления миграциями...
2025-01-26 14:08:33 INFO  org.example.migration.MigrationMain - Выберите действие:
2025-01-26 14:08:33 INFO  org.example.migration.MigrationMain - 1: Выполнить миграции
2025-01-26 14:08:33 INFO  org.example.migration.MigrationMain - 2: Откатить до определённой даты
2025-01-26 14:08:33 ERROR org.example.migration.MigrationMain - Произошла ошибка: null
java.util.NoSuchElementException: null
	at java.base/java.util.Scanner.throwFor(Scanner.java:945)
	at java.base/java.util.Scanner.next(Scanner.java:1602)
	at java.base/java.util.Scanner.nextInt(Scanner.java:2267)
	at java.base/java.util.Scanner.nextInt(Scanner.java:2221)
	at org.example.migration.MigrationMain.main(MigrationMain.java:25)
	at migration_main.MigrationMainTest.testRollbackToDate(MigrationMainTest.java:50)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92)
	at jdk.proxy2/jdk.proxy2.$Proxy6.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:121)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
2025-01-26 14:08:33 INFO  org.example.migration.MigrationMain - Запуск программы управления миграциями...
2025-01-26 14:08:33 INFO  org.example.migration.MigrationMain - Выберите действие:
2025-01-26 14:08:33 INFO  org.example.migration.MigrationMain - 1: Выполнить миграции
2025-01-26 14:08:33 INFO  org.example.migration.MigrationMain - 2: Откатить до определённой даты
2025-01-26 14:08:33 ERROR org.example.migration.MigrationMain - Произошла ошибка: null
java.util.NoSuchElementException: null
	at java.base/java.util.Scanner.throwFor(Scanner.java:945)
	at java.base/java.util.Scanner.next(Scanner.java:1602)
	at java.base/java.util.Scanner.nextInt(Scanner.java:2267)
	at java.base/java.util.Scanner.nextInt(Scanner.java:2221)
	at org.example.migration.MigrationMain.main(MigrationMain.java:25)
	at migration_main.MigrationMainTest.testRunMigrations(MigrationMainTest.java:35)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92)
	at jdk.proxy2/jdk.proxy2.$Proxy6.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:121)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
2025-01-26 15:32:10 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: CREATE TABLE IF NOT EXISTS another_table (id INT, description VARCHAR(255)); INSERT INTO another_table (id, description) VALUES (1, 'Description');
2025-01-26 15:32:11 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-26 15:32:11 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: CREATE TABLE IF NOT EXISTS test_table (id INT, name VARCHAR(255)); INSERT INTO test_table (id, name) VALUES (1, 'Test');
2025-01-26 15:32:11 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-26 15:32:12 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: SELECT * FROM test_table
2025-01-26 15:32:12 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-26 15:32:12 INFO  org.example.migration.MigrationMain - Запуск программы управления миграциями...
2025-01-26 15:32:12 INFO  org.example.migration.MigrationMain - Выберите действие:
2025-01-26 15:32:12 INFO  org.example.migration.MigrationMain - 1: Выполнить миграции
2025-01-26 15:32:12 INFO  org.example.migration.MigrationMain - 2: Откатить до определённой даты
2025-01-26 15:32:12 ERROR org.example.migration.MigrationMain - Произошла ошибка: null
java.util.NoSuchElementException: null
	at java.base/java.util.Scanner.throwFor(Scanner.java:945)
	at java.base/java.util.Scanner.next(Scanner.java:1602)
	at java.base/java.util.Scanner.nextInt(Scanner.java:2267)
	at java.base/java.util.Scanner.nextInt(Scanner.java:2221)
	at org.example.migration.MigrationMain.main(MigrationMain.java:25)
	at migration_main.MigrationMainTest.testRollbackToDate(MigrationMainTest.java:50)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92)
	at jdk.proxy2/jdk.proxy2.$Proxy6.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:121)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
2025-01-26 15:32:12 INFO  org.example.migration.MigrationMain - Запуск программы управления миграциями...
2025-01-26 15:32:12 INFO  org.example.migration.MigrationMain - Выберите действие:
2025-01-26 15:32:12 INFO  org.example.migration.MigrationMain - 1: Выполнить миграции
2025-01-26 15:32:12 INFO  org.example.migration.MigrationMain - 2: Откатить до определённой даты
2025-01-26 15:32:12 ERROR org.example.migration.MigrationMain - Произошла ошибка: null
java.util.NoSuchElementException: null
	at java.base/java.util.Scanner.throwFor(Scanner.java:945)
	at java.base/java.util.Scanner.next(Scanner.java:1602)
	at java.base/java.util.Scanner.nextInt(Scanner.java:2267)
	at java.base/java.util.Scanner.nextInt(Scanner.java:2221)
	at org.example.migration.MigrationMain.main(MigrationMain.java:25)
	at migration_main.MigrationMainTest.testRunMigrations(MigrationMainTest.java:35)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92)
	at jdk.proxy2/jdk.proxy2.$Proxy6.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:121)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
2025-01-26 15:32:12 INFO  org.testcontainers.images.PullPolicy - Image pull policy will be performed by: DefaultPullPolicy()
2025-01-26 15:32:12 INFO  o.t.utility.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2025-01-26 15:32:13 INFO  o.testcontainers.DockerClientFactory - Testcontainers version: 1.20.4
2025-01-26 15:32:13 INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.NpipeSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2025-01-26 15:32:14 INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Npipe socket (npipe:////./pipe/docker_engine)
2025-01-26 15:32:14 INFO  o.testcontainers.DockerClientFactory - Docker host IP address is localhost
2025-01-26 15:32:14 INFO  o.testcontainers.DockerClientFactory - Connected to docker: 
  Server Version: 27.3.1
  API Version: 1.47
  Operating System: Docker Desktop
  Total Memory: 7784 MB
  Labels: 
    com.docker.desktop.address=npipe://\\.\pipe\docker_cli
2025-01-26 15:32:14 INFO  tc.testcontainers/ryuk:0.11.0 - Creating container for image: testcontainers/ryuk:0.11.0
2025-01-26 15:32:15 INFO  tc.testcontainers/ryuk:0.11.0 - Container testcontainers/ryuk:0.11.0 is starting: 2ebc9767bf151083402a7db9dd714e1db354ee60c14d2a56326687154c0ee409
2025-01-26 15:32:16 INFO  tc.testcontainers/ryuk:0.11.0 - Container testcontainers/ryuk:0.11.0 started in PT1.746018S
2025-01-26 15:32:16 INFO  o.t.utility.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2025-01-26 15:32:16 INFO  o.testcontainers.DockerClientFactory - Checking the system...
2025-01-26 15:32:16 INFO  o.testcontainers.DockerClientFactory - ✔︎ Docker server version should be at least 1.6.0
2025-01-26 15:32:16 INFO  tc.postgres:13 - Creating container for image: postgres:13
2025-01-26 15:32:17 INFO  tc.postgres:13 - Container postgres:13 is starting: e74ef2257e94bb9b5d2c0a2e179eb262e6ac06a02d03224b1c298af49e4406c3
2025-01-26 15:32:19 INFO  tc.postgres:13 - Container postgres:13 started in PT2.9810343S
2025-01-26 15:32:19 INFO  tc.postgres:13 - Container is started (JDBC URL: jdbc:postgresql://localhost:63032/test_db?loggerLevel=OFF)
2025-01-26 15:32:19 INFO  o.example.migration.MigrationManager - Migration table created or already exists.
2025-01-26 15:32:19 INFO  o.example.migration.MigrationManager - Found 4 migration files.
2025-01-26 15:32:19 INFO  o.example.migration.MigrationManager - Migration already applied: version 1, file V1__initial_schema.sql
2025-01-26 15:32:19 INFO  o.example.migration.MigrationManager - Migration already applied: version 2, file V2__add_constraints.sql
2025-01-26 15:32:19 INFO  o.example.migration.MigrationManager - Migration table created or already exists.
2025-01-26 15:32:19 INFO  o.example.migration.MigrationManager - No migrations to rollback after 2025-01-26T15:32:19.764161200
2025-01-26 15:32:19 INFO  o.example.migration.MigrationManager - Migration table created or already exists.
2025-01-26 15:32:19 INFO  o.example.migration.MigrationManager - Found 4 migration files.
2025-01-26 15:32:19 INFO  o.example.migration.MigrationManager - Migration already applied: version 1, file V1__initial_schema.sql
2025-01-26 15:32:19 INFO  o.example.migration.MigrationManager - Migration already applied: version 2, file V2__add_constraints.sql
2025-01-26 15:32:23 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (1, 'Test Name')
2025-01-26 15:32:23 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 15:32:23 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 15:32:23 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (2, 'New Test Name')
2025-01-26 15:32:23 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 15:32:23 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 15:32:23 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (1, 'Test Name')
2025-01-26 15:32:23 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 15:32:23 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 15:32:23 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (1, 'Another Test Name')
2025-01-26 15:32:23 ERROR migrations.MigrationScriptExecutor - Error executing migration: Нарушение уникального индекса или первичного ключа: "PRIMARY KEY ON PUBLIC.TEST_TABLE(ID) ( /* key:1 */ 1, 'Test Name')"
Unique index or primary key violation: "PRIMARY KEY ON PUBLIC.TEST_TABLE(ID) ( /* key:1 */ 1, 'Test Name')"; SQL statement:
INSERT INTO test_table (id, name) VALUES (1, 'Another Test Name') [23505-214]
2025-01-26 15:32:23 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 15:32:23 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: CREATE TABLE test(id INT)
2025-01-26 15:32:23 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 15:32:23 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 15:32:23 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: CREATE TABLE test(id INT)
2025-01-26 15:32:23 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 15:32:23 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 15:32:23 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: CREATE TABLE test(id INT)
2025-01-26 15:32:23 ERROR migrations.MigrationScriptExecutor - Error executing migration: null
2025-01-26 15:32:23 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 15:32:23 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM test_table
2025-01-26 15:32:23 INFO  migrations.MigrationValidator - SQL syntax is valid.
2025-01-26 15:32:23 WARN  migrations.MigrationValidator - Destructive operation detected in SQL: DROP TABLE test_table
2025-01-26 15:32:23 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM non_existing_table
2025-01-26 15:32:23 ERROR migrations.MigrationValidator - SQL syntax is invalid: Syntax error
2025-01-26 15:32:23 INFO  migrations.MigrationValidator - SQL is safe for execution.
2025-01-26 15:32:23 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM test_table
2025-01-26 15:32:23 INFO  migrations.MigrationValidator - SQL syntax is valid.
2025-01-26 15:32:23 WARN  migrations.MigrationValidator - Destructive operation detected in SQL: DROP TABLE test_table
2025-01-26 15:32:23 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM non_existing_table
2025-01-26 15:32:23 ERROR migrations.MigrationValidator - SQL syntax is invalid: Syntax error
2025-01-26 15:32:23 INFO  migrations.MigrationValidator - SQL is safe for execution.
2025-01-26 15:32:59 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: CREATE TABLE IF NOT EXISTS another_table (id INT, description VARCHAR(255)); INSERT INTO another_table (id, description) VALUES (1, 'Description');
2025-01-26 15:33:00 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-26 15:33:00 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: CREATE TABLE IF NOT EXISTS test_table (id INT, name VARCHAR(255)); INSERT INTO test_table (id, name) VALUES (1, 'Test');
2025-01-26 15:33:00 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-26 15:33:03 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: SELECT * FROM test_table
2025-01-26 15:33:03 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-26 15:33:03 INFO  org.example.migration.MigrationMain - Запуск программы управления миграциями...
2025-01-26 15:33:03 INFO  org.example.migration.MigrationMain - Выберите действие:
2025-01-26 15:33:03 INFO  org.example.migration.MigrationMain - 1: Выполнить миграции
2025-01-26 15:33:03 INFO  org.example.migration.MigrationMain - 2: Откатить до определённой даты
2025-01-26 15:33:03 ERROR org.example.migration.MigrationMain - Произошла ошибка: null
java.util.NoSuchElementException: null
	at java.base/java.util.Scanner.throwFor(Scanner.java:945)
	at java.base/java.util.Scanner.next(Scanner.java:1602)
	at java.base/java.util.Scanner.nextInt(Scanner.java:2267)
	at java.base/java.util.Scanner.nextInt(Scanner.java:2221)
	at org.example.migration.MigrationMain.main(MigrationMain.java:25)
	at migration_main.MigrationMainTest.testRollbackToDate(MigrationMainTest.java:50)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92)
	at jdk.proxy2/jdk.proxy2.$Proxy6.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:121)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
2025-01-26 15:33:03 INFO  org.example.migration.MigrationMain - Запуск программы управления миграциями...
2025-01-26 15:33:03 INFO  org.example.migration.MigrationMain - Выберите действие:
2025-01-26 15:33:03 INFO  org.example.migration.MigrationMain - 1: Выполнить миграции
2025-01-26 15:33:03 INFO  org.example.migration.MigrationMain - 2: Откатить до определённой даты
2025-01-26 15:33:03 ERROR org.example.migration.MigrationMain - Произошла ошибка: null
java.util.NoSuchElementException: null
	at java.base/java.util.Scanner.throwFor(Scanner.java:945)
	at java.base/java.util.Scanner.next(Scanner.java:1602)
	at java.base/java.util.Scanner.nextInt(Scanner.java:2267)
	at java.base/java.util.Scanner.nextInt(Scanner.java:2221)
	at org.example.migration.MigrationMain.main(MigrationMain.java:25)
	at migration_main.MigrationMainTest.testRunMigrations(MigrationMainTest.java:35)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92)
	at jdk.proxy2/jdk.proxy2.$Proxy6.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:121)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
2025-01-26 15:33:03 INFO  org.testcontainers.images.PullPolicy - Image pull policy will be performed by: DefaultPullPolicy()
2025-01-26 15:33:03 INFO  o.t.utility.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2025-01-26 15:33:03 INFO  o.testcontainers.DockerClientFactory - Testcontainers version: 1.20.4
2025-01-26 15:33:04 INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.NpipeSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2025-01-26 15:33:05 INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Npipe socket (npipe:////./pipe/docker_engine)
2025-01-26 15:33:05 INFO  o.testcontainers.DockerClientFactory - Docker host IP address is localhost
2025-01-26 15:33:05 INFO  o.testcontainers.DockerClientFactory - Connected to docker: 
  Server Version: 27.3.1
  API Version: 1.47
  Operating System: Docker Desktop
  Total Memory: 7784 MB
  Labels: 
    com.docker.desktop.address=npipe://\\.\pipe\docker_cli
2025-01-26 15:33:05 INFO  tc.testcontainers/ryuk:0.11.0 - Creating container for image: testcontainers/ryuk:0.11.0
2025-01-26 15:33:06 INFO  tc.testcontainers/ryuk:0.11.0 - Container testcontainers/ryuk:0.11.0 is starting: ef4a828e1135f96a27118dd4eff3133ca276d4f184fbcd1d04440060c27c7fb8
2025-01-26 15:33:06 INFO  tc.testcontainers/ryuk:0.11.0 - Container testcontainers/ryuk:0.11.0 started in PT1.3926707S
2025-01-26 15:33:06 INFO  o.t.utility.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2025-01-26 15:33:06 INFO  o.testcontainers.DockerClientFactory - Checking the system...
2025-01-26 15:33:06 INFO  o.testcontainers.DockerClientFactory - ✔︎ Docker server version should be at least 1.6.0
2025-01-26 15:33:06 INFO  tc.postgres:13 - Creating container for image: postgres:13
2025-01-26 15:33:07 INFO  tc.postgres:13 - Container postgres:13 is starting: 149ef119f355c552e2d242f53dd2e95ea560d588d3fead465499a2a04a8cda5b
2025-01-26 15:33:09 INFO  tc.postgres:13 - Container postgres:13 started in PT3.2744699S
2025-01-26 15:33:09 INFO  tc.postgres:13 - Container is started (JDBC URL: jdbc:postgresql://localhost:63077/test_db?loggerLevel=OFF)
2025-01-26 15:33:10 INFO  o.example.migration.MigrationManager - Migration table created or already exists.
2025-01-26 15:33:10 INFO  o.example.migration.MigrationManager - Found 4 migration files.
2025-01-26 15:33:10 INFO  o.example.migration.MigrationManager - Migration already applied: version 1, file V1__initial_schema.sql
2025-01-26 15:33:10 INFO  o.example.migration.MigrationManager - Migration already applied: version 2, file V2__add_constraints.sql
2025-01-26 15:33:10 INFO  o.example.migration.MigrationManager - Migration table created or already exists.
2025-01-26 15:33:10 INFO  o.example.migration.MigrationManager - No migrations to rollback after 2025-01-26T15:33:10.015575600
2025-01-26 15:33:10 INFO  o.example.migration.MigrationManager - Migration table created or already exists.
2025-01-26 15:33:10 INFO  o.example.migration.MigrationManager - Found 4 migration files.
2025-01-26 15:33:10 INFO  o.example.migration.MigrationManager - Migration already applied: version 1, file V1__initial_schema.sql
2025-01-26 15:33:10 INFO  o.example.migration.MigrationManager - Migration already applied: version 2, file V2__add_constraints.sql
2025-01-26 15:33:12 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (1, 'Test Name')
2025-01-26 15:33:12 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 15:33:12 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 15:33:12 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (2, 'New Test Name')
2025-01-26 15:33:12 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 15:33:12 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 15:33:12 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (1, 'Test Name')
2025-01-26 15:33:12 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 15:33:12 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 15:33:12 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (1, 'Another Test Name')
2025-01-26 15:33:12 ERROR migrations.MigrationScriptExecutor - Error executing migration: Нарушение уникального индекса или первичного ключа: "PRIMARY KEY ON PUBLIC.TEST_TABLE(ID) ( /* key:1 */ 1, 'Test Name')"
Unique index or primary key violation: "PRIMARY KEY ON PUBLIC.TEST_TABLE(ID) ( /* key:1 */ 1, 'Test Name')"; SQL statement:
INSERT INTO test_table (id, name) VALUES (1, 'Another Test Name') [23505-214]
2025-01-26 15:33:12 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 15:33:12 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: CREATE TABLE test(id INT)
2025-01-26 15:33:12 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 15:33:12 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 15:33:12 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: CREATE TABLE test(id INT)
2025-01-26 15:33:12 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 15:33:12 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 15:33:12 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: CREATE TABLE test(id INT)
2025-01-26 15:33:12 ERROR migrations.MigrationScriptExecutor - Error executing migration: null
2025-01-26 15:33:12 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 15:33:12 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM test_table
2025-01-26 15:33:12 INFO  migrations.MigrationValidator - SQL syntax is valid.
2025-01-26 15:33:12 WARN  migrations.MigrationValidator - Destructive operation detected in SQL: DROP TABLE test_table
2025-01-26 15:33:12 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM non_existing_table
2025-01-26 15:33:12 ERROR migrations.MigrationValidator - SQL syntax is invalid: Syntax error
2025-01-26 15:33:12 INFO  migrations.MigrationValidator - SQL is safe for execution.
2025-01-26 15:33:12 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM test_table
2025-01-26 15:33:12 INFO  migrations.MigrationValidator - SQL syntax is valid.
2025-01-26 15:33:12 WARN  migrations.MigrationValidator - Destructive operation detected in SQL: DROP TABLE test_table
2025-01-26 15:33:12 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM non_existing_table
2025-01-26 15:33:12 ERROR migrations.MigrationValidator - SQL syntax is invalid: Syntax error
2025-01-26 15:33:12 INFO  migrations.MigrationValidator - SQL is safe for execution.
2025-01-26 15:36:43 INFO  org.example.migration.MigrationMain - Запуск программы управления миграциями...
2025-01-26 15:36:44 INFO  org.example.migration.MigrationMain - Выберите действие:
2025-01-26 15:36:44 INFO  org.example.migration.MigrationMain - 1: Выполнить миграции
2025-01-26 15:36:44 INFO  org.example.migration.MigrationMain - 2: Откатить до определённой даты
2025-01-26 15:36:44 ERROR org.example.migration.MigrationMain - Произошла ошибка: null
java.util.NoSuchElementException: null
	at java.base/java.util.Scanner.throwFor(Scanner.java:945)
	at java.base/java.util.Scanner.next(Scanner.java:1602)
	at java.base/java.util.Scanner.nextInt(Scanner.java:2267)
	at java.base/java.util.Scanner.nextInt(Scanner.java:2221)
	at org.example.migration.MigrationMain.main(MigrationMain.java:25)
	at migration_main.MigrationMainIntegrationTest.testMain_rollbackToDate(MigrationMainIntegrationTest.java:48)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92)
	at jdk.proxy2/jdk.proxy2.$Proxy6.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:121)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
2025-01-26 15:36:44 INFO  org.example.migration.MigrationMain - Запуск программы управления миграциями...
2025-01-26 15:36:44 INFO  org.example.migration.MigrationMain - Выберите действие:
2025-01-26 15:36:44 INFO  org.example.migration.MigrationMain - 1: Выполнить миграции
2025-01-26 15:36:44 INFO  org.example.migration.MigrationMain - 2: Откатить до определённой даты
2025-01-26 15:36:44 ERROR org.example.migration.MigrationMain - Произошла ошибка: null
java.util.NoSuchElementException: null
	at java.base/java.util.Scanner.throwFor(Scanner.java:945)
	at java.base/java.util.Scanner.next(Scanner.java:1602)
	at java.base/java.util.Scanner.nextInt(Scanner.java:2267)
	at java.base/java.util.Scanner.nextInt(Scanner.java:2221)
	at org.example.migration.MigrationMain.main(MigrationMain.java:25)
	at migration_main.MigrationMainIntegrationTest.testMain_runMigrations(MigrationMainIntegrationTest.java:34)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92)
	at jdk.proxy2/jdk.proxy2.$Proxy6.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:121)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
2025-01-26 15:37:44 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: CREATE TABLE IF NOT EXISTS another_table (id INT, description VARCHAR(255)); INSERT INTO another_table (id, description) VALUES (1, 'Description');
2025-01-26 15:37:45 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-26 15:37:46 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: CREATE TABLE IF NOT EXISTS test_table (id INT, name VARCHAR(255)); INSERT INTO test_table (id, name) VALUES (1, 'Test');
2025-01-26 15:37:46 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-26 15:37:48 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: SELECT * FROM test_table
2025-01-26 15:37:48 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-26 15:37:48 INFO  org.example.migration.MigrationMain - Запуск программы управления миграциями...
2025-01-26 15:37:48 INFO  org.example.migration.MigrationMain - Выберите действие:
2025-01-26 15:37:48 INFO  org.example.migration.MigrationMain - 1: Выполнить миграции
2025-01-26 15:37:48 INFO  org.example.migration.MigrationMain - 2: Откатить до определённой даты
2025-01-26 15:37:48 ERROR org.example.migration.MigrationMain - Произошла ошибка: null
java.util.NoSuchElementException: null
	at java.base/java.util.Scanner.throwFor(Scanner.java:945)
	at java.base/java.util.Scanner.next(Scanner.java:1602)
	at java.base/java.util.Scanner.nextInt(Scanner.java:2267)
	at java.base/java.util.Scanner.nextInt(Scanner.java:2221)
	at org.example.migration.MigrationMain.main(MigrationMain.java:25)
	at migration_main.MigrationMainIntegrationTest.testMain_rollbackToDate(MigrationMainIntegrationTest.java:47)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92)
	at jdk.proxy2/jdk.proxy2.$Proxy6.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:121)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
2025-01-26 15:37:48 INFO  org.example.migration.MigrationMain - Запуск программы управления миграциями...
2025-01-26 15:37:48 INFO  org.example.migration.MigrationMain - Выберите действие:
2025-01-26 15:37:48 INFO  org.example.migration.MigrationMain - 1: Выполнить миграции
2025-01-26 15:37:48 INFO  org.example.migration.MigrationMain - 2: Откатить до определённой даты
2025-01-26 15:37:48 ERROR org.example.migration.MigrationMain - Произошла ошибка: null
java.util.NoSuchElementException: null
	at java.base/java.util.Scanner.throwFor(Scanner.java:945)
	at java.base/java.util.Scanner.next(Scanner.java:1602)
	at java.base/java.util.Scanner.nextInt(Scanner.java:2267)
	at java.base/java.util.Scanner.nextInt(Scanner.java:2221)
	at org.example.migration.MigrationMain.main(MigrationMain.java:25)
	at migration_main.MigrationMainTest.testRollbackToDate(MigrationMainTest.java:50)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92)
	at jdk.proxy2/jdk.proxy2.$Proxy6.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:121)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
2025-01-26 15:37:48 INFO  org.example.migration.MigrationMain - Запуск программы управления миграциями...
2025-01-26 15:37:48 INFO  org.example.migration.MigrationMain - Выберите действие:
2025-01-26 15:37:48 INFO  org.example.migration.MigrationMain - 1: Выполнить миграции
2025-01-26 15:37:48 INFO  org.example.migration.MigrationMain - 2: Откатить до определённой даты
2025-01-26 15:37:48 ERROR org.example.migration.MigrationMain - Произошла ошибка: null
java.util.NoSuchElementException: null
	at java.base/java.util.Scanner.throwFor(Scanner.java:945)
	at java.base/java.util.Scanner.next(Scanner.java:1602)
	at java.base/java.util.Scanner.nextInt(Scanner.java:2267)
	at java.base/java.util.Scanner.nextInt(Scanner.java:2221)
	at org.example.migration.MigrationMain.main(MigrationMain.java:25)
	at migration_main.MigrationMainTest.testRunMigrations(MigrationMainTest.java:35)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92)
	at jdk.proxy2/jdk.proxy2.$Proxy6.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:121)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
2025-01-26 15:37:49 INFO  org.testcontainers.images.PullPolicy - Image pull policy will be performed by: DefaultPullPolicy()
2025-01-26 15:37:49 INFO  o.t.utility.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2025-01-26 15:37:49 INFO  o.testcontainers.DockerClientFactory - Testcontainers version: 1.20.4
2025-01-26 15:37:49 INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.NpipeSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2025-01-26 15:37:50 INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Npipe socket (npipe:////./pipe/docker_engine)
2025-01-26 15:37:50 INFO  o.testcontainers.DockerClientFactory - Docker host IP address is localhost
2025-01-26 15:37:50 INFO  o.testcontainers.DockerClientFactory - Connected to docker: 
  Server Version: 27.3.1
  API Version: 1.47
  Operating System: Docker Desktop
  Total Memory: 7784 MB
  Labels: 
    com.docker.desktop.address=npipe://\\.\pipe\docker_cli
2025-01-26 15:37:51 INFO  tc.testcontainers/ryuk:0.11.0 - Creating container for image: testcontainers/ryuk:0.11.0
2025-01-26 15:37:51 INFO  tc.testcontainers/ryuk:0.11.0 - Container testcontainers/ryuk:0.11.0 is starting: abf388f789083179ba005a4472f6eefd4e06f27ab91c8c9ec297256006d2b9ba
2025-01-26 15:37:52 INFO  tc.testcontainers/ryuk:0.11.0 - Container testcontainers/ryuk:0.11.0 started in PT1.303388S
2025-01-26 15:37:52 INFO  o.t.utility.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2025-01-26 15:37:52 INFO  o.testcontainers.DockerClientFactory - Checking the system...
2025-01-26 15:37:52 INFO  o.testcontainers.DockerClientFactory - ✔︎ Docker server version should be at least 1.6.0
2025-01-26 15:37:52 INFO  tc.postgres:13 - Creating container for image: postgres:13
2025-01-26 15:37:52 INFO  tc.postgres:13 - Container postgres:13 is starting: 78599298097e5c25b700da594a47fcedfd63aaae97c035537d8797d3ab7edae4
2025-01-26 15:37:54 INFO  tc.postgres:13 - Container postgres:13 started in PT2.6524823S
2025-01-26 15:37:54 INFO  tc.postgres:13 - Container is started (JDBC URL: jdbc:postgresql://localhost:63396/test_db?loggerLevel=OFF)
2025-01-26 15:37:55 INFO  o.example.migration.MigrationManager - Migration table created or already exists.
2025-01-26 15:37:55 INFO  o.example.migration.MigrationManager - Found 4 migration files.
2025-01-26 15:37:55 INFO  o.example.migration.MigrationManager - Migration already applied: version 1, file V1__initial_schema.sql
2025-01-26 15:37:55 INFO  o.example.migration.MigrationManager - Migration already applied: version 2, file V2__add_constraints.sql
2025-01-26 15:37:55 INFO  o.example.migration.MigrationManager - Migration table created or already exists.
2025-01-26 15:37:55 INFO  o.example.migration.MigrationManager - No migrations to rollback after 2025-01-26T15:37:55.022582
2025-01-26 15:37:55 INFO  o.example.migration.MigrationManager - Migration table created or already exists.
2025-01-26 15:37:55 INFO  o.example.migration.MigrationManager - Found 4 migration files.
2025-01-26 15:37:55 INFO  o.example.migration.MigrationManager - Migration already applied: version 1, file V1__initial_schema.sql
2025-01-26 15:37:55 INFO  o.example.migration.MigrationManager - Migration already applied: version 2, file V2__add_constraints.sql
2025-01-26 15:37:57 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (1, 'Test Name')
2025-01-26 15:37:57 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 15:37:57 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 15:37:57 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (2, 'New Test Name')
2025-01-26 15:37:57 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 15:37:57 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 15:37:57 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (1, 'Test Name')
2025-01-26 15:37:57 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 15:37:57 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 15:37:57 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (1, 'Another Test Name')
2025-01-26 15:37:57 ERROR migrations.MigrationScriptExecutor - Error executing migration: Нарушение уникального индекса или первичного ключа: "PRIMARY KEY ON PUBLIC.TEST_TABLE(ID) ( /* key:1 */ 1, 'Test Name')"
Unique index or primary key violation: "PRIMARY KEY ON PUBLIC.TEST_TABLE(ID) ( /* key:1 */ 1, 'Test Name')"; SQL statement:
INSERT INTO test_table (id, name) VALUES (1, 'Another Test Name') [23505-214]
2025-01-26 15:37:57 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 15:37:58 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: CREATE TABLE test(id INT)
2025-01-26 15:37:58 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 15:37:58 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 15:37:58 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: CREATE TABLE test(id INT)
2025-01-26 15:37:58 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 15:37:58 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 15:37:58 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: CREATE TABLE test(id INT)
2025-01-26 15:37:58 ERROR migrations.MigrationScriptExecutor - Error executing migration: null
2025-01-26 15:37:58 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 15:37:58 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM test_table
2025-01-26 15:37:58 INFO  migrations.MigrationValidator - SQL syntax is valid.
2025-01-26 15:37:58 WARN  migrations.MigrationValidator - Destructive operation detected in SQL: DROP TABLE test_table
2025-01-26 15:37:58 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM non_existing_table
2025-01-26 15:37:58 ERROR migrations.MigrationValidator - SQL syntax is invalid: Syntax error
2025-01-26 15:37:58 INFO  migrations.MigrationValidator - SQL is safe for execution.
2025-01-26 15:37:58 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM test_table
2025-01-26 15:37:58 INFO  migrations.MigrationValidator - SQL syntax is valid.
2025-01-26 15:37:58 WARN  migrations.MigrationValidator - Destructive operation detected in SQL: DROP TABLE test_table
2025-01-26 15:37:58 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM non_existing_table
2025-01-26 15:37:58 ERROR migrations.MigrationValidator - SQL syntax is invalid: Syntax error
2025-01-26 15:37:58 INFO  migrations.MigrationValidator - SQL is safe for execution.
2025-01-26 15:40:11 INFO  org.example.migration.MigrationMain - Запуск программы управления миграциями...
2025-01-26 15:40:13 INFO  org.example.migration.MigrationMain - Выберите действие:
2025-01-26 15:40:13 INFO  org.example.migration.MigrationMain - 1: Выполнить миграции
2025-01-26 15:40:13 INFO  org.example.migration.MigrationMain - 2: Откатить до определённой даты
2025-01-26 15:40:13 ERROR org.example.migration.MigrationMain - Произошла ошибка: null
java.util.NoSuchElementException: null
	at java.base/java.util.Scanner.throwFor(Scanner.java:945)
	at java.base/java.util.Scanner.next(Scanner.java:1602)
	at java.base/java.util.Scanner.nextInt(Scanner.java:2267)
	at java.base/java.util.Scanner.nextInt(Scanner.java:2221)
	at org.example.migration.MigrationMain.main(MigrationMain.java:25)
	at migration_main.MigrationMainTest.testRunMigrationsSuccessfully(MigrationMainTest.java:36)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92)
	at jdk.proxy2/jdk.proxy2.$Proxy6.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:121)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
2025-01-26 15:40:13 INFO  org.example.migration.MigrationMain - Запуск программы управления миграциями...
2025-01-26 15:40:13 INFO  org.example.migration.MigrationMain - Выберите действие:
2025-01-26 15:40:13 INFO  org.example.migration.MigrationMain - 1: Выполнить миграции
2025-01-26 15:40:13 INFO  org.example.migration.MigrationMain - 2: Откатить до определённой даты
2025-01-26 15:40:13 ERROR org.example.migration.MigrationMain - Произошла ошибка: null
java.util.NoSuchElementException: null
	at java.base/java.util.Scanner.throwFor(Scanner.java:945)
	at java.base/java.util.Scanner.next(Scanner.java:1602)
	at java.base/java.util.Scanner.nextInt(Scanner.java:2267)
	at java.base/java.util.Scanner.nextInt(Scanner.java:2221)
	at org.example.migration.MigrationMain.main(MigrationMain.java:25)
	at migration_main.MigrationMainTest.testRollbackToValidDate(MigrationMainTest.java:49)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92)
	at jdk.proxy2/jdk.proxy2.$Proxy6.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:121)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
2025-01-26 15:40:13 INFO  org.example.migration.MigrationMain - Запуск программы управления миграциями...
2025-01-26 15:40:13 INFO  org.example.migration.MigrationMain - Выберите действие:
2025-01-26 15:40:13 INFO  org.example.migration.MigrationMain - 1: Выполнить миграции
2025-01-26 15:40:13 INFO  org.example.migration.MigrationMain - 2: Откатить до определённой даты
2025-01-26 15:40:13 ERROR org.example.migration.MigrationMain - Произошла ошибка: null
java.util.NoSuchElementException: null
	at java.base/java.util.Scanner.throwFor(Scanner.java:945)
	at java.base/java.util.Scanner.next(Scanner.java:1602)
	at java.base/java.util.Scanner.nextInt(Scanner.java:2267)
	at java.base/java.util.Scanner.nextInt(Scanner.java:2221)
	at org.example.migration.MigrationMain.main(MigrationMain.java:25)
	at migration_main.MigrationMainTest.testRollbackToInvalidDate(MigrationMainTest.java:62)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92)
	at jdk.proxy2/jdk.proxy2.$Proxy6.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:121)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
2025-01-26 15:40:13 INFO  org.example.migration.MigrationMain - Запуск программы управления миграциями...
2025-01-26 15:40:13 INFO  org.example.migration.MigrationMain - Выберите действие:
2025-01-26 15:40:13 INFO  org.example.migration.MigrationMain - 1: Выполнить миграции
2025-01-26 15:40:13 INFO  org.example.migration.MigrationMain - 2: Откатить до определённой даты
2025-01-26 15:40:13 ERROR org.example.migration.MigrationMain - Произошла ошибка: null
java.util.NoSuchElementException: null
	at java.base/java.util.Scanner.throwFor(Scanner.java:945)
	at java.base/java.util.Scanner.next(Scanner.java:1602)
	at java.base/java.util.Scanner.nextInt(Scanner.java:2267)
	at java.base/java.util.Scanner.nextInt(Scanner.java:2221)
	at org.example.migration.MigrationMain.main(MigrationMain.java:25)
	at migration_main.MigrationMainTest.testInvalidChoice(MigrationMainTest.java:71)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92)
	at jdk.proxy2/jdk.proxy2.$Proxy6.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:121)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
2025-01-26 15:42:18 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: CREATE TABLE IF NOT EXISTS another_table (id INT, description VARCHAR(255)); INSERT INTO another_table (id, description) VALUES (1, 'Description');
2025-01-26 15:42:19 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-26 15:42:19 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: CREATE TABLE IF NOT EXISTS test_table (id INT, name VARCHAR(255)); INSERT INTO test_table (id, name) VALUES (1, 'Test');
2025-01-26 15:42:19 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-26 15:42:21 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: SELECT * FROM test_table
2025-01-26 15:42:21 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-26 15:42:22 INFO  org.example.migration.MigrationMain - Запуск программы управления миграциями...
2025-01-26 15:42:22 INFO  org.example.migration.MigrationMain - Выберите действие:
2025-01-26 15:42:22 INFO  org.example.migration.MigrationMain - 1: Выполнить миграции
2025-01-26 15:42:22 INFO  org.example.migration.MigrationMain - 2: Откатить до определённой даты
2025-01-26 15:42:22 ERROR org.example.migration.MigrationMain - Произошла ошибка: null
java.util.NoSuchElementException: null
	at java.base/java.util.Scanner.throwFor(Scanner.java:945)
	at java.base/java.util.Scanner.next(Scanner.java:1602)
	at java.base/java.util.Scanner.nextInt(Scanner.java:2267)
	at java.base/java.util.Scanner.nextInt(Scanner.java:2221)
	at org.example.migration.MigrationMain.main(MigrationMain.java:25)
	at migration_main.MigrationMainIntegrationTest.testMain_rollbackToDate(MigrationMainIntegrationTest.java:47)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92)
	at jdk.proxy2/jdk.proxy2.$Proxy6.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:121)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
2025-01-26 15:42:22 INFO  org.testcontainers.images.PullPolicy - Image pull policy will be performed by: DefaultPullPolicy()
2025-01-26 15:42:22 INFO  o.t.utility.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2025-01-26 15:42:22 INFO  o.testcontainers.DockerClientFactory - Testcontainers version: 1.20.4
2025-01-26 15:42:23 INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.NpipeSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2025-01-26 15:42:24 INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Npipe socket (npipe:////./pipe/docker_engine)
2025-01-26 15:42:24 INFO  o.testcontainers.DockerClientFactory - Docker host IP address is localhost
2025-01-26 15:42:24 INFO  o.testcontainers.DockerClientFactory - Connected to docker: 
  Server Version: 27.3.1
  API Version: 1.47
  Operating System: Docker Desktop
  Total Memory: 7784 MB
  Labels: 
    com.docker.desktop.address=npipe://\\.\pipe\docker_cli
2025-01-26 15:42:24 INFO  tc.testcontainers/ryuk:0.11.0 - Creating container for image: testcontainers/ryuk:0.11.0
2025-01-26 15:42:24 INFO  tc.testcontainers/ryuk:0.11.0 - Container testcontainers/ryuk:0.11.0 is starting: 722d241bdaa7004f8f0c3c5095b6f8d4d59660b9252234ee722e9e3d05563eff
2025-01-26 15:42:25 INFO  tc.testcontainers/ryuk:0.11.0 - Container testcontainers/ryuk:0.11.0 started in PT1.2953346S
2025-01-26 15:42:25 INFO  o.t.utility.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2025-01-26 15:42:25 INFO  o.testcontainers.DockerClientFactory - Checking the system...
2025-01-26 15:42:25 INFO  o.testcontainers.DockerClientFactory - ✔︎ Docker server version should be at least 1.6.0
2025-01-26 15:42:25 INFO  tc.postgres:13 - Creating container for image: postgres:13
2025-01-26 15:42:26 INFO  tc.postgres:13 - Container postgres:13 is starting: 0b3e712a245215e15e3867ffca3360cf934797e84c69c8921cbdf91f627f8272
2025-01-26 15:42:28 INFO  tc.postgres:13 - Container postgres:13 started in PT2.387373S
2025-01-26 15:42:28 INFO  tc.postgres:13 - Container is started (JDBC URL: jdbc:postgresql://localhost:63566/test_db?loggerLevel=OFF)
2025-01-26 15:42:28 INFO  o.example.migration.MigrationManager - Migration table created or already exists.
2025-01-26 15:42:28 INFO  o.example.migration.MigrationManager - Found 4 migration files.
2025-01-26 15:42:28 INFO  o.example.migration.MigrationManager - Migration already applied: version 1, file V1__initial_schema.sql
2025-01-26 15:42:28 INFO  o.example.migration.MigrationManager - Migration already applied: version 2, file V2__add_constraints.sql
2025-01-26 15:42:28 INFO  o.example.migration.MigrationManager - Migration table created or already exists.
2025-01-26 15:42:28 INFO  o.example.migration.MigrationManager - No migrations to rollback after 2025-01-26T15:42:28.092808600
2025-01-26 15:42:28 INFO  o.example.migration.MigrationManager - Migration table created or already exists.
2025-01-26 15:42:28 INFO  o.example.migration.MigrationManager - Found 4 migration files.
2025-01-26 15:42:28 INFO  o.example.migration.MigrationManager - Migration already applied: version 1, file V1__initial_schema.sql
2025-01-26 15:42:28 INFO  o.example.migration.MigrationManager - Migration already applied: version 2, file V2__add_constraints.sql
2025-01-26 15:42:30 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (1, 'Test Name')
2025-01-26 15:42:30 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 15:42:30 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 15:42:30 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (2, 'New Test Name')
2025-01-26 15:42:30 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 15:42:30 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 15:42:30 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (1, 'Test Name')
2025-01-26 15:42:30 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 15:42:30 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 15:42:30 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (1, 'Another Test Name')
2025-01-26 15:42:30 ERROR migrations.MigrationScriptExecutor - Error executing migration: Нарушение уникального индекса или первичного ключа: "PRIMARY KEY ON PUBLIC.TEST_TABLE(ID) ( /* key:1 */ 1, 'Test Name')"
Unique index or primary key violation: "PRIMARY KEY ON PUBLIC.TEST_TABLE(ID) ( /* key:1 */ 1, 'Test Name')"; SQL statement:
INSERT INTO test_table (id, name) VALUES (1, 'Another Test Name') [23505-214]
2025-01-26 15:42:30 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 15:42:30 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: CREATE TABLE test(id INT)
2025-01-26 15:42:30 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 15:42:30 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 15:42:30 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: CREATE TABLE test(id INT)
2025-01-26 15:42:30 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 15:42:30 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 15:42:30 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: CREATE TABLE test(id INT)
2025-01-26 15:42:30 ERROR migrations.MigrationScriptExecutor - Error executing migration: null
2025-01-26 15:42:30 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 15:42:30 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM test_table
2025-01-26 15:42:30 INFO  migrations.MigrationValidator - SQL syntax is valid.
2025-01-26 15:42:30 WARN  migrations.MigrationValidator - Destructive operation detected in SQL: DROP TABLE test_table
2025-01-26 15:42:30 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM non_existing_table
2025-01-26 15:42:30 ERROR migrations.MigrationValidator - SQL syntax is invalid: Syntax error
2025-01-26 15:42:30 INFO  migrations.MigrationValidator - SQL is safe for execution.
2025-01-26 15:42:30 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM test_table
2025-01-26 15:42:30 INFO  migrations.MigrationValidator - SQL syntax is valid.
2025-01-26 15:42:30 WARN  migrations.MigrationValidator - Destructive operation detected in SQL: DROP TABLE test_table
2025-01-26 15:42:30 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM non_existing_table
2025-01-26 15:42:30 ERROR migrations.MigrationValidator - SQL syntax is invalid: Syntax error
2025-01-26 15:42:30 INFO  migrations.MigrationValidator - SQL is safe for execution.
2025-01-26 15:43:10 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: CREATE TABLE IF NOT EXISTS another_table (id INT, description VARCHAR(255)); INSERT INTO another_table (id, description) VALUES (1, 'Description');
2025-01-26 15:43:11 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-26 15:43:11 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: CREATE TABLE IF NOT EXISTS test_table (id INT, name VARCHAR(255)); INSERT INTO test_table (id, name) VALUES (1, 'Test');
2025-01-26 15:43:11 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-26 15:43:14 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: SELECT * FROM test_table
2025-01-26 15:43:14 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-26 15:43:14 INFO  org.example.migration.MigrationMain - Запуск программы управления миграциями...
2025-01-26 15:43:14 INFO  org.example.migration.MigrationMain - Выберите действие:
2025-01-26 15:43:14 INFO  org.example.migration.MigrationMain - 1: Выполнить миграции
2025-01-26 15:43:14 INFO  org.example.migration.MigrationMain - 2: Откатить до определённой даты
2025-01-26 15:43:14 ERROR org.example.migration.MigrationMain - Произошла ошибка: null
java.util.NoSuchElementException: null
	at java.base/java.util.Scanner.throwFor(Scanner.java:945)
	at java.base/java.util.Scanner.next(Scanner.java:1602)
	at java.base/java.util.Scanner.nextInt(Scanner.java:2267)
	at java.base/java.util.Scanner.nextInt(Scanner.java:2221)
	at org.example.migration.MigrationMain.main(MigrationMain.java:25)
	at migration_main.MigrationMainIntegrationTest.testMain_rollbackToDate(MigrationMainIntegrationTest.java:47)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92)
	at jdk.proxy2/jdk.proxy2.$Proxy6.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:121)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
2025-01-26 15:43:15 INFO  org.testcontainers.images.PullPolicy - Image pull policy will be performed by: DefaultPullPolicy()
2025-01-26 15:43:15 INFO  o.t.utility.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2025-01-26 15:43:15 INFO  o.testcontainers.DockerClientFactory - Testcontainers version: 1.20.4
2025-01-26 15:43:16 INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.NpipeSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2025-01-26 15:43:17 INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Npipe socket (npipe:////./pipe/docker_engine)
2025-01-26 15:43:17 INFO  o.testcontainers.DockerClientFactory - Docker host IP address is localhost
2025-01-26 15:43:17 INFO  o.testcontainers.DockerClientFactory - Connected to docker: 
  Server Version: 27.3.1
  API Version: 1.47
  Operating System: Docker Desktop
  Total Memory: 7784 MB
  Labels: 
    com.docker.desktop.address=npipe://\\.\pipe\docker_cli
2025-01-26 15:43:17 INFO  tc.testcontainers/ryuk:0.11.0 - Creating container for image: testcontainers/ryuk:0.11.0
2025-01-26 15:43:18 INFO  tc.testcontainers/ryuk:0.11.0 - Container testcontainers/ryuk:0.11.0 is starting: 9d89484729bd747ff0f2431d8bf2ed11f0084b59746e13b7aeafc235c69ab8ce
2025-01-26 15:43:19 INFO  tc.testcontainers/ryuk:0.11.0 - Container testcontainers/ryuk:0.11.0 started in PT1.9691888S
2025-01-26 15:43:19 INFO  o.t.utility.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2025-01-26 15:43:19 INFO  o.testcontainers.DockerClientFactory - Checking the system...
2025-01-26 15:43:19 INFO  o.testcontainers.DockerClientFactory - ✔︎ Docker server version should be at least 1.6.0
2025-01-26 15:43:19 INFO  tc.postgres:13 - Creating container for image: postgres:13
2025-01-26 15:43:20 INFO  tc.postgres:13 - Container postgres:13 is starting: cf9d74900601632883a7068e48e640c82af7e9a82bbd0a6ac3ada5b5e0142779
2025-01-26 15:43:23 INFO  tc.postgres:13 - Container postgres:13 started in PT3.3425317S
2025-01-26 15:43:23 INFO  tc.postgres:13 - Container is started (JDBC URL: jdbc:postgresql://localhost:63616/test_db?loggerLevel=OFF)
2025-01-26 15:43:23 INFO  o.example.migration.MigrationManager - Migration table created or already exists.
2025-01-26 15:43:23 INFO  o.example.migration.MigrationManager - Found 4 migration files.
2025-01-26 15:43:23 INFO  o.example.migration.MigrationManager - Migration already applied: version 1, file V1__initial_schema.sql
2025-01-26 15:43:23 INFO  o.example.migration.MigrationManager - Migration already applied: version 2, file V2__add_constraints.sql
2025-01-26 15:43:23 INFO  o.example.migration.MigrationManager - Migration table created or already exists.
2025-01-26 15:43:23 INFO  o.example.migration.MigrationManager - No migrations to rollback after 2025-01-26T15:43:23.319992900
2025-01-26 15:43:23 INFO  o.example.migration.MigrationManager - Migration table created or already exists.
2025-01-26 15:43:23 INFO  o.example.migration.MigrationManager - Found 4 migration files.
2025-01-26 15:43:23 INFO  o.example.migration.MigrationManager - Migration already applied: version 1, file V1__initial_schema.sql
2025-01-26 15:43:23 INFO  o.example.migration.MigrationManager - Migration already applied: version 2, file V2__add_constraints.sql
2025-01-26 15:43:25 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (1, 'Test Name')
2025-01-26 15:43:25 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 15:43:25 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 15:43:25 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (2, 'New Test Name')
2025-01-26 15:43:25 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 15:43:25 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 15:43:25 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (1, 'Test Name')
2025-01-26 15:43:25 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 15:43:25 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 15:43:25 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (1, 'Another Test Name')
2025-01-26 15:43:25 ERROR migrations.MigrationScriptExecutor - Error executing migration: Нарушение уникального индекса или первичного ключа: "PRIMARY KEY ON PUBLIC.TEST_TABLE(ID) ( /* key:1 */ 1, 'Test Name')"
Unique index or primary key violation: "PRIMARY KEY ON PUBLIC.TEST_TABLE(ID) ( /* key:1 */ 1, 'Test Name')"; SQL statement:
INSERT INTO test_table (id, name) VALUES (1, 'Another Test Name') [23505-214]
2025-01-26 15:43:25 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 15:43:25 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: CREATE TABLE test(id INT)
2025-01-26 15:43:25 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 15:43:25 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 15:43:25 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: CREATE TABLE test(id INT)
2025-01-26 15:43:25 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 15:43:25 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 15:43:25 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: CREATE TABLE test(id INT)
2025-01-26 15:43:25 ERROR migrations.MigrationScriptExecutor - Error executing migration: null
2025-01-26 15:43:25 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 15:43:25 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM test_table
2025-01-26 15:43:25 INFO  migrations.MigrationValidator - SQL syntax is valid.
2025-01-26 15:43:25 WARN  migrations.MigrationValidator - Destructive operation detected in SQL: DROP TABLE test_table
2025-01-26 15:43:25 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM non_existing_table
2025-01-26 15:43:25 ERROR migrations.MigrationValidator - SQL syntax is invalid: Syntax error
2025-01-26 15:43:25 INFO  migrations.MigrationValidator - SQL is safe for execution.
2025-01-26 15:43:25 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM test_table
2025-01-26 15:43:25 INFO  migrations.MigrationValidator - SQL syntax is valid.
2025-01-26 15:43:25 WARN  migrations.MigrationValidator - Destructive operation detected in SQL: DROP TABLE test_table
2025-01-26 15:43:25 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM non_existing_table
2025-01-26 15:43:25 ERROR migrations.MigrationValidator - SQL syntax is invalid: Syntax error
2025-01-26 15:43:25 INFO  migrations.MigrationValidator - SQL is safe for execution.
2025-01-26 15:47:17 INFO  org.example.migration.MigrationMain - Выберите действие:
2025-01-26 15:47:17 INFO  org.example.migration.MigrationMain - 1: Выполнить миграции
2025-01-26 15:47:17 INFO  org.example.migration.MigrationMain - 2: Откатить до определённой даты
2025-01-26 15:47:17 INFO  org.example.migration.MigrationMain - Запуск миграций...
2025-01-26 15:47:17 INFO  org.example.migration.MigrationMain - Миграции успешно завершены.
2025-01-26 15:47:17 INFO  org.example.migration.MigrationMain - Выберите действие:
2025-01-26 15:47:17 INFO  org.example.migration.MigrationMain - 1: Выполнить миграции
2025-01-26 15:47:17 INFO  org.example.migration.MigrationMain - 2: Откатить до определённой даты
2025-01-26 15:47:17 INFO  org.example.migration.MigrationMain - Введите дату отката в формате 'YYYY-MM-DD HH:MM:SS':
2025-01-26 15:47:17 INFO  org.example.migration.MigrationMain - Попытка откатить миграции до 2025-01-01T12:00
2025-01-26 15:47:17 INFO  org.example.migration.MigrationMain - Откат миграций выполнен до 2025-01-01T12:00
2025-01-26 15:47:17 INFO  org.example.migration.MigrationMain - Выберите действие:
2025-01-26 15:47:17 INFO  org.example.migration.MigrationMain - 1: Выполнить миграции
2025-01-26 15:47:17 INFO  org.example.migration.MigrationMain - 2: Откатить до определённой даты
2025-01-26 15:47:17 INFO  org.example.migration.MigrationMain - Введите дату отката в формате 'YYYY-MM-DD HH:MM:SS':
2025-01-26 15:47:17 ERROR org.example.migration.MigrationMain - Неверный формат даты: invalid-date
2025-01-26 15:47:17 INFO  org.example.migration.MigrationMain - Выберите действие:
2025-01-26 15:47:17 INFO  org.example.migration.MigrationMain - 1: Выполнить миграции
2025-01-26 15:47:17 INFO  org.example.migration.MigrationMain - 2: Откатить до определённой даты
2025-01-26 15:47:17 WARN  org.example.migration.MigrationMain - Некорректный выбор. Завершение работы.
2025-01-26 15:47:30 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: CREATE TABLE IF NOT EXISTS another_table (id INT, description VARCHAR(255)); INSERT INTO another_table (id, description) VALUES (1, 'Description');
2025-01-26 15:47:31 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-26 15:47:31 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: CREATE TABLE IF NOT EXISTS test_table (id INT, name VARCHAR(255)); INSERT INTO test_table (id, name) VALUES (1, 'Test');
2025-01-26 15:47:31 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-26 15:47:34 INFO  o.e.migration.MigrationExecutor - Starting migration execution with script: SELECT * FROM test_table
2025-01-26 15:47:34 INFO  o.e.migration.MigrationExecutor - Migration executed successfully.
2025-01-26 15:47:34 INFO  org.example.migration.MigrationMain - Запуск программы управления миграциями...
2025-01-26 15:47:34 INFO  org.example.migration.MigrationMain - Выберите действие:
2025-01-26 15:47:34 INFO  org.example.migration.MigrationMain - 1: Выполнить миграции
2025-01-26 15:47:34 INFO  org.example.migration.MigrationMain - 2: Откатить до определённой даты
2025-01-26 15:47:34 ERROR org.example.migration.MigrationMain - Произошла ошибка: null
java.util.NoSuchElementException: null
	at java.base/java.util.Scanner.throwFor(Scanner.java:945)
	at java.base/java.util.Scanner.next(Scanner.java:1602)
	at java.base/java.util.Scanner.nextInt(Scanner.java:2267)
	at java.base/java.util.Scanner.nextInt(Scanner.java:2221)
	at org.example.migration.MigrationMain.run(MigrationMain.java:31)
	at org.example.migration.MigrationMain.main(MigrationMain.java:20)
	at migration_main.MigrationMainIntegrationTest.testMain_rollbackToDate(MigrationMainIntegrationTest.java:47)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92)
	at jdk.proxy2/jdk.proxy2.$Proxy6.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:121)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
2025-01-26 15:47:34 INFO  org.example.migration.MigrationMain - Выберите действие:
2025-01-26 15:47:34 INFO  org.example.migration.MigrationMain - 1: Выполнить миграции
2025-01-26 15:47:34 INFO  org.example.migration.MigrationMain - 2: Откатить до определённой даты
2025-01-26 15:47:34 INFO  org.example.migration.MigrationMain - Запуск миграций...
2025-01-26 15:47:34 INFO  org.example.migration.MigrationMain - Миграции успешно завершены.
2025-01-26 15:47:34 INFO  org.example.migration.MigrationMain - Выберите действие:
2025-01-26 15:47:34 INFO  org.example.migration.MigrationMain - 1: Выполнить миграции
2025-01-26 15:47:34 INFO  org.example.migration.MigrationMain - 2: Откатить до определённой даты
2025-01-26 15:47:34 INFO  org.example.migration.MigrationMain - Введите дату отката в формате 'YYYY-MM-DD HH:MM:SS':
2025-01-26 15:47:34 INFO  org.example.migration.MigrationMain - Попытка откатить миграции до 2025-01-01T12:00
2025-01-26 15:47:34 INFO  org.example.migration.MigrationMain - Откат миграций выполнен до 2025-01-01T12:00
2025-01-26 15:47:34 INFO  org.example.migration.MigrationMain - Выберите действие:
2025-01-26 15:47:34 INFO  org.example.migration.MigrationMain - 1: Выполнить миграции
2025-01-26 15:47:34 INFO  org.example.migration.MigrationMain - 2: Откатить до определённой даты
2025-01-26 15:47:34 INFO  org.example.migration.MigrationMain - Введите дату отката в формате 'YYYY-MM-DD HH:MM:SS':
2025-01-26 15:47:34 ERROR org.example.migration.MigrationMain - Неверный формат даты: invalid-date
2025-01-26 15:47:34 INFO  org.example.migration.MigrationMain - Выберите действие:
2025-01-26 15:47:34 INFO  org.example.migration.MigrationMain - 1: Выполнить миграции
2025-01-26 15:47:34 INFO  org.example.migration.MigrationMain - 2: Откатить до определённой даты
2025-01-26 15:47:34 WARN  org.example.migration.MigrationMain - Некорректный выбор. Завершение работы.
2025-01-26 15:47:35 INFO  org.testcontainers.images.PullPolicy - Image pull policy will be performed by: DefaultPullPolicy()
2025-01-26 15:47:35 INFO  o.t.utility.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2025-01-26 15:47:35 INFO  o.testcontainers.DockerClientFactory - Testcontainers version: 1.20.4
2025-01-26 15:47:35 INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.NpipeSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2025-01-26 15:47:36 INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Npipe socket (npipe:////./pipe/docker_engine)
2025-01-26 15:47:36 INFO  o.testcontainers.DockerClientFactory - Docker host IP address is localhost
2025-01-26 15:47:36 INFO  o.testcontainers.DockerClientFactory - Connected to docker: 
  Server Version: 27.3.1
  API Version: 1.47
  Operating System: Docker Desktop
  Total Memory: 7784 MB
  Labels: 
    com.docker.desktop.address=npipe://\\.\pipe\docker_cli
2025-01-26 15:47:37 INFO  tc.testcontainers/ryuk:0.11.0 - Creating container for image: testcontainers/ryuk:0.11.0
2025-01-26 15:47:37 INFO  tc.testcontainers/ryuk:0.11.0 - Container testcontainers/ryuk:0.11.0 is starting: e78973a2fab8a593528a2919fdfaaac11ea6b8d39cbb09893660034812f4a49f
2025-01-26 15:47:38 INFO  tc.testcontainers/ryuk:0.11.0 - Container testcontainers/ryuk:0.11.0 started in PT1.6284837S
2025-01-26 15:47:38 INFO  o.t.utility.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2025-01-26 15:47:38 INFO  o.testcontainers.DockerClientFactory - Checking the system...
2025-01-26 15:47:38 INFO  o.testcontainers.DockerClientFactory - ✔︎ Docker server version should be at least 1.6.0
2025-01-26 15:47:38 INFO  tc.postgres:13 - Creating container for image: postgres:13
2025-01-26 15:47:39 INFO  tc.postgres:13 - Container postgres:13 is starting: c3c15fac653f30b471e816f22f3f42e024976675898b2bea072dd1c958078762
2025-01-26 15:47:41 INFO  tc.postgres:13 - Container postgres:13 started in PT2.6244356S
2025-01-26 15:47:41 INFO  tc.postgres:13 - Container is started (JDBC URL: jdbc:postgresql://localhost:63793/test_db?loggerLevel=OFF)
2025-01-26 15:47:41 INFO  o.example.migration.MigrationManager - Migration table created or already exists.
2025-01-26 15:47:41 INFO  o.example.migration.MigrationManager - Found 4 migration files.
2025-01-26 15:47:41 INFO  o.example.migration.MigrationManager - Migration already applied: version 1, file V1__initial_schema.sql
2025-01-26 15:47:41 INFO  o.example.migration.MigrationManager - Migration already applied: version 2, file V2__add_constraints.sql
2025-01-26 15:47:41 INFO  o.example.migration.MigrationManager - Migration table created or already exists.
2025-01-26 15:47:41 INFO  o.example.migration.MigrationManager - No migrations to rollback after 2025-01-26T15:47:41.422625200
2025-01-26 15:47:41 INFO  o.example.migration.MigrationManager - Migration table created or already exists.
2025-01-26 15:47:41 INFO  o.example.migration.MigrationManager - Found 4 migration files.
2025-01-26 15:47:41 INFO  o.example.migration.MigrationManager - Migration already applied: version 1, file V1__initial_schema.sql
2025-01-26 15:47:41 INFO  o.example.migration.MigrationManager - Migration already applied: version 2, file V2__add_constraints.sql
2025-01-26 15:47:43 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (1, 'Test Name')
2025-01-26 15:47:43 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 15:47:43 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 15:47:43 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (2, 'New Test Name')
2025-01-26 15:47:43 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 15:47:43 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 15:47:43 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (1, 'Test Name')
2025-01-26 15:47:43 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 15:47:43 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 15:47:43 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: INSERT INTO test_table (id, name) VALUES (1, 'Another Test Name')
2025-01-26 15:47:43 ERROR migrations.MigrationScriptExecutor - Error executing migration: Нарушение уникального индекса или первичного ключа: "PRIMARY KEY ON PUBLIC.TEST_TABLE(ID) ( /* key:1 */ 1, 'Test Name')"
Unique index or primary key violation: "PRIMARY KEY ON PUBLIC.TEST_TABLE(ID) ( /* key:1 */ 1, 'Test Name')"; SQL statement:
INSERT INTO test_table (id, name) VALUES (1, 'Another Test Name') [23505-214]
2025-01-26 15:47:43 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 15:47:43 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: CREATE TABLE test(id INT)
2025-01-26 15:47:43 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 15:47:43 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 15:47:43 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: CREATE TABLE test(id INT)
2025-01-26 15:47:43 INFO  migrations.MigrationScriptExecutor - Migration executed successfully.
2025-01-26 15:47:43 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 15:47:43 INFO  migrations.MigrationScriptExecutor - Starting migration with SQL: CREATE TABLE test(id INT)
2025-01-26 15:47:43 ERROR migrations.MigrationScriptExecutor - Error executing migration: null
2025-01-26 15:47:43 INFO  migrations.MigrationScriptExecutor - Autocommit restored to its original state.
2025-01-26 15:47:43 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM test_table
2025-01-26 15:47:43 INFO  migrations.MigrationValidator - SQL syntax is valid.
2025-01-26 15:47:43 WARN  migrations.MigrationValidator - Destructive operation detected in SQL: DROP TABLE test_table
2025-01-26 15:47:43 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM non_existing_table
2025-01-26 15:47:43 ERROR migrations.MigrationValidator - SQL syntax is invalid: Syntax error
2025-01-26 15:47:43 INFO  migrations.MigrationValidator - SQL is safe for execution.
2025-01-26 15:47:43 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM test_table
2025-01-26 15:47:43 INFO  migrations.MigrationValidator - SQL syntax is valid.
2025-01-26 15:47:43 WARN  migrations.MigrationValidator - Destructive operation detected in SQL: DROP TABLE test_table
2025-01-26 15:47:43 INFO  migrations.MigrationValidator - Validating SQL syntax: SELECT * FROM non_existing_table
2025-01-26 15:47:43 ERROR migrations.MigrationValidator - SQL syntax is invalid: Syntax error
2025-01-26 15:47:43 INFO  migrations.MigrationValidator - SQL is safe for execution.
